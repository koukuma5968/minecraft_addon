{"version":3,"sources":["../../scripts/kimetu_script.ts","../../scripts/item/weapon/nichirintou/NichirintouComponent.ts","../../scripts/kokyu/kata/MizuNoKata.ts","../../scripts/common/KimetuCommonUtil.ts","../../scripts/kokyu/kata/KataComonClass.ts","../../scripts/common/KimetuItemDurabilityDamage.ts","../../scripts/common/ShooterEvent.ts","../../scripts/kokyu/kata/NomalAttack.ts","../../scripts/kokyu/player/character/KokyuGiyuComponent.ts","../../scripts/kokyu/kata/HanaNoKata.ts","../../scripts/kokyu/player/character/KokyuKanawoComponent.ts","../../scripts/kokyu/kata/KoiNoKata.ts","../../scripts/kokyu/player/character/KokyuMituriComponent.ts","../../scripts/kokyu/kata/HonoNoKata.ts","../../scripts/kokyu/player/character/KokyuKyouzyuroComponent.ts","../../scripts/kokyu/kata/KazeNoKata.ts","../../scripts/kokyu/player/character/KokyuSanemiComponent.ts","../../scripts/kokyu/kata/MushiNoKata.ts","../../scripts/kokyu/player/character/KokyuShinobuComponent.ts","../../scripts/kokyu/player/character/KokyuTanjiroComponent.ts","../../scripts/kokyu/kata/HiNoKata.ts","../../scripts/kokyu/player/character/KokyuZenituComponent.ts","../../scripts/kokyu/kata/KaminariNoKata.ts","../../scripts/kokyu/NichirintouChoiceComponent.ts","../../scripts/kokyu/kata/HebiNoKata.ts","../../scripts/kokyu/player/regimental/KokyuHebiComponent.ts","../../scripts/kokyu/player/regimental/KokyuHiComponent.ts","../../scripts/kokyu/player/regimental/KokyuHonoComponent.ts","../../scripts/kokyu/kata/IwaNoKata.ts","../../scripts/kokyu/player/regimental/KokyuIwaComponent.ts","../../scripts/kokyu/player/regimental/KokyuKaminariComponent.ts","../../scripts/kokyu/kata/KasumiNoKata.ts","../../scripts/kokyu/player/regimental/KokyuKasumiComponent.ts","../../scripts/kokyu/player/regimental/KokyuKazeComponent.ts","../../scripts/kokyu/player/regimental/KokyuMizuComponent.ts","../../scripts/kokyu/player/regimental/KokyuMushiComponent.ts","../../scripts/kokyu/kata/OtoNoKata.ts","../../scripts/kokyu/player/regimental/KokyuOtoComponent.ts","../../scripts/kokyu/player/character/KokyuMuitiroComponent.ts","../../scripts/kokyu/player/character/KokyuObanaiComponent.ts","../../scripts/kokyu/player/regimental/KokyuKoiComponent.ts","../../scripts/kokyu/kata/KedamonoNoKata.ts","../../scripts/kokyu/player/regimental/KokyuKedamonoComponent.ts","../../scripts/kokyu/player/character/KokyuGyoumeiComponent.ts","../../scripts/kokyu/player/character/KokyuInosukeComponent.ts","../../scripts/kokyu/player/character/KokyuTengenComponent.ts","../../scripts/kokyu/player/regimental/KokyuHanaComponent.ts","../../scripts/kokyu/kata/TukiNoKata.ts","../../scripts/kokyu/player/regimental/KokyuTukiComponent.ts","../../scripts/kokyu/mob/character/TanjiroComponent.ts","../../scripts/kokyu/mob/character/GiyuComponent.ts","../../scripts/kokyu/mob/character/ZenituComponent.ts","../../scripts/kokyu/mob/character/InosukeComponent.ts","../../scripts/kokyu/mob/character/KanawoComponent.ts","../../scripts/kokyu/mob/character/ShinobuComponent.ts","../../scripts/kokyu/mob/character/KyouzyuroComponent.ts","../../scripts/kokyu/mob/character/TengenComponent.ts","../../scripts/kokyu/mob/character/ObanaiComponent.ts","../../scripts/kokyu/mob/character/SanemiComponent.ts","../../scripts/kokyu/mob/character/MituriComponent.ts","../../scripts/kokyu/mob/character/MuitiroComponent.ts","../../scripts/kokyu/mob/character/GyoumeiComponent.ts","../../scripts/kokyu/mob/regimental/MizuComponent.ts","../../scripts/kokyu/mob/regimental/HiComponent.ts","../../scripts/kokyu/mob/regimental/KaminariComponent.ts","../../scripts/kokyu/mob/regimental/HanaComponent.ts","../../scripts/kokyu/mob/regimental/HebiComponent.ts","../../scripts/kokyu/mob/regimental/HonoComponent.ts","../../scripts/kokyu/mob/regimental/IwaComponent.ts","../../scripts/kokyu/mob/regimental/KasumiComponent.ts","../../scripts/kokyu/mob/regimental/KazeComponent.ts","../../scripts/kokyu/mob/regimental/KoiComponent.ts","../../scripts/kokyu/mob/regimental/MushiComponent.ts","../../scripts/kokyu/mob/regimental/OtoComponent.ts","../../scripts/kokyu/mob/regimental/TukiComponent.ts","../../scripts/kokyu/mob/regimental/KedamonoComponent.ts","../../scripts/item/weapon/NichirintouTypes.ts","../../scripts/item/tool/BloodDrinking.ts","../../scripts/item/tool/OgreEatCommon.ts","../../scripts/common/KimetuConst.ts","../../scripts/item/weapon/kekkizyutu/KekkizyutuComponent.ts","../../scripts/kekkizyutu/zyutu/Bunretu.ts","../../scripts/kekkizyutu/zyutu/ZytuComonClass.ts","../../scripts/kekkizyutu/player/character/ZyutuAizetuComponent.ts","../../scripts/kekkizyutu/zyutu/Hakaisatu.ts","../../scripts/kekkizyutu/player/character/ZyutuAkazaComponent.ts","../../scripts/kekkizyutu/zyutu/Obi.ts","../../scripts/kekkizyutu/player/character/ZyutuDakiComponent.ts","../../scripts/kekkizyutu/zyutu/Tigama.ts","../../scripts/kekkizyutu/player/character/ZyutuGyutaroComponent.ts","../../scripts/kekkizyutu/player/character/ZyutuKarakuComponent.ts","../../scripts/kekkizyutu/zyutu/Bakketu.ts","../../scripts/kekkizyutu/player/character/ZyutuNezukoComponent.ts","../../scripts/kekkizyutu/zyutu/Koushi.ts","../../scripts/kekkizyutu/player/character/ZyutuRuiComponent.ts","../../scripts/kekkizyutu/player/character/ZyutuSekidoComponent.ts","../../scripts/kekkizyutu/player/character/ZyutuUrogiComponent.ts","../../scripts/kekkizyutu/player/character/ZyutuZouhakutenComponent.ts","../../scripts/kekkizyutu/mob/TokageComponent.ts","../../scripts/kekkizyutu/mob/DakiComponent.ts","../../scripts/kekkizyutu/mob/GyutaroComponent.ts","../../scripts/kekkizyutu/mob/RuiComponent.ts","../../scripts/kekkizyutu/mob/NezukoComponent.ts","../../scripts/kekkizyutu/mob/AkazaComponent.ts","../../scripts/kekkizyutu/mob/AizetuComponent.ts","../../scripts/kekkizyutu/mob/KarakuComponent.ts","../../scripts/kekkizyutu/mob/SekidoComponent.ts","../../scripts/kekkizyutu/mob/UrogiComponent.ts","../../scripts/kekkizyutu/mob/ZouhakutenComponent.ts","../../scripts/kekkizyutu/mob/KokushibouComponent.ts","../../scripts/kekkizyutu/zyutu/TukiNoKataZyutu.ts","../../scripts/kekkizyutu/player/character/ZyutuKokushibouComponent.ts","../../scripts/kekkizyutu/zyutu/Kokurai.ts","../../scripts/kekkizyutu/player/character/ZyutuKaigakuComponent.ts","../../scripts/kekkizyutu/zyutu/Koori.ts","../../scripts/kekkizyutu/player/character/ZyutuDoumaComponent.ts","../../scripts/kekkizyutu/mob/DoumaComponent.ts","../../scripts/kekkizyutu/mob/KessyounomikoComponent.ts","../../scripts/kekkizyutu/mob/MuhyousuirenbosatuComponent.ts","../../scripts/kekkizyutu/zyutu/Tubo.ts","../../scripts/kekkizyutu/player/character/ZyutuGyokkoComponent.ts","../../scripts/kekkizyutu/mob/GyokkoComponent.ts","../../scripts/item/weapon/KekkizyutuTypes.ts","../../scripts/item/tool/MeatEating.ts","../../scripts/item/tool/DemonizationReversal.ts","../../scripts/custom/KimetuCustomComponentRegistry.ts","../../scripts/player/KimetuEquipmentTick.ts","../../scripts/player/RaisingStatusCheckClass.ts"],"sourcesContent":["import { world,system, EquipmentSlot, Player, EntityComponentTypes, EntityEquippableComponent, ItemStack, EntityTypeFamilyComponent, \r\n  ScriptEventSource, Entity, EntityInitializationCause, EntityHealthComponent, EntityDamageCause, \r\n  EntityInventoryComponent} from \"@minecraft/server\";\r\nimport { initRegisterKimetuCustom } from \"./custom/KimetuCustomComponentRegistry\";\r\nimport { kokyuClassRecord, KokyuMobClassRecord, KokyuMobObject, KokyuMobObjects, KokyuObject, KokyuObjects } from \"./item/weapon/NichirintouTypes\";\r\nimport { KimetuEquipmentTick } from \"./player/KimetuEquipmentTick\";\r\nimport { RaisingStatusCheckClass } from \"./player/RaisingStatusCheckClass\";\r\nimport { KekkizyutuClassRecord, KekkizyutuMobClassRecord, KekkizyutuMobObject, KekkizyutuMobObjects, KekkizyutuObject, KekkizyutuObjects } from \"./item/weapon/KekkizyutuTypes\";\r\nimport { getLookLocationDistance, getRandomInRange, isBelowThreshold, weightChoice } from \"./common/KimetuCommonUtil\";\r\nimport { ibuki } from \"./kekkizyutu/zyutu/Koori\";\r\nimport { kekkizyutuLists, NitirintouEquips, OgreKaikyu, ogrePointList, TaishiKaikyu } from \"./common/KimetuConst\";\r\nimport { gyokkoMove } from \"./kekkizyutu/zyutu/Tubo\";\r\nimport { ActionFormData, ActionFormResponse } from \"@minecraft/server-ui\";\r\nimport { ItemDurabilityDamage, subtractionItem } from \"./common/KimetuItemDurabilityDamage\";\r\n\r\n// ワールド接続時\r\nsystem.beforeEvents.startup.subscribe(initEvent => {\r\n  initRegisterKimetuCustom(initEvent);\r\n});\r\nworld.beforeEvents.playerLeave.subscribe(leaveEvent => {\r\n  leaveEvent.player.clearDynamicProperties();\r\n});\r\nworld.afterEvents.playerSpawn.subscribe(event => {\r\n  if (event.initialSpawn) {\r\n    event.player.setProperty(\"kurokumaft:kokyu_use\", false);\r\n    event.player.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n    event.player.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    event.player.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n    event.player.setProperty(\"kurokumaft:kokyu_ran\", 0);\r\n    event.player.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n  }\r\n  const familyTypes = event.player.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n  if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"ogre\")) {\r\n    event.player.triggerEvent(\"kurokumaft:player_spawned_ogre\");\r\n  } else if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"regimental_player\")) {\r\n    event.player.triggerEvent(\"kurokumaft:player_spawned_regimental\");\r\n  } else {\r\n    event.player.triggerEvent(\"kurokumaft:player_spawned_init\");\r\n  }\r\n  event.player.removeTag(\"hostility_player\");\r\n  const playerTick = new KimetuEquipmentTick(event.player);\r\n  playerTick.startMonitoring();\r\n\r\n});\r\n\r\nworld.afterEvents.dataDrivenEntityTrigger.subscribe(event => {\r\n  const entity = event.entity;\r\n  if (entity instanceof Player) {\r\n    if (event.eventId === \"kurokumaft:attack_time\") {\r\n      entity.setDynamicProperty(\"kurokumaft:attack_time\", true);\r\n      entity.triggerEvent(\"kurokumaft:remove_damage_guard\");\r\n      system.runTimeout(() => {\r\n        entity.setDynamicProperty(\"kurokumaft:attack_time\", false);\r\n      },20);\r\n      // const nichirintou = entity.getProperty(\"kurokumaft:nichirintou_type\") as number;\r\n      // if (nichirintou > 1) {\r\n      const equ = entity.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n      const mainHand = equ.getEquipment(EquipmentSlot.Mainhand);\r\n      if (mainHand !== undefined) {\r\n        const object = KokyuObjects.find(ob => ob.itemName === mainHand.typeId) as KokyuObject;\r\n        if (object !== undefined && object.type > 0 && !entity.getProperty(\"kurokumaft:kokyu_attack\")) {\r\n          entity.setProperty(\"kurokumaft:kokyu_attack\", true);\r\n          system.runTimeout(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n          },3);\r\n          const kokyuClass = kokyuClassRecord[object.className];\r\n          const kokyuObject = new kokyuClass();\r\n\r\n          kokyuObject.hitAttackKata(entity, mainHand);\r\n        } else {\r\n          if (mainHand.typeId === \"kurokumaft:kyokokukamusari\" || mainHand.typeId === \"kurokumaft:nichirintou_kaigaku\") {\r\n            entity.setProperty(\"kurokumaft:kokyu_attack\", true);\r\n            system.runTimeout(() => {\r\n              entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n            },3);\r\n            const kekkizyutuObject = KekkizyutuObjects.find(ob => ob.itemName === mainHand.typeId) as KekkizyutuObject;\r\n            const kekkizyutuClass = KekkizyutuClassRecord[kekkizyutuObject.className];\r\n            const kekkizyutu = new kekkizyutuClass();\r\n\r\n            kekkizyutu.hitAttackZyutu(entity);\r\n          }\r\n        }\r\n      }\r\n    } else if (event.eventId === \"kurokumaft:damaged_by_player\") {\r\n      entity.applyDamage(0, {\r\n        cause: EntityDamageCause.entityAttack,\r\n        damagingEntity: entity\r\n      });\r\n    } else if (event.eventId === \"kurokumaft:damage_guard\") {\r\n      entity.playSound(\"damage_guard.nitirintou_blocking\", {\r\n          pitch: 1,\r\n          volume: 1\r\n      });\r\n      const equ = entity.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n      const mainHand = equ.getEquipment(EquipmentSlot.Mainhand);\r\n      if (mainHand !== undefined) {\r\n        ItemDurabilityDamage(entity, mainHand);\r\n      }\r\n    }\r\n  } else {\r\n    if (event.eventId === \"kurokumaft:kokyu_start\") {\r\n      if (entity.typeId.indexOf(\"kurokumaft:regimental\") !== -1) {\r\n        const nichirintoutype = entity.getProperty(\"kurokumaft:nichirintou_type\") as number;\r\n        if (nichirintoutype !== undefined) {\r\n          const kokyuObject = KokyuObjects.find(ob => ob.type === nichirintoutype) as KokyuObject;\r\n          if (kokyuObject !== undefined) {\r\n            const katana = KokyuMobObjects.find(ob => ob.entityName === kokyuObject.itemName) as KokyuMobObject;\r\n            if (katana !== undefined) {\r\n              const KokyuClass = KokyuMobClassRecord[katana.className];\r\n              const KokyuObject = new KokyuClass();\r\n              KokyuObject.startMonitoring(entity);\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        const taishi = KokyuMobObjects.find(ob => ob.entityName === entity.typeId) as KokyuMobObject;\r\n        if (taishi !== undefined) {\r\n          const KokyuClass = KokyuMobClassRecord[taishi.className];\r\n          const KokyuObject = new KokyuClass();\r\n          KokyuObject.startMonitoring(entity);\r\n        }\r\n      }\r\n    } else if (event.eventId === \"kurokumaft:kekkizyutu_start\") {\r\n      const ogre = KekkizyutuMobObjects.find(ob => ob.entityName === entity.typeId) as KekkizyutuMobObject;\r\n      if (ogre !== undefined) {\r\n        const kekkizyutuClass = KekkizyutuMobClassRecord[ogre.className];\r\n        const kekkizyutuObject = new kekkizyutuClass(entity);\r\n        kekkizyutuObject.startMonitoring(entity);\r\n      }\r\n    } else if (event.eventId === \"kurokumaft:ibuki_start\") {\r\n      ibuki(entity);\r\n    } else if (event.eventId === \"kurokumaft:gyokko_move\") {\r\n      gyokkoMove(entity);\r\n    } else if (event.eventId === \"kurokumaft:attack_time\") {\r\n      entity.setProperty(\"kurokumaft:kokyu_attack\", true);\r\n      system.runTimeout(() => {\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n      },10);\r\n\r\n      if (entity.typeId.indexOf(\"kurokumaft:regimental\") !== -1) {\r\n        const nichirintoutype = entity.getProperty(\"kurokumaft:nichirintou_type\") as number;\r\n        if (nichirintoutype !== undefined) {\r\n          const kokyuObject = KokyuObjects.find(ob => ob.type === nichirintoutype) as KokyuObject;\r\n          if (kokyuObject !== undefined) {\r\n            const katana = KokyuMobObjects.find(ob => ob.entityName === kokyuObject.itemName) as KokyuMobObject;\r\n            if (katana !== undefined) {\r\n              const KokyuClass = KokyuMobClassRecord[katana.className];\r\n              const KokyuObject = new KokyuClass();\r\n              KokyuObject.hitAttackKata(entity);\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        const taishi = KokyuMobObjects.find(ob => ob.entityName === entity.typeId) as KokyuMobObject;\r\n        if (taishi !== undefined) {\r\n          const KokyuClass = KokyuMobClassRecord[taishi.className];\r\n          const KokyuObject = new KokyuClass();\r\n          KokyuObject.hitAttackKata(entity);\r\n        }\r\n        const ogre = KekkizyutuMobObjects.find(ob => ob.entityName === entity.typeId) as KekkizyutuMobObject;\r\n        if (ogre !== undefined) {\r\n          const kekkizyutuClass = KekkizyutuMobClassRecord[ogre.className];\r\n          const kekkizyutuObject = new kekkizyutuClass(entity);\r\n          kekkizyutuObject.hitAttackZyutu(entity);\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  if (event.eventId === \"kurokumaft:sun_fire\") {\r\n    sunLightFire(entity);\r\n  }\r\n});\r\n\r\nasync function sunLightFire(entity:Entity) {\r\n    entity.setOnFire(1, true);\r\n}\r\n\r\nworld.afterEvents.itemStopUse.subscribe(event => {\r\n  const source = event.source as Entity;\r\n  const item = event.itemStack as ItemStack;\r\n  if (source instanceof Player && item !== undefined) {\r\n    const use = source.getProperty(\"kurokumaft:kokyu_use\");\r\n    const equippable = source.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n    const mainHand = equippable.getEquipment(EquipmentSlot.Mainhand);\r\n    if ((mainHand === undefined || mainHand.typeId !== item.typeId) && use) {\r\n      source.setProperty(\"kurokumaft:kokyu_use\", false);\r\n      source.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n      source.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n      source.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n      source.setProperty(\"kurokumaft:kokyu_ran\", 0);\r\n      source.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n\r\n    }\r\n  }\r\n});\r\n\r\n// アイテム右クリックリリース後\r\nworld.afterEvents.itemReleaseUse.subscribe(event => {\r\n  const player = event.source;\r\n  const item = event.itemStack;\r\n  const duration = event.useDuration;\r\n  const nichirintou = player.getProperty(\"kurokumaft:nichirintou_type\");\r\n  if (item !== undefined && nichirintou !== undefined && nichirintou !== 0) {\r\n    if (player.getProperty(\"kurokumaft:kokyu_use\")) {\r\n      const object = KokyuObjects.find(ob => ob.type === nichirintou) as KokyuObject;\r\n      const kokyuClass = kokyuClassRecord[object.className];\r\n      const kokyuObject = new kokyuClass();\r\n      kokyuObject.releaseAttackKata(player, item, duration);\r\n    }\r\n  }\r\n  const kekkizyutu = player.getProperty(\"kurokumaft:kekkizyutu_type\");\r\n  if (item !== undefined && kekkizyutu !== undefined && kekkizyutu !== 0) {\r\n    if (player.getProperty(\"kurokumaft:kokyu_use\")) {\r\n      const object = KekkizyutuObjects.find(ob => ob.type === kekkizyutu) as KekkizyutuObject;\r\n      const kekkizyutuClass = KekkizyutuClassRecord[object.className];\r\n      const kekkizyutuObject = new kekkizyutuClass();\r\n      kekkizyutuObject.releaseAttackZyutu(player);\r\n    }\r\n  }\r\n\r\n});\r\n\r\n// world.afterEvents.entityLoad.subscribe(event => {\r\n// });\r\nconst ogreRankLists = weightChoice([\r\n    { item: 'low' , weight: 30 },\r\n    { item: 'unusual' , weight: 20 },\r\n    { item: 'quarter' , weight: 20 },\r\n    { item: 'crescent' , weight: 20 }\r\n]);\r\n\r\nworld.afterEvents.entitySpawn.subscribe(event => {\r\n  const entity = event.entity as Entity;\r\n  try {\r\n    if (entity !== undefined) {\r\n      const taishibject = TaishiKaikyu.find(taishi => taishi.name === entity.typeId);\r\n      if (taishibject !== undefined && event.cause === EntityInitializationCause.Spawned) {\r\n        const kaikyuRan = getRandomInRange(taishibject.min, taishibject.max);\r\n        entity.setProperty(\"kurokumaft:kaikyu\", kaikyuRan);\r\n        system.waitTicks(4).then(() => {\r\n          entity.triggerEvent(\"kurokumaft:kaikyu_change\");\r\n          const health = entity.getComponent(EntityComponentTypes.Health) as EntityHealthComponent;\r\n          health.resetToMaxValue();\r\n        }).catch((error: any) => {\r\n        });\r\n      }\r\n      const ogre_rank = entity.getProperty(\"kurokumaft:ogre_rank\") as string;\r\n      if (event.cause === EntityInitializationCause.Spawned) {\r\n        if (entity.typeId === \"kurokumaft:nezuko\") {\r\n          const rankRan = ogreRankLists.pick();\r\n          entity.setProperty(\"kurokumaft:ogre_rank\", rankRan);\r\n          if (ogre_rank === \"quarter\" || ogre_rank === \"crescent\") {\r\n            entity.setProperty(\"kurokumaft:ogre_moon\", getRandomInRange(1, 6));\r\n          }\r\n          system.waitTicks(4).then(() => {\r\n            entity.triggerEvent(\"kurokumaft:ogre_rank_change\");\r\n          }).catch((error: any) => {\r\n          });\r\n        } else if (entity.typeId === \"kurokumaft:ogre\") {\r\n          entity.setProperty(\"kurokumaft:ogre_rank\", \"low\");\r\n          entity.setProperty(\"kurokumaft:ogre_point\", getRandomInRange(10, 60));\r\n        } else {\r\n          const ogreObject = OgreKaikyu.find(ogre => ogre.name === entity.typeId);\r\n          if (ogreObject !== undefined) {\r\n            entity.setProperty(\"kurokumaft:ogre_rank\", ogreObject.rank);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } catch (error: any) {\r\n  }\r\n});\r\n\r\n// world.afterEvents.entityRemove.subscribe(event => {\r\n\r\n//   const entityId = event.typeId;\r\n\r\n//   const object = KekkizyutuMobObjects.find(ob => ob.entityName === entityId) as KekkizyutuMobObject;\r\n//   if (object !== undefined) {\r\n//     const kekkizyutuClass = KekkizyutuMobClassRecord[object.className];\r\n//     const kekkizyutuObject = new kekkizyutuClass(entity);\r\n//     kekkizyutuObject.startMonitoring();\r\n//   }\r\n\r\n// });\r\n\r\nconst raishinStastsCheck = new RaisingStatusCheckClass();\r\nworld.afterEvents.entityDie.subscribe(event => {\r\n  const deadEntity = event.deadEntity;\r\n  if (!deadEntity.isValid) {\r\n    return;\r\n  }\r\n  const familyTypes = deadEntity.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n  if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"ogre\")) {\r\n    const damager = event.damageSource.damagingEntity;\r\n    if (damager !== undefined) {\r\n      const dfamilyTypes = damager.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n      if (dfamilyTypes !== undefined && dfamilyTypes.hasTypeFamily(\"player\") && !dfamilyTypes.hasTypeFamily(\"ogre\")) {\r\n        raishinStastsCheck.statusCheck(damager as Player, deadEntity);\r\n      }\r\n    }\r\n  // 稽古中の隊士を倒す\r\n  } else if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"regimental_soldier\")) {\r\n    const tags = deadEntity.getTags();\r\n    if (tags.indexOf(\"hostility\") !== -1) {\r\n      const equips = NitirintouEquips.find(soldier => soldier.charaName === deadEntity.typeId);\r\n      if (equips !== undefined) {\r\n        deadEntity.dimension.spawnItem(new ItemStack(equips.itemName, 1), deadEntity.location);\r\n      }\r\n      const damager = event.damageSource.damagingEntity;\r\n      if (damager?.isValid) {\r\n        damager.removeTag(\"hostility_player\");\r\n      }\r\n    }\r\n  // 稽古中に倒される\r\n  } else if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"player\")) {\r\n    const tags = deadEntity.getTags();\r\n    if (tags.indexOf(\"hostility_player\") !== -1) {\r\n      const damager = event.damageSource.damagingEntity;\r\n      if (damager !== undefined) {\r\n        damager.removeTag(\"hostility\");\r\n      }\r\n    }\r\n  // 村人が鬼に倒されたら肉を落とす\r\n  } else if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"villager\")) {\r\n    const damager = event.damageSource.damagingEntity;\r\n    if (damager !== undefined) {\r\n      const dfamilyTypes = damager.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n      if (dfamilyTypes !== undefined && dfamilyTypes.hasTypeFamily(\"ogre\")) {\r\n        const dimension = deadEntity.dimension;\r\n        dimension.spawnItem(new ItemStack(\"kurokumaft:meat_chunk\", getRandomInRange(1, 2)), deadEntity.location);\r\n        const rare = getRandomInRange(0, 10);\r\n        if (rare === 10) {\r\n          dimension.spawnItem(new ItemStack(\"kurokumaft:rare_blood\", getRandomInRange(1, 2)), deadEntity.location);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if (deadEntity.typeId === \"kurokumaft:hantengu\") {\r\n    const dimension = deadEntity.dimension;\r\n    const obie = dimension.spawnEntity(\"kurokumaft:hantengu_obie\", deadEntity.location);\r\n    obie.addTag(deadEntity.id);\r\n    const sekido = dimension.spawnEntity(\"kurokumaft:sekido\", deadEntity.location);\r\n    sekido.addTag(deadEntity.id);\r\n    const karaku = dimension.spawnEntity(\"kurokumaft:karaku\", deadEntity.location);\r\n    karaku.addTag(deadEntity.id);\r\n  }\r\n});\r\n\r\nworld.afterEvents.entityHitEntity.subscribe(event => {\r\n  const damagingEntity = event.damagingEntity;\r\n  const hitEntity = event.hitEntity;\r\n  if (!hitEntity.isValid) {\r\n    return;\r\n  }\r\n  const damageFamilyTypes = damagingEntity.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n  const hitFamilyTypes = hitEntity.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n  // if (hitFamilyTypes !== undefined && hitFamilyTypes.hasTypeFamily(\"regimental_soldier\") && damageFamilyTypes.hasTypeFamily(\"player\")) {\r\n  //   hitEntity.addTag(\"hostility\");\r\n  //   damagingEntity.addTag(\"hostility_player\");\r\n  // } else if (hitFamilyTypes !== undefined && hitFamilyTypes.hasTypeFamily(\"player\") && damageFamilyTypes.hasTypeFamily(\"player\")) {\r\n  //   hitEntity.addTag(\"hostility_player\");\r\n  //   damagingEntity.addTag(\"hostility_player\");\r\n  // }\r\n  if (hitFamilyTypes !== undefined && hitFamilyTypes.hasTypeFamily(\"ogre\")) {\r\n    const type = damagingEntity.getProperty(\"kurokumaft:nichirintou_type\");\r\n    if (type === undefined || type === 0) {\r\n      const distance = getLookLocationDistance(damagingEntity.getRotation().y, 1.25, 0, 0.5);\r\n      hitEntity.applyKnockback({x:distance.x, z:distance.z}, 0.25);\r\n    }\r\n  }\r\n});\r\n\r\nworld.afterEvents.entityHurt.subscribe(event => {\r\n  const hurtEntity = event.hurtEntity;\r\n  if (!hurtEntity.isValid) {\r\n    return;\r\n  }\r\n  const ogre_rank = hurtEntity.getProperty(\"kurokumaft:ogre_rank\") as string;\r\n  if (ogre_rank !== undefined && ogre_rank !== \"none\") {\r\n    const sun_hurt = hurtEntity.getProperty(\"kurokumaft:sun_hurt\") as boolean;\r\n    if (!sun_hurt) {\r\n      const rank = ogrePointList.find(list => list.name === ogre_rank);\r\n      event.hurtEntity.addEffect(\"minecraft:regeneration\", rank?.regeneTime!, {\r\n        amplifier: rank?.regene,\r\n        showParticles: false\r\n      });\r\n    } else {\r\n      event.hurtEntity.removeEffect(\"minecraft:regeneration\");\r\n    }\r\n  }\r\n    \r\n  const health = hurtEntity.getComponent(EntityComponentTypes.Health) as EntityHealthComponent;\r\n  if (!hurtEntity.getProperty(\"kurokumaft:bunretu_flg\") as boolean) {\r\n    if (isBelowThreshold(health.currentValue, health.defaultValue, 0.7)) {\r\n      if (hurtEntity.typeId === \"kurokumaft:sekido\") {\r\n        hurtEntity.addTag(\"bunretu_1\");\r\n        hurtEntity.setProperty(\"kurokumaft:bunretu_flg\", true);\r\n        const aizetu = hurtEntity.dimension.spawnEntity(\"kurokumaft:aizetu\", hurtEntity.location);\r\n        aizetu.addTag(hurtEntity.getTags()[0]);\r\n        aizetu.addTag(\"bunretu_1\");\r\n        aizetu.setProperty(\"kurokumaft:bunretu_flg\", true);\r\n      } else if (hurtEntity.typeId === \"kurokumaft:karaku\") {\r\n        hurtEntity.addTag(\"bunretu_1\");\r\n        hurtEntity.setProperty(\"kurokumaft:bunretu_flg\", true);\r\n        const urogi = hurtEntity.dimension.spawnEntity(\"kurokumaft:urogi\", hurtEntity.location);\r\n        urogi.addTag(hurtEntity.getTags()[0]);\r\n        urogi.addTag(\"bunretu_1\");\r\n        urogi.setProperty(\"kurokumaft:bunretu_flg\", true);\r\n      }\r\n    }\r\n  }\r\n  if (hurtEntity.typeId === \"kurokumaft:sekido\"\r\n     || hurtEntity.typeId === \"kurokumaft:karaku\"\r\n     || hurtEntity.typeId === \"kurokumaft:aizetu\"\r\n     || hurtEntity.typeId === \"kurokumaft:urogi\"\r\n  ) {\r\n    if (hurtEntity.getProperty(\"kurokumaft:bunretu_flg\") as boolean && isBelowThreshold(health.currentValue, health.defaultValue, 0.3)) {\r\n      const bunretutai = hurtEntity.dimension.getEntities({\r\n        tags: [hurtEntity.getTags()[0]],\r\n        maxDistance: 64,\r\n        location: hurtEntity.location\r\n      });\r\n      hurtEntity.dimension.spawnEntity(\"kurokumaft:zouhakuten\", hurtEntity.location);\r\n      bunretutai.forEach(en => {\r\n        if (en.typeId !== \"kurokumaft:hantengu_obie\") {\r\n          en.remove();\r\n        }\r\n      });\r\n    }\r\n  }\r\n});\r\n\r\nworld.afterEvents.projectileHitEntity.subscribe(event => {\r\n  const projectile = event.projectile as Entity;\r\n  const hitEntity = event.getEntityHit().entity;\r\n  if (\"kurokumaft:thrown_syringe_dagger\" === projectile.typeId) {\r\n    if (hitEntity !== undefined) {\r\n      const familyTypes = hitEntity.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n      if (familyTypes.hasTypeFamily(\"ogre\")) {\r\n        const rank = hitEntity.getProperty(\"kurokumaft:ogre_rank\");\r\n        const daggerFull = new ItemStack(\"kurokumaft:syringe_dagger_full\", 1);\r\n        switch (rank) {\r\n          case \"low\" :\r\n            daggerFull.setLore([\"Lv 1\"]);\r\n          break;\r\n          case \"unusual\" :\r\n            daggerFull.setLore([\"Lv 2\"]);\r\n          break;\r\n          case \"quarter\" :\r\n            daggerFull.setLore([\"Lv 3\"]);\r\n          break;\r\n          case \"crescent\" :\r\n            daggerFull.setLore([\"Lv 4\"]);\r\n          break;\r\n          case \"king\" :\r\n            daggerFull.setLore([\"Lv 5\"]);\r\n          break;\r\n        }\r\n        event.dimension.spawnItem(daggerFull, event.location);\r\n      }\r\n    }\r\n  } else if (projectile.isValid && \"kurokumaft:obi\" === projectile.typeId) {\r\n\r\n    try {\r\n      const hitCount = projectile.getDynamicProperty(\"hitCount\") as number;\r\n\r\n      if (hitEntity !== undefined && hitEntity.isValid && hitCount < 5) {\r\n        projectile.setDynamicProperty(\"hitCount\", hitCount + 1);\r\n      } else {\r\n        const num = projectile.getDynamicProperty(\"hormingNum\") as number;\r\n        if (num !== undefined) {\r\n          system.clearRun(num);\r\n          projectile.remove();\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      system.clearRun(projectile.getDynamicProperty(\"hormingNum\") as number);\r\n    }\r\n  } else if (projectile.isValid && \"kurokumaft:tobi_tigama\" === projectile.typeId) {\r\n\r\n    if (hitEntity !== undefined && hitEntity.isValid) {\r\n      hitEntity.addEffect(\"minecraft:poison\", 10, {\r\n        showParticles: false,\r\n        amplifier: 5\r\n      });\r\n    }\r\n  }\r\n\r\n});\r\n\r\nworld.afterEvents.projectileHitBlock.subscribe(event => {\r\n  const projectile = event.projectile as Entity;\r\n  if (\"kurokumaft:thrown_syringe_dagger\" === projectile.typeId) {\r\n    event.dimension.spawnItem(new ItemStack(\"kurokumaft:syringe_dagger\", 1), event.location);\r\n  }\r\n});\r\n\r\nworld.afterEvents.playerInteractWithEntity.subscribe(event => {\r\n  const item = event.itemStack as ItemStack;\r\n  const player = event.player as Player;\r\n  const target = event.target as Entity;\r\n  if (item.typeId === \"kurokumaft:match_wooden_tag\") {\r\n    const familyTypes = target.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n    if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"regimental_soldier\")) {\r\n      const form = new ActionFormData()\r\n        .title({ translate: \"msg.kurokumaft:soldier.keiko.title\"})\r\n        .body({ translate: \"msg.kurokumaft:soldier.keiko.body\"})\r\n        .button({ translate: \"msg.kurokumaft:soldier.keiko.yes\"})\r\n        .button({ translate: \"msg.kurokumaft:soldier.keiko.no\"});\r\n\r\n      form.show(player).then((result: ActionFormResponse) => {\r\n        if (result.canceled) {\r\n          return -1;\r\n        } else {\r\n          if (result.selection === 0) {\r\n            subtractionItem(player, item, EquipmentSlot.Mainhand, 1);\r\n            target.addTag(\"hostility\");\r\n            player.addTag(\"hostility_player\");\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n});\r\n\r\nsystem.afterEvents.scriptEventReceive.subscribe(event => {\r\n  const id = event.id;\r\n  const message = event.message;\r\n  const initiator = event.initiator;\r\n  const sourceEntity = event.sourceEntity;\r\n  const sourceType = event.sourceType;\r\n  if (initiator !== undefined) {\r\n  }\r\n  if (id === \"kk:kaikyuchange\" && sourceType === ScriptEventSource.Entity && sourceEntity instanceof Player) {\r\n    const params = message.split(\" \");\r\n    if (params[0] !== \"set\" && params[0] !== \"add\") {\r\n      sourceEntity.sendMessage({ translate: \"msg.kurokumaft:kaikyu_change.missing_method\"});\r\n      return;\r\n    }\r\n    if (params[0] === \"add\") {\r\n      if (params.length !== 3) {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:kaikyu_change.missing_add_argument\"});\r\n        return;\r\n      }\r\n      if (params[1] !== \"promotion\" && params[1] !== \"demotion\") {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:kaikyu_change.missing_add_type\"});\r\n        return;\r\n      }\r\n      const num = Number(params[2]);\r\n      if (!(!isNaN(num) && Number.isFinite(num))) {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:kaikyu_change.missing_add_num\"});\r\n        return;\r\n      }\r\n    } else if (params[0] === \"set\") {\r\n      if (params.length !== 2) {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:kaikyu_change.missing_set_argument\"});\r\n        return;\r\n      }\r\n      const num = Number(params[1]);\r\n      if (!(!isNaN(num) && Number.isFinite(num))) {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:kaikyu_change.missing_set_num\"});\r\n        return;\r\n      }\r\n    }\r\n\r\n    sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"none\");\r\n    sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 6);\r\n    sourceEntity.setProperty(\"kurokumaft:ogre_becoming\", 0);\r\n\r\n    const kaikyu = sourceEntity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n    const kill = sourceEntity.getProperty(\"kurokumaft:ogre_kill\") as number;\r\n\r\n    if (params[0] === \"add\") {\r\n      const num = Number(params[2]);\r\n      if (params[1] === \"promotion\") {\r\n        let upPoint = kill+num;\r\n        let killtarget=0;\r\n        switch(kaikyu) {\r\n          case 0:\r\n            killtarget=1;\r\n            break;\r\n          case 10:\r\n            killtarget=killtarget+150;\r\n          case 9:\r\n            killtarget=killtarget+90;\r\n          case 8:\r\n            killtarget=killtarget+80;\r\n          case 7:\r\n            killtarget=killtarget+70;\r\n          case 6:\r\n            killtarget=killtarget+60;\r\n          case 5:\r\n            killtarget=killtarget+50;\r\n          case 4:\r\n            killtarget=killtarget+40;\r\n          case 3:\r\n            killtarget=killtarget+30;\r\n          case 2:\r\n            killtarget=killtarget+20;\r\n          case 1:\r\n            killtarget=killtarget+10;\r\n            if (upPoint >= killtarget) {\r\n              sourceEntity.setProperty(\"kurokumaft:kaikyu\", kaikyu+1);\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_kill\", 0);\r\n            } else {\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_kill\", upPoint);\r\n            }\r\n        }\r\n      } else if (params[1] === \"demotion\") {\r\n        let upPoint = kill-num;\r\n        let killtarget=0;\r\n        switch(kaikyu) {\r\n          case 0:\r\n            break;\r\n          case 10:\r\n            killtarget=killtarget+150;\r\n          case 9:\r\n            killtarget=killtarget+90;\r\n          case 8:\r\n            killtarget=killtarget+80;\r\n          case 7:\r\n            killtarget=killtarget+70;\r\n          case 6:\r\n            killtarget=killtarget+60;\r\n          case 5:\r\n            killtarget=killtarget+50;\r\n          case 4:\r\n            killtarget=killtarget+40;\r\n          case 3:\r\n            killtarget=killtarget+30;\r\n          case 2:\r\n            killtarget=killtarget+20;\r\n          case 1:\r\n            killtarget=killtarget+10;\r\n            if (upPoint < 0) {\r\n              sourceEntity.setProperty(\"kurokumaft:kaikyu\", kaikyu-1);\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_kill\", 0);\r\n              sourceEntity.triggerEvent(\"kurokumaft:kaikyu_change\");\r\n            } else {\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_kill\", upPoint);\r\n            }\r\n            break;\r\n          case 11:\r\n            sourceEntity.setProperty(\"kurokumaft:kaikyu\", kaikyu-1);\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_kill\", 1);\r\n            sourceEntity.triggerEvent(\"kurokumaft:kaikyu_change\");\r\n          }\r\n      }\r\n    } else if (params[0] === \"set\") {\r\n      sourceEntity.setProperty(\"kurokumaft:ogre_kill\", 0);\r\n      const num = Number(params[1]);\r\n      if (num > 0 && num <= 11) {\r\n        sourceEntity.setProperty(\"kurokumaft:kaikyu\", num);\r\n        system.runTimeout(() => {\r\n          sourceEntity.triggerEvent(\"kurokumaft:kaikyu_change\");\r\n        }, 2);\r\n      } else if (num === 0) {\r\n        sourceEntity.setProperty(\"kurokumaft:kaikyu\", num);\r\n        system.runTimeout(() => {\r\n          sourceEntity.triggerEvent(\"kurokumaft:kaikyu_change\");\r\n        }, 2);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (id === \"kk:ogrerankchange\" && sourceType === ScriptEventSource.Entity && sourceEntity instanceof Player) {\r\n    const params = message.split(\" \");\r\n    if (params[0] !== \"set\" && params[0] !== \"add\") {\r\n      sourceEntity.sendMessage({ translate: \"msg.kurokumaft:ogre_rank_change.missing_method\"});\r\n      return;\r\n    }\r\n    if (params[0] === \"add\") {\r\n      if (params.length !== 3) {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:ogre_rank_change.missing_add_argument\"});\r\n        return;\r\n      }\r\n      if (params[1] !== \"promotion\" && params[1] !== \"demotion\") {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:ogre_rank_change.missing_add_type\"});\r\n        return;\r\n      }\r\n      const num = Number(params[2]);\r\n      if (!(!isNaN(num) && Number.isFinite(num))) {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:ogre_rank_change.missing_add_num\"});\r\n        return;\r\n      }\r\n    } else if (params[0] === \"set\") {\r\n      if (params.length !== 2) {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:ogre_rank_change.missing_set_argument\"});\r\n        return;\r\n      }\r\n      const num = Number(params[1]);\r\n      if (!(!isNaN(num) && Number.isFinite(num))) {\r\n        sourceEntity.sendMessage({ translate: \"msg.kurokumaft:ogre_rank_change.missing_set_num\"});\r\n        return;\r\n      }\r\n    }\r\n\r\n    sourceEntity.setProperty(\"kurokumaft:ogre_kill\", 0);\r\n\r\n    const rank = sourceEntity.getProperty(\"kurokumaft:ogre_rank\");\r\n\r\n    if (params[0] === \"add\") {\r\n      let becoming = sourceEntity.getProperty(\"kurokumaft:ogre_becoming\") as number;\r\n      const num = Number(params[2]);\r\n      if (params[1] === \"promotion\") {\r\n        becoming = becoming+num;\r\n        if (becoming >= 100) {\r\n          switch (rank) {\r\n            case \"none\" :\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"low\");\r\n            break;\r\n            case \"low\" :\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"unusual\");\r\n            break;\r\n            case \"unusual\" :\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"quarter\");\r\n            break;\r\n            case \"quarter\" :\r\n              const moon1 = sourceEntity.getProperty(\"kurokumaft:ogre_moon\") as number;\r\n              if (moon1 === 1) {\r\n                sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 6);\r\n                sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"crescent\");\r\n              } else {\r\n                sourceEntity.setProperty(\"kurokumaft:ogre_moon\", moon1-1);\r\n              }\r\n            break;\r\n            case \"crescent\" :\r\n              const moon2 = sourceEntity.getProperty(\"kurokumaft:ogre_moon\") as number;\r\n              if (moon2 === 1) {\r\n                sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"king\");\r\n              } else {\r\n                sourceEntity.setProperty(\"kurokumaft:ogre_moon\", moon2-1);\r\n              }\r\n            break;\r\n          }\r\n          sourceEntity.setProperty(\"kurokumaft:ogre_becoming\", 0);\r\n          system.runTimeout(() => {\r\n            sourceEntity.triggerEvent(\"kurokumaft:ogre_rank_change\");\r\n          }, 2);\r\n        } else {\r\n          sourceEntity.setProperty(\"kurokumaft:ogre_becoming\", becoming);\r\n        }\r\n      } else if (params[1] === \"demotion\") {\r\n        becoming = becoming-num;\r\n        if (becoming > 0) {\r\n          switch (rank) {\r\n            case \"low\" :\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"none\");\r\n            break;\r\n            case \"unusual\" :\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"low\");\r\n            break;\r\n            case \"quarter\" :\r\n              const moon1 = sourceEntity.getProperty(\"kurokumaft:ogre_moon\") as number;\r\n              if (moon1 === 6) {\r\n                sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"unusual\");\r\n              } else {\r\n                sourceEntity.setProperty(\"kurokumaft:ogre_moon\", moon1+1);\r\n              }\r\n            break;\r\n            case \"crescent\" :\r\n              const moon2 = sourceEntity.getProperty(\"kurokumaft:ogre_moon\") as number;\r\n              if (moon2 === 6) {\r\n                sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"quarter\");\r\n              } else {\r\n                sourceEntity.setProperty(\"kurokumaft:ogre_moon\", moon2+1);\r\n              }\r\n            break;\r\n            case \"king\" :\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"crescent\");\r\n              sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 1);\r\n              break;\r\n          }\r\n          sourceEntity.setProperty(\"kurokumaft:ogre_becoming\", 0);\r\n          system.runTimeout(() => {\r\n            sourceEntity.triggerEvent(\"kurokumaft:ogre_rank_change\");\r\n          }, 2);\r\n        } else {\r\n          sourceEntity.setProperty(\"kurokumaft:ogre_becoming\", becoming);\r\n        }\r\n      }\r\n    } else if (params[0] === \"set\") {\r\n      const num = Number(params[1]);\r\n      if (num >= 0 && num <= 15) {\r\n        switch (num) {\r\n          case 0:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"none\");\r\n            const Inventory = sourceEntity.getComponent(EntityComponentTypes.Inventory) as EntityInventoryComponent;\r\n            const container = Inventory.container;\r\n            if (container !== undefined) {\r\n              const itemstack = container.getItem(0) as ItemStack;\r\n              const kekkizyutu = kekkizyutuLists.find(items => items.item === itemstack.typeId);\r\n              if (kekkizyutu !== undefined) {\r\n                container.setItem(0, undefined);\r\n              }\r\n            }\r\n\r\n          break;\r\n          case 1:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"low\");\r\n          break;\r\n          case 2:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"unusual\");\r\n          break;\r\n          case 3:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"quarter\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 6);\r\n            break;\r\n          case 4:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"quarter\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 5);\r\n          break;\r\n          case 5:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"quarter\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 4);\r\n          break;\r\n          case 6:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"quarter\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 3);\r\n          break;\r\n          case 7:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"quarter\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 2);\r\n          break;\r\n          case 8:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"quarter\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 1);\r\n          break;\r\n          case 9:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"crescent\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 6);\r\n            break;\r\n          case 10:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"crescent\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 5);\r\n          break;\r\n          case 11:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"crescent\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 4);\r\n          break;\r\n          case 12:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"crescent\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 3);\r\n          break;\r\n          case 13:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"crescent\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 2);\r\n          break;\r\n          case 14:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"crescent\");\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_moon\", 1);\r\n          break;\r\n          case 15:\r\n            sourceEntity.setProperty(\"kurokumaft:ogre_rank\", \"king\");\r\n          break;\r\n        }\r\n        system.runTimeout(() => {\r\n          sourceEntity.triggerEvent(\"kurokumaft:ogre_rank_change\");\r\n        }, 2);\r\n      }\r\n    }\r\n  }\r\n});\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player, world, EntityComponentTypes, EntityEquippableComponent, EquipmentSlot, ContainerSlot } from \"@minecraft/server\";\r\nimport { KokyuObjects, KokyuObject, kokyuClassRecord } from \"../NichirintouTypes\";\r\n\r\nexport class NichirintouComponent implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        const player = event.source as Player;\r\n        const itemStack = event.itemStack as ItemStack;\r\n\r\n        if (player.isSneaking) {\r\n            const nichirintou = player.getProperty(\"kurokumaft:nichirintou_type\") as number;\r\n            const object = KokyuObjects.find(ob => ob.type === nichirintou) as KokyuObject;\r\n            const kokyuClass = kokyuClassRecord[object.className];\r\n            const kokyuObject = new kokyuClass();\r\n            kokyuObject.changeKata(player);\r\n            return;\r\n        } else {\r\n            if (!player.getProperty(\"kurokumaft:kokyu_use\")) {\r\n                const equippable = player.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n                const mainHand = equippable.getEquipment(EquipmentSlot.Mainhand);\r\n                if (mainHand !== undefined) {\r\n\r\n                    const object = KokyuObjects.find(ob => ob.itemName === itemStack.typeId) as KokyuObject;\r\n                    // const nichirintou = player.getProperty(\"kurokumaft:nichirintou_type\") as number;\r\n                    // const object = KokyuObjects.find(ob => ob.type === nichirintou) as KokyuObject;\r\n                    const kokyuClass = kokyuClassRecord[object.className];\r\n                    const kokyuObject = new kokyuClass();\r\n                    player.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                    player.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                    kokyuObject.useAttackKata(player, itemStack);\r\n                }\r\n            }\r\n   \r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, MolangVariableMap, Entity, system, TicksPerSecond, Player, EntityTypeFamilyComponent, EntityComponentTypes } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance, getLookLocationDistancePitch, weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { shooting } from \"../../common/ShooterEvent\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class MizuNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 水面切り\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistancePitch(entity.getRotation(), 3, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 3);\r\n\r\n        system.waitTicks(6).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 弐ノ型 水車\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        // fornt\r\n        const fdistance = getLookLocationDistance(entity.getRotation().y, 2.5, 0, 0);\r\n        const ffilter = addRegimentalFilter(0, getDistanceLocation(entity.location, fdistance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, ffilter, 2);\r\n        // back\r\n        const bdistance = getLookLocationDistance(entity.getRotation().y, -2.5, 0, 0);\r\n        const bfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, bdistance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, bfilter, 2);\r\n        // up\r\n        const udistance = getLookLocationDistance(entity.getRotation().y, 0, 0, 2.5);\r\n        const ufilter = addRegimentalFilter(0, getDistanceLocation(entity.location, udistance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, ufilter, 2);\r\n        // down\r\n        const ddistance = getLookLocationDistance(entity.getRotation().y, 0, 0, -2.5);\r\n        const dfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, ddistance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, dfilter, 2);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            const point = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n            entity.applyKnockback({x:point.x,z:point.z},0.5);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(TicksPerSecond).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 流流舞い\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistancePitch(entity.getRotation(), 1, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 2);\r\n\r\n                const point = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n                entity.applyKnockback({x:point.x,z:point.z},0);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n\r\n        },6);\r\n\r\n        system.waitTicks(30).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 打ち潮\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        let side = -2;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, side);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3.5, entity);\r\n\r\n                entity.dimension.spawnParticle(\"kurokumaft:mizu2_particle\",getDistanceLocation(entity.location, distance));\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                side=-side\r\n\r\n                const point = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n                entity.applyKnockback({x:point.x,z:point.z},0);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },8);\r\n\r\n        system.waitTicks(30).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 干天の慈雨\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const goKataLists = weightChoice([\r\n            { item: 'small' , weight: 55 },\r\n            { item: 'lage' , weight: 40 },\r\n            { item: 'kill' , weight: 5 },\r\n        ]);\r\n\r\n        entity.addTag(entity.id);\r\n        const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, 0);\r\n        const filter = addRegimentalFilter(1, getDistanceLocation(entity.location, distance), 3, entity);\r\n\r\n        const targets = entity.dimension.getEntities(filter);\r\n        targets.forEach(en => {\r\n            try {\r\n                const choice = goKataLists.pick();\r\n                switch (choice as string) {\r\n                    case 'small': \r\n                        this.kokyuApplyDamage(entity, filter, 2);\r\n                        break;\r\n                    case 'lage': \r\n                        this.kokyuApplyDamage(entity, filter, 6);\r\n                        break;\r\n                    case 'kill': \r\n                        this.kokyuApplyDamage(entity, filter, 8);\r\n                        break;\r\n                }\r\n\r\n            } catch (error: any) {\r\n            }\r\n        });\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        entity.dimension.spawnParticle(\"kurokumaft:mizu5_particle\",entity.location,molang);\r\n        entity.dimension.spawnParticle(\"kurokumaft:mizu5_particle\",entity.location,molang);\r\n        entity.removeTag(entity.id);\r\n\r\n        system.waitTicks(4).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 ねじれ渦\r\n     */\r\n    rokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        if (!entity.getDynamicProperty(\"kurokumaft:mizuroku\")) {\r\n            entity.setDynamicProperty(\"kurokumaft:mizuroku\", true);\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu6.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            if (entity.isInWater) {\r\n                const filter = addRegimentalFilter(0, entity.location, 5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 6);\r\n            } else {\r\n                const filter = addRegimentalFilter(0, entity.location, 3.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n            }\r\n            if (entity.isOnGround) {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 1);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},1.2);\r\n            }\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    if (entity.isInWater) {\r\n                        const filter = addRegimentalFilter(0, entity.location, 5, entity);\r\n                        this.kokyuApplyDamage(entity, filter, 6);\r\n                    } else {\r\n                        const filter = addRegimentalFilter(0, entity.location, 3.5, entity);\r\n                        this.kokyuApplyDamage(entity, filter, 3);\r\n                    }\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },4);\r\n\r\n            system.waitTicks(30).then(() => {\r\n                entity.addEffect(\"minecraft:slow_falling\", 2*TicksPerSecond,{\r\n                    amplifier: 1,\r\n                    showParticles: false\r\n                });\r\n            }).catch((error: any) => {\r\n            });\r\n\r\n            system.waitTicks(35).then(() => {\r\n                entity.removeEffect(\"minecraft:slow_falling\");\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                entity.setDynamicProperty(\"kurokumaft:mizuroku\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 漆ノ型 雫波紋突き\r\n     */\r\n    shitiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu7.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistancePitch(entity.getRotation(), 3.5, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, filter, 8);\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        entity.dimension.spawnParticle(\"kurokumaft:mizu7_1_particle\",getDistanceLocation(entity.location, distance),molang);\r\n        entity.dimension.spawnParticle(\"kurokumaft:mizu7_2_particle\",getDistanceLocation(entity.location, distance),molang);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 捌ノ型 滝壺\r\n     */\r\n    hachiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        if (!entity.getDynamicProperty(\"kurokumaft:mizuhati\")) {\r\n\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu8.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            entity.setDynamicProperty(\"kurokumaft:mizuhati\", true);\r\n\r\n            if (entity.isOnGround) {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},1.2);\r\n            }\r\n            let parnum = 0;\r\n\r\n            system.waitTicks(20).then(() => {\r\n                const filter = addRegimentalFilter(0, {x:entity.location.x,y:entity.location.y-2, z:entity.location.z}, 8, entity);\r\n\r\n                const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n                const molang = new MolangVariableMap();\r\n                molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n                parnum = system.runInterval(() => {\r\n\r\n                    try {\r\n                        entity.dimension.spawnParticle(\"kurokumaft:mizu8_particle\",{x:entity.location.x, y:entity.location.y-2,z:entity.location.z}, molang);\r\n                        entity.dimension.spawnParticle(\"kurokumaft:mizu_pillar_particle\",{x:entity.location.x+1, y:entity.location.y-0.5,z:entity.location.z+1}, molang);\r\n                        entity.dimension.spawnParticle(\"kurokumaft:mizu_pillar_particle\",{x:entity.location.x+1, y:entity.location.y-0.5,z:entity.location.z-1}, molang);\r\n                        entity.dimension.spawnParticle(\"kurokumaft:mizu_pillar_particle\",{x:entity.location.x-1, y:entity.location.y-0.5,z:entity.location.z+1}, molang);\r\n                        entity.dimension.spawnParticle(\"kurokumaft:mizu_pillar_particle\",{x:entity.location.x-1, y:entity.location.y-0.5,z:entity.location.z-1}, molang);\r\n                    } catch (error: any) {\r\n                        system.clearRun(parnum);\r\n                    }\r\n                },3);\r\n                this.kokyuApplyDamage(entity, filter, 8);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n\r\n            system.waitTicks(30).then(() => {\r\n                entity.addEffect(\"minecraft:slow_falling\", 2*TicksPerSecond,{\r\n                    amplifier: 1,\r\n                    showParticles: false\r\n                });\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n    \r\n            system.waitTicks(40).then(() => {\r\n                entity.removeEffect(\"minecraft:slow_falling\");\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                entity.setDynamicProperty(\"kurokumaft:mizuhati\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                if (parnum !== 0) {\r\n                    system.clearRun(parnum);\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 玖ノ型 水流飛沫・乱\r\n     */\r\n    kuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity.getDynamicProperty(\"kurokumaft:chage_type\") === undefined) {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu9.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n\r\n            entity.addEffect(\"minecraft:speed\", 10*TicksPerSecond,{\r\n                amplifier: 5,\r\n                showParticles: false\r\n            });\r\n            entity.addEffect(\"minecraft:jump_boost\", 10*TicksPerSecond,{\r\n                amplifier: 3,\r\n                showParticles: false\r\n            });\r\n            system.waitTicks(10*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 拾ノ型 生生流転　発射\r\n     */\r\n    zyuNoKataShot(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        const chage = entity.getProperty(\"kurokumaft:kokyu_chage\") as number;\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        if (chage === 4) {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu10.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_chage\", 10);\r\n            system.waitTicks(10).then(() => {\r\n                const dragon = shooting(entity, \"kurokumaft:mizu_dragon\", 0, 3, undefined);\r\n                entity.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                system.waitTicks(15).then(() => {\r\n                    if (dragon.isValid) {\r\n                        dragon.remove();\r\n                    }\r\n                }).catch((error: any) => {\r\n                }).finally(() => {\r\n                });\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 拾ノ型 生生流転\r\n     */\r\n    zyuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        // if (itemStack !== undefined) {\r\n        //     ItemDurabilityDamage(entity, itemStack);\r\n        // }\r\n        // let chage = entity.getProperty(\"kurokumaft:kokyu_chage\") as number;\r\n        // if (chage < 4) {\r\n        //     entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n\r\n        //     if (chage+1 < 4) {\r\n        //         system.waitTicks(14).then(() => {\r\n        //             chage = entity.getProperty(\"kurokumaft:kokyu_chage\") as number;\r\n        //             if (chage < 4) {\r\n        //                 entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        //             }\r\n        //         }).catch((error: any) => {\r\n        //         }).finally(() => {\r\n        //         });\r\n        //     }\r\n        //     entity.setProperty(\"kurokumaft:kokyu_chage\", chage+1);\r\n        // }\r\n        // const filter = addRegimentalFilter(0, entity.location, 4.5, entity);\r\n        // this.kokyuApplyDamage(entity, filter, 10);\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu10.value\"}]});\r\n            entity.startItemCooldown(\"kurokumaft:mizu\", 3*TicksPerSecond);\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        let side = 2;\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 6, entity);\r\n                this.kokyuApplyDamage(entity, filter, 8);\r\n    \r\n                const distance = getLookLocationDistance(entity.getRotation().y, 1, side, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                side = -side;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        system.waitTicks(2.5*TicksPerSecond).then(() => {\r\n            const dragon = shooting(entity, \"kurokumaft:mizu_dragon\", 0, 3, undefined);\r\n            system.waitTicks(15).then(() => {\r\n                if (dragon.isValid) {\r\n                    dragon.remove();\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n        /**\r\n     * 拾ノ型 生生流転\r\n     */\r\n    zyuNoKataMob(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", true);\r\n        const filter = addRegimentalFilter(0, entity.location, 4.5, entity);\r\n        this.kokyuApplyDamage(entity, filter, 10);\r\n        const num1 = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 4.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 10);\r\n            } catch (error: any) {\r\n                system.clearRun(num1);\r\n            }\r\n        }, 10);\r\n\r\n        system.waitTicks(35).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_chage\", 10);\r\n            system.waitTicks(10).then(() => {\r\n                const dragon = shooting(entity, \"kurokumaft:mizu_dragon\", 0, 3, undefined);\r\n                entity.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                system.waitTicks(2*TicksPerSecond).then(() => {\r\n                    if (dragon.isValid) {\r\n                        dragon.remove();\r\n                    }\r\n                }).catch((error: any) => {\r\n                }).finally(() => {\r\n                });\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num1);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 拾壱ノ型 凪\r\n     */\r\n    zyuichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity.getDynamicProperty(\"kurokumaft:chage_type\") === undefined) {\r\n            try {\r\n\r\n                if (entity instanceof Player) {\r\n                    entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kokyu11.value\"}]});\r\n                    if (itemStack !== undefined) {\r\n                        ItemDurabilityDamage(entity, itemStack);\r\n                    }\r\n                }\r\n                entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n\r\n                this.nagiIntervalId = system.runInterval(() => {\r\n                    try {\r\n                        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n                        this.checkNagiReflection(entity);\r\n                    } catch (error: any) {\r\n                        system.clearRun(this.nagiIntervalId);\r\n                    }\r\n                },4);\r\n\r\n                const parnum = system.runInterval(() => {\r\n\r\n                    try {\r\n                        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n                        const molang = new MolangVariableMap();\r\n                        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n                        entity.dimension.spawnParticle(\"kurokumaft:mizu11_particle\",entity.location,molang);\r\n                    } catch (error: any) {\r\n                        system.clearRun(parnum);\r\n                    }\r\n                },TicksPerSecond);\r\n\r\n                system.waitTicks(3*TicksPerSecond).then(() => {\r\n                    entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n                    entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                    entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                    entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n                    system.clearRun(this.nagiIntervalId);\r\n                    system.clearRun(parnum);\r\n                }).catch((error: any) => {\r\n                }).finally(() => {\r\n                });\r\n            } catch (error: any) {\r\n                system.clearRun(this.nagiIntervalId);\r\n            } finally {\r\n            };\r\n\r\n        }\r\n    }\r\n\r\n    private nagiIntervalId: number =0;\r\n    private checkNagiReflection(entity: Entity): void {\r\n        if (entity.isValid) {\r\n\r\n            if (this.projectRefrect(entity, entity.location)) {\r\n                entity.setProperty(\"kurokumaft:kokyu_attack\", true);\r\n            }\r\n\r\n            const filter = addRegimentalFilter(0, entity.location, 4.5, entity);\r\n            const targets = entity.dimension.getEntities(filter);\r\n            targets.forEach(en => {\r\n                if (en !== undefined && en.isValid) {\r\n                    const familyTypes = en.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n                    if (familyTypes.hasTypeFamily(\"arrow\")) {\r\n                        const view = en.getViewDirection();\r\n                        en.applyKnockback({x:-Math.round(view.x)*3,z:-Math.round(view.z)*3},3);\r\n                    } else {\r\n                        this.kokyuApplyDamage(entity, filter, 10);\r\n                    }\r\n                    entity.setProperty(\"kurokumaft:kokyu_attack\", true);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            system.clearRun(this.nagiIntervalId);\r\n        }\r\n    };\r\n\r\n}\r\n","import { world,Player,Vector2, Vector3, Direction, EntityQueryOptions, Block, Entity, EntityComponentTypes, EntityTypeFamilyComponent} from \"@minecraft/server\";\r\n\r\n// デバッグ用\r\n/**\r\n * @param {Object} text\r\n */\r\nfunction print(text:Object) {\r\n    world.sendMessage(text + \"\");\r\n};\r\n\r\n// 制限\r\n/**\r\n * @param {number} min\r\n * @param {number} max\r\n */\r\nfunction clamp(value:number, min:number, max:number) {\r\n    return Math.min(Math.max(value, min), max);\r\n};\r\n\r\n// 乱数\r\n/**\r\n * @param {number} min\r\n * @param {number} max\r\n */\r\nfunction getRandomInRange(min:number, max:number) {\r\n    return Math.round(Math.random() * (max - min) + min);\r\n}\r\n\r\n// 乱数（少数）\r\n/**\r\n * @param {number} min\r\n * @param {number} max\r\n * @param {number} round\r\n */\r\nfunction getRandomRange(min:number, max:number, round:number) {\r\n    return Math.round((Math.random() * (max - min) + min) * round / round);\r\n}\r\n\r\n\r\n/**\r\n * 中間値を除いた乱数を返す\r\n * @param {number} min\r\n * @param {number} max\r\n * @param {number} exclud\r\n * @param {number} rand\r\n */\r\nfunction getRandomExcludingZero(min: number, max: number, exclud:number, round:number): number {\r\n\r\n    let rand: number;\r\n    do {\r\n        rand = Math.random() * (max - min) + min;\r\n        rand = Math.round(rand * round) / round; // 小数を丸める\r\n    } while (rand >= -exclud && rand <= exclud); // excludを除く（-0.2~0.2）を除外\r\n\r\n    return rand;\r\n}\r\n\r\n/**\r\n * @param {number} current\r\n * @param {number} max\r\n * @param {number} percent\r\n */\r\nfunction isBelowThreshold(current: number, max: number, percent: number): boolean {\r\n  return current <= max * percent;\r\n}\r\n\r\n// サウンド再生\r\n/**\r\n * @param {Player} entity\r\n * @param {string} sound\r\n */\r\nfunction playsound(entity:Player, sound:string) {\r\n    entity.playSound(sound);\r\n};\r\n\r\n/**\r\n * 水平視線位置取得\r\n * @param {number} angle\r\n * @param {number} forwardPoint\r\n * @param {number} sidePoint\r\n * @param {number} udFixed\r\n */\r\nfunction getLookLocationDistance(angle: number, forwardPoint:number, sidePoint:number, udFixed:number) : Vector3 {\r\n\r\n    const forwardRad = degToRad(angle);\r\n\r\n    const forntDisPoint = {\r\n        x: -(Math.sin(forwardRad)) * forwardPoint,\r\n        z: (Math.cos(forwardRad)) * forwardPoint,\r\n    }\r\n\r\n    if (sidePoint < 0) {\r\n        const leftRad = degToRad(angle + 90);\r\n        forntDisPoint.x = forntDisPoint.x + Math.sin(leftRad) * -sidePoint;\r\n        forntDisPoint.z = forntDisPoint.z + Math.cos(leftRad) * -sidePoint;\r\n    } else if (sidePoint > 0) {\r\n        const rightRad = degToRad(angle - 90);\r\n        forntDisPoint.x = forntDisPoint.x + Math.sin(rightRad) * sidePoint;\r\n        forntDisPoint.z = forntDisPoint.z + Math.cos(rightRad) * sidePoint;\r\n    }\r\n\r\n    const angleDisPoint = {\r\n        x: Number(forntDisPoint.x.toFixed(3)),\r\n        y: udFixed,\r\n        z: Number(forntDisPoint.z.toFixed(3))\r\n    };\r\n\r\n    return angleDisPoint;\r\n}\r\n\r\n/**\r\n * 空間視線位置取得\r\n * @param {Vector2} angle\r\n * @param {number} forwardPoint\r\n * @param {number} sidePoint\r\n */\r\nfunction getLookLocationDistancePitch(angle: Vector2, forwardPoint:number, sidePoint:number) : Vector3 {\r\n\r\n    const forwardRad = degToRad(angle.y);\r\n    const pitchRad = degToRad(angle.x);\r\n\r\n    let angleDisPoint = {\r\n        x: -(Math.cos(pitchRad) * Math.sin(forwardRad)) * forwardPoint,\r\n        y: Math.sin(pitchRad) * forwardPoint,\r\n        z: (Math.cos(pitchRad) * Math.cos(forwardRad)) * forwardPoint,\r\n    };\r\n\r\n    if (sidePoint < 0) {\r\n        const leftRad = degToRad(angle.y + 90);\r\n        angleDisPoint = crossProduct(angleDisPoint, {\r\n            x: Math.sin(leftRad) * -sidePoint,\r\n            y: 0,\r\n            z: Math.cos(leftRad) * -sidePoint\r\n        });\r\n    } else if (sidePoint > 0) {\r\n        const rightRad = degToRad(angle.y - 90);\r\n        angleDisPoint = crossProduct(angleDisPoint, {\r\n            x: Math.sin(rightRad) * sidePoint,\r\n            y: 0,\r\n            z: Math.cos(rightRad) * sidePoint\r\n        });\r\n    }\r\n\r\n    const retDisPoint = {\r\n        x: Number(angleDisPoint.x.toFixed(3)),\r\n        y: -Number(angleDisPoint.y.toFixed(3)),\r\n        z: Number(angleDisPoint.z.toFixed(3))\r\n    };\r\n    return retDisPoint;\r\n}\r\n\r\n/**\r\n * 空間視線位置取得\r\n * @param {Vector3} origin\r\n * @param {Vector3} distance\r\n */\r\nfunction getDistanceLocation(origin: Vector3, distance:Vector3) : Vector3 {\r\n    const angleDisPoint = {\r\n        x: Number((origin.x + distance.x).toFixed(3)),\r\n        y: Number((origin.y + distance.y).toFixed(3)),\r\n        z: Number((origin.z + distance.z).toFixed(3))\r\n    };\r\n\r\n    return angleDisPoint;\r\n}\r\n\r\nfunction crossProduct(front: Vector3, side: Vector3): Vector3 {\r\n    return {\r\n      x: Number((front.x * + side.x).toFixed(3)),\r\n      y: Number(front.y.toFixed(3)),\r\n      z: Number((front.z + side.z).toFixed(3)),\r\n    };\r\n}\r\n\r\nfunction degToRad(deg: number): number {\r\n  return deg * Math.PI / 180;\r\n}\r\n\r\nfunction getForwardPosition(origin: Vector3, angleZ: number, distance: number): Vector3 {\r\n  const rad = degToRad(angleZ);\r\n  return {\r\n    x: origin.x + Math.sin(rad) * distance,\r\n    y: origin.y,\r\n    z: origin.z + Math.cos(rad) * distance\r\n  };\r\n}\r\n\r\nfunction getRightPosition(origin: Vector3, angleZ: number, distance: number): Vector3 {\r\n  const rad = degToRad(angleZ + 90);\r\n  return {\r\n    x: origin.x + Math.sin(rad) * distance,\r\n    y: origin.y,\r\n    z: origin.z + Math.cos(rad) * distance\r\n  };\r\n}\r\n\r\nfunction getLeftPosition(origin: Vector3, angleZ: number, distance: number): Vector3 {\r\n  const rad = degToRad(angleZ - 90);\r\n  return {\r\n    x: origin.x + Math.sin(rad) * distance,\r\n    y: origin.y,\r\n    z: origin.z + Math.cos(rad) * distance\r\n  };\r\n}\r\n\r\nfunction normalizeVector(v: Vector3): Vector3 {\r\n    const length = Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z);\r\n    return {\r\n        x: v.x / length,\r\n        y: v.y / length,\r\n        z: v.z / length\r\n    };\r\n}\r\n\r\nfunction getDirectionVector(thisEn: Vector3, targetEn: Vector3): Vector3 {\r\n    const direction = {\r\n        x: targetEn.x - thisEn.x,\r\n        y: targetEn.y - thisEn.y,\r\n        z: targetEn.z - thisEn.z\r\n    };\r\n    return normalizeVector(direction);\r\n}\r\n\r\nfunction addRegimentalFilter(closest:number, location:Vector3, maxDis:number, entity:Entity): EntityQueryOptions {\r\n\r\n    let filterOption = {\r\n        excludeFamilies: [\r\n            \"inanimate\", \"animal\", \"villager\", \r\n            \"regimental_soldier\", \"villager_player\", \"regimental_player\"\r\n        ],\r\n        excludeTypes: [\r\n            \"item\"\r\n        ],\r\n        excludeTags: [\r\n            entity.id\r\n        ],\r\n        location: location,\r\n        maxDistance: maxDis\r\n    } as EntityQueryOptions;\r\n\r\n    const familyTypes = entity.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n    if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"ogre\")) {\r\n        filterOption.excludeFamilies = [\r\n            \"inanimate\", \"animal\"\r\n        ];\r\n    } else if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"player\")) {\r\n        const tags = entity.getTags();\r\n        if (tags.indexOf(\"hostility_player\") !== -1) {\r\n            filterOption.excludeFamilies = [\r\n                \"inanimate\", \"animal\", \"villager\"\r\n            ];\r\n        }\r\n    } else {\r\n        const tags = entity.getTags();\r\n        if (tags.indexOf(\"hostility\") !== -1) {\r\n            filterOption.excludeFamilies = [\r\n                \"inanimate\", \"animal\", \"villager\"\r\n            ];\r\n        }\r\n    }\r\n\r\n    if (!world.gameRules.pvp) {\r\n        filterOption.excludeFamilies?.push(\"player\");\r\n    }\r\n    if (closest !== 0) {\r\n        filterOption.closest = closest;\r\n    }\r\n\r\n    return filterOption;\r\n\r\n};\r\n\r\nfunction addOrgeFilter(closest:number, location:Vector3, maxDis:number, exeTag:string): EntityQueryOptions {\r\n\r\n    const filterOption = {\r\n        excludeFamilies: [\r\n            \"inanimate\", \"animal\"\r\n        ],\r\n        excludeTypes: [\r\n            \"item\"\r\n        ],\r\n        excludeTags: [\r\n            exeTag\r\n        ],\r\n        location: location,\r\n        maxDistance: maxDis\r\n    } as EntityQueryOptions;\r\n\r\n    if (!world.gameRules.pvp) {\r\n        filterOption.excludeFamilies?.push(\"player\");\r\n    }\r\n    if (closest !== 0) {\r\n        filterOption.closest = closest;\r\n    }\r\n\r\n    return filterOption;\r\n\r\n};\r\n\r\nfunction addProjectionFilter(closest:number, location:Vector3, maxDis:number): EntityQueryOptions {\r\n\r\n    let filterOption = {\r\n        families: [\r\n            \"arrow\"\r\n        ],\r\n        location: location,\r\n        maxDistance: maxDis\r\n    } as EntityQueryOptions;\r\n\r\n    if (closest !== 0) {\r\n        filterOption.closest = closest;\r\n    }\r\n\r\n    return filterOption;\r\n\r\n};\r\n\r\n// 岩盤破壊キャンセル\r\nexport function explodeBedrock(impactBLockList:Block[]): Block[] | undefined {\r\n    try {\r\n        let filterBlockList = impactBLockList.filter(block => {\r\n            if (block.location.y >= -64) {\r\n                if (!block.matches(\"minecraft:bedrock\")) {\r\n                    return block;\r\n                }\r\n            }\r\n        });\r\n        return filterBlockList;\r\n    } catch (error) {\r\n    }\r\n\r\n}\r\n\r\nconst BlockLocationList = Object.freeze([\r\n    {\r\n        direction: Direction.Up,\r\n        location: {x:0,y:1,z:0}\r\n    },\r\n    {\r\n        direction: Direction.Down,\r\n        location: {x:0,y:-1,z:0}\r\n    },\r\n    {\r\n        direction: Direction.South,\r\n        location: {x:0,y:0,z:1}\r\n    },\r\n    {\r\n        direction: Direction.North,\r\n        location: {x:0,y:0,z:-1}\r\n    },\r\n    {\r\n        direction: Direction.East,\r\n        location: {x:1,y:0,z:0}\r\n    },\r\n    {\r\n        direction: Direction.West,\r\n        location: {x:-1,y:0,z:0}\r\n    }\r\n\r\n]);\r\n\r\nconst weightChoice = (list: any[]) => {\r\n    const totalWeight = list.reduce((p, c) => {\r\n        return { weight: p.weight + c.weight }\r\n    }).weight\r\n\r\n    return {\r\n        pick () {\r\n            const r = Math.random() * totalWeight;\r\n            let s = 0.0;\r\n            for (const l of list) {\r\n                s += l.weight\r\n                if (r < s) { return l.item }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nfunction getForwardVector(angleZ: number): Vector3 {\r\n    const rad = degToRad(angleZ);\r\n    return {\r\n      x: Math.cos(rad),\r\n      y: 0,\r\n      z: Math.sin(rad),\r\n    };\r\n}\r\n  \r\nfunction normalize(v: Vector3): Vector3 {\r\n    const length = Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z);\r\n    return { x: v.x / length, y: v.y / length, z: v.z / length };\r\n}\r\n\r\nfunction dot(v1: Vector3, v2: Vector3): number {\r\n    return v1.x * v2.x + v1.y * v2.y + v1.z * v2.z;\r\n}\r\n\r\nfunction distance(v1: Vector3, v2: Vector3): number {\r\n    const dx = v1.x - v2.x;\r\n    const dy = v1.y - v2.y;\r\n    const dz = v1.z - v2.z;\r\n    return Math.sqrt(dx * dx + dy * dy + dz * dz);\r\n}\r\n\r\nfunction isTargetInFront(myPos: Vector3, yawDeg: number, targetPos: Vector3, maxHalfAngleDeg: number, maxDistance: number): boolean {\r\n\r\n    const forward = normalize(getForwardVector(yawDeg));\r\n\r\n    // ターゲットへのXZ方向ベクトルだけ作る（水平のみ）\r\n    const toTarget = normalize({\r\n      x: targetPos.x - myPos.x,\r\n      y: 0,\r\n      z: targetPos.z - myPos.z,\r\n    });\r\n  \r\n    const dist = distance(myPos, targetPos);\r\n  \r\n    // 内積（cosθ）を取る\r\n    const cosTheta = dot(forward, toTarget);\r\n    const thetaDeg = Math.acos(cosTheta) * (180 / Math.PI);\r\n  \r\n    return thetaDeg <= maxHalfAngleDeg && dist <= maxDistance;\r\n}\r\n\r\nexport { print, clamp, getRandomInRange, playsound, getDistanceLocation, isBelowThreshold,\r\n    getDirectionVector, addRegimentalFilter, addOrgeFilter, addProjectionFilter, BlockLocationList, weightChoice,\r\n    getForwardPosition, getRightPosition, getLeftPosition, getLookLocationDistance, getLookLocationDistancePitch, isTargetInFront,\r\n    getForwardVector, getRandomRange, getRandomExcludingZero };\r\n","import { BlockVolume, Dimension, EntityComponentTypes, EntityDamageCause, EntityEquippableComponent, EntityProjectileComponent, \r\n    EntityQueryOptions, EquipmentSlot, ListBlockVolume, Entity, Vector3, world, Player, EntityTypeFamilyComponent } from \"@minecraft/server\";\r\nimport { addProjectionFilter, getDistanceLocation, getLookLocationDistance } from \"../../common/KimetuCommonUtil\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport const ogreRankPoint = Object.freeze([\r\n    {\r\n        rank: \"low\",\r\n        point: 0.5,\r\n        damage: 3\r\n    },\r\n    {\r\n        rank: \"unusual\",\r\n        point: 0.75,\r\n        damage: 2.8\r\n    },\r\n    {\r\n        rank: \"quarter\",\r\n        point: 1,\r\n        damage: 2.0\r\n    },\r\n    {\r\n        rank: \"crescent\",\r\n        point: 1.2,\r\n        damage: 1.8\r\n    },\r\n    {\r\n        rank: \"king\",\r\n        point: 1.5,\r\n        damage: 1.5\r\n    },\r\n]);\r\n\r\n\r\nexport class KataComonClass {\r\n\r\n    gardCheck(en: Player): boolean {\r\n\r\n        const equ = en.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n        const main = equ.getEquipment(EquipmentSlot.Mainhand);\r\n        const off = equ.getEquipment(EquipmentSlot.Offhand);\r\n\r\n        // 対象がスニークしている\r\n        if (en.isSneaking) {\r\n            // オフハンドに盾を持っている場合、ガード音と耐久値減少\r\n            if (off !== undefined && off.typeId.indexOf(\"shield\") !== -1) {\r\n                en.playSound(\"item.shield.block\", {\r\n                    pitch: 1,\r\n                    volume: 1\r\n                });\r\n                ItemDurabilityDamage(en, off);\r\n                return true;\r\n            // メインハンドに盾を持っている場合、ガード音と耐久値減少\r\n            } else if (main !== undefined && main.typeId.indexOf(\"shield\") !== -1) {\r\n                en.playSound(\"item.shield.block\", {\r\n                    pitch: 1,\r\n                    volume: 1\r\n                });\r\n                ItemDurabilityDamage(en, main);\r\n                return true;\r\n            // メインハンドに日輪刀を持っている場合、ガード音と耐久値減少\r\n            } else if (main !== undefined && main.typeId.indexOf(\"nichirintou\") !== -1 && !en.getDynamicProperty(\"kurokumaft:attack_time\")) {\r\n                en.playSound(\"damage_guard.nitirintou_blocking\", {\r\n                    pitch: 1,\r\n                    volume: 1\r\n                });\r\n                ItemDurabilityDamage(en, main);\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    kokyuApplyDamage(entity:Entity, filter:EntityQueryOptions, kokyuDamage:number): void {\r\n\r\n        entity.addTag(entity.id);\r\n        const targets = entity.dimension.getEntities(filter);\r\n        const damage = entity.getProperty(\"kurokumaft:attack_level\") as number;\r\n\r\n        targets.forEach(en => {\r\n            if (en !== undefined && en.isValid) {\r\n                // 対象がプレイヤー\r\n                if (en instanceof Player) {\r\n                    // 対象がガードしている場合は終わり\r\n                    if (this.gardCheck(en)) {\r\n                        return;\r\n                    }\r\n                    // 攻撃側がプレイヤー\r\n                    if (entity instanceof Player) {\r\n                        const tags = en.getTags();\r\n                        const ptags = entity.getTags();\r\n                        // pvpオン、かつ、プレイヤー同士が稽古タグをつけている場合\r\n                        if (world.gameRules.pvp && tags.indexOf(\"hostility_player\") !== -1 && ptags.indexOf(\"hostility_player\") !== -1) {\r\n                            en.applyDamage((damage + kokyuDamage) * 0.5, {\r\n                                cause: EntityDamageCause.entityAttack,\r\n                                damagingEntity: entity\r\n                            });\r\n                        }\r\n                    // 攻撃側がモブ\r\n                    } else {\r\n                        // 対象プレイヤーのファミリーを取得\r\n                        const familyTypes = en.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n                        // ファミリーマーがある\r\n                        if (familyTypes !== undefined) {\r\n                            // 対象プレイヤーが鬼の場合\r\n                            if (familyTypes.hasTypeFamily(\"ogre\")) {\r\n                                // 階位を取る\r\n                                const ogre_rank = entity.getProperty(\"kurokumaft:ogre_rank\");\r\n                                // 階位ごとのランクポイント\r\n                                const point = ogreRankPoint.find(rank => rank.rank === ogre_rank);\r\n                                // ランクごとのダメージ率を加算（階位が高いほど下がる）\r\n                                en.applyDamage(((damage + kokyuDamage) * (point !== undefined ? point.damage : 5)), {\r\n                                    cause: EntityDamageCause.entityAttack,\r\n                                    damagingEntity: entity\r\n                                });\r\n                            // 対象プレイヤーが隊士の場合\r\n                            } else if (familyTypes.hasTypeFamily(\"regimental_player\")) {\r\n                                const targetTags = en.getTags();\r\n                                const mobTags = entity.getTags();\r\n                                // 攻撃モブとプレイヤーが稽古タグをつけている場合\r\n                                if (mobTags.indexOf(\"hostility\") !== -1 && targetTags.indexOf(\"hostility_player\") !== -1) {\r\n                                    // 0..5倍にする\r\n                                    en.applyDamage((damage + kokyuDamage) * 0.5, {\r\n                                        cause: EntityDamageCause.entityAttack,\r\n                                        damagingEntity: entity\r\n                                    });\r\n                                }\r\n                            }\r\n                            // プレイヤーが鬼か隊士以外はダメージを受けない\r\n                        }\r\n                    }\r\n                // 対象がモブ\r\n                } else {\r\n                    // 攻撃側のファミリーを取得\r\n                    const damagerFamilyTypes = entity.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n                    // ファミリーがある\r\n                    if (damagerFamilyTypes !== undefined) {\r\n                        // 攻撃側が鬼の場合\r\n                        if(damagerFamilyTypes.hasTypeFamily(\"ogre\")) {\r\n                            const ogre_rank = entity.getProperty(\"kurokumaft:ogre_rank\");\r\n                            const point = ogreRankPoint.find(rank => rank.rank === ogre_rank);\r\n                            // ランクごとのダメージ率を加算（階位が高いほど上がる）\r\n                            en.applyDamage((damage + kokyuDamage) * (point !== undefined ? point.point : 0.2), {\r\n                                cause: EntityDamageCause.entityAttack,\r\n                                damagingEntity: entity\r\n                            });\r\n                        // 攻撃側が鬼以外\r\n                        } else {\r\n                            // ターゲットのファミリーを取得\r\n                            const familyTypes = en.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n                            if (familyTypes !== undefined) {\r\n                                // ターゲットが鬼の場合\r\n                                if (familyTypes.hasTypeFamily(\"ogre\")) {\r\n                                    const ogre_rank = en.getProperty(\"kurokumaft:ogre_rank\");\r\n                                    const point = ogreRankPoint.find(rank => rank.rank === ogre_rank);\r\n                                    // ランクごとのダメージ率を加算（階位が高いほど下がる）\r\n                                    en.applyDamage((damage + kokyuDamage) * (point !== undefined ? point.damage : 5), {\r\n                                        cause: EntityDamageCause.entityAttack,\r\n                                        damagingEntity: entity\r\n                                    });\r\n                                // ターゲットが隊士の場合\r\n                                } else if (familyTypes.hasTypeFamily(\"regimental_soldier\")) {\r\n                                    // ターゲットのタグ\r\n                                    const tags = en.getTags();\r\n                                    // 攻撃側がプレイヤー\r\n                                    if (entity instanceof Player) {\r\n                                        const ptags = entity.getTags();\r\n                                        // モブとプレイヤーが稽古中\r\n                                        if (tags.indexOf(\"hostility\") !== -1 && ptags.indexOf(\"hostility_player\") !== -1) {\r\n                                            en.applyDamage((damage + kokyuDamage) * 0.5, {\r\n                                                cause: EntityDamageCause.entityAttack,\r\n                                                damagingEntity: entity\r\n                                            });\r\n                                        }\r\n                                    } else {\r\n                                        const dtags = entity.getTags();\r\n                                        // モブ同士が稽古中\r\n                                        if (tags.indexOf(\"hostility\") !== -1 && dtags.indexOf(\"hostility\") !== -1) {\r\n                                            en.applyDamage((damage + kokyuDamage), {\r\n                                                cause: EntityDamageCause.entityAttack,\r\n                                                damagingEntity: entity\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                // それ以外のモブ\r\n                                } else {\r\n                                    en.applyDamage((damage + kokyuDamage), {\r\n                                        cause: EntityDamageCause.entityAttack,\r\n                                        damagingEntity: entity\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n        this.nitirintouFillBlock(\r\n            entity.dimension,\r\n            getDistanceLocation(entity.location, {x:distance.x-3,y:distance.y,z:distance.z-3}),\r\n            getDistanceLocation(entity.location, {x:distance.x+3,y:distance.y+2,z:distance.z+3})\r\n        );\r\n\r\n        entity.removeTag(entity.id);\r\n\r\n    }\r\n\r\n    kokyuApplyKnockback(entity:Entity, filter:EntityQueryOptions, distance:Vector3, vNum:number): void {\r\n\r\n        entity.addTag(entity.id);\r\n        const targets = entity.dimension.getEntities(filter);\r\n        targets.forEach(en => {\r\n            en.applyKnockback({x:distance.x,z:distance.z},vNum);\r\n        });\r\n        entity.removeTag(entity.id);\r\n\r\n    }\r\n\r\n    kokyuApplyEffect(entity:Entity, filter:EntityQueryOptions, duration:number, damage:number, effect:string): void {\r\n\r\n        entity.addTag(entity.id);\r\n        const targets = entity.dimension.getEntities(filter);\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const damageNum = kaikyuNum === 0 ? 0.5 : kaikyuNum;\r\n        targets.forEach(en => {\r\n            if (en !== undefined && en.isValid) {\r\n                if (en instanceof Player) {\r\n                    if (entity instanceof Player) {\r\n                        const tags = en.getTags();\r\n                        if (world.gameRules.pvp && tags.indexOf(\"hostility_player\") !== -1) {\r\n                            if (this.gardCheck(en)) {\r\n                                en.addEffect(effect, Math.round(duration*damageNum*0.25), {\r\n                                    amplifier: Math.round(damage*damageNum*0.25),\r\n                                    showParticles: true\r\n                                });\r\n                            }\r\n                        }\r\n                    } else {\r\n                        const familyTypes = en.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n                        const tags = entity.getTags();\r\n                        if (tags.indexOf(\"hostility\") !== -1) {\r\n                            en.addEffect(effect, Math.round(duration*damageNum*0.25), {\r\n                                amplifier: Math.round(damage*damageNum*0.25),\r\n                                showParticles: true\r\n                            });\r\n                        } else if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"ogre\")) {\r\n                            en.addEffect(effect, Math.round(duration*damageNum*1.5), {\r\n                                amplifier: Math.round(damage*damageNum*1.5),\r\n                                showParticles: true\r\n                            });\r\n                        }\r\n                    }\r\n                } else {\r\n                    const damagerFamilyTypes = entity.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n                    if (damagerFamilyTypes !== undefined && damagerFamilyTypes.hasTypeFamily(\"ogre\")) {\r\n                        en.addEffect(effect, Math.round(duration*damageNum*1.25), {\r\n                            amplifier: Math.round(damage*damageNum*1.25),\r\n                            showParticles: true\r\n                        });\r\n                    } else {\r\n                        const familyTypes = en.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n                        if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"ogre\")) {\r\n                            en.addEffect(effect, Math.round(duration*damageNum*1.75), {\r\n                                amplifier: Math.round(damage*damageNum*1.75),\r\n                                showParticles: true\r\n                            });\r\n                        } else if (familyTypes !== undefined && familyTypes.hasTypeFamily(\"regimental_soldier\")) {\r\n                            const tags = en.getTags();\r\n                            if (tags.indexOf(\"hostility\") !== -1) {\r\n                                en.addEffect(effect, Math.round(duration*damageNum*0.75), {\r\n                                    amplifier: Math.round(damage*damageNum*0.75),\r\n                                    showParticles: true\r\n                                });\r\n                            }\r\n                        } else {\r\n                            en.addEffect(effect, Math.round(duration*damageNum*0.75), {\r\n                                amplifier: Math.round(damage*damageNum*0.75),\r\n                                showParticles: true\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                if (en instanceof Player) {\r\n                    if (this.gardCheck(en)) {\r\n                    }\r\n                } else {\r\n                }\r\n            }\r\n        });\r\n        entity.removeTag(entity.id);\r\n\r\n    }\r\n\r\n    projectRefrect(entity:Entity, volume:Vector3): boolean {\r\n\r\n        let hit = false;\r\n        const projfilter = addProjectionFilter(0, volume, 4.5);\r\n\r\n        const projectiles = entity.dimension.getEntities(projfilter);\r\n        projectiles.forEach(projectile => {\r\n            projectile.clearVelocity();\r\n            const projComp = projectile.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n            if (projComp !== undefined) {\r\n                projComp.shoot(projectile.getViewDirection(), {\r\n                    uncertainty: 0\r\n                });\r\n                hit = true;\r\n            }\r\n        });\r\n\r\n        return hit;\r\n    }\r\n\r\n    nitirintouFillBlock(dimension:Dimension, from:Vector3, to:Vector3) {\r\n\r\n        const volume = new BlockVolume(from, to);\r\n        dimension.fillBlocks(volume, \"minecraft:air\", {\r\n            ignoreChunkBoundErrors: true,\r\n            blockFilter: {\r\n                includeTags: ['minecraft:is_sword_item_destructible']\r\n            }\r\n        }) as ListBlockVolume;\r\n    \r\n    };\r\n\r\n}\r\n","import { ItemStack, ItemComponentTypes, ItemDurabilityComponent, Entity, EntityEquippableComponent, EntityComponentTypes, \r\n    EquipmentSlot, GameMode, Player, ItemEnchantableComponent } from \"@minecraft/server\";\r\nimport { getRandomInRange } from \"./KimetuCommonUtil\";\r\n\r\n/**\r\n * アイテムダメージ\r\n * @param {Entity} entity\r\n * @param {ItemStack} item\r\n */\r\nasync function ItemDurabilityDamage(entity:Entity, item:ItemStack) {\r\n\r\n    if (entity instanceof Player && entity.getGameMode() !== GameMode.Creative) {\r\n        const durability = item.getComponent(ItemComponentTypes.Durability) as ItemDurabilityComponent;\r\n        const dChangeRang = durability.getDamageChanceRange();\r\n        let dChange = getRandomInRange(dChangeRang.min, dChangeRang.max);\r\n\r\n        const enchantable = item.getComponent(ItemComponentTypes.Enchantable) as ItemEnchantableComponent;\r\n        const unbreaking = enchantable.getEnchantment(\"minecraft:unbreaking\");\r\n        if (unbreaking !== undefined) {\r\n            dChange = durability.getDamageChance(unbreaking.level);\r\n        }\r\n\r\n        const equippable = entity.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n        const mainHand = equippable.getEquipment(EquipmentSlot.Mainhand);\r\n        if (mainHand !== undefined) {\r\n            if (mainHand.typeId === item.typeId) {\r\n                if ((durability.damage + dChange) >= durability.maxDurability) {\r\n                    equippable.setEquipment(EquipmentSlot.Mainhand, undefined);\r\n                } else {\r\n                    durability.damage = durability.damage + dChange;\r\n                    equippable.setEquipment(EquipmentSlot.Mainhand, item);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * アイテムスタック減少\r\n * @param {Player} player\r\n * @param {ItemStack} item\r\n * @param {EquipmentSlot} slot\r\n * @param {number} decNum\r\n */\r\nasync function subtractionItem(player: Player, item: ItemStack, slot: EquipmentSlot, decNum: number) {\r\n    const remaining = item.amount - decNum;\r\n    const equ = player.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n    if (remaining <= 0) {\r\n        equ.setEquipment(slot, undefined);\r\n    } else {\r\n        item.amount -= decNum;\r\n        equ.setEquipment(slot, item);\r\n    }\r\n};\r\n\r\nexport {ItemDurabilityDamage, subtractionItem};","import { Entity, EntityComponentTypes, EntityProjectileComponent, ItemStack, Player, Vector3, world } from \"@minecraft/server\"\r\nimport { getDistanceLocation, getLookLocationDistancePitch } from \"./KimetuCommonUtil\";\r\n\r\n/**\r\n * 投擲系魔法\r\n * @param {Entity} entity\r\n * @param {ItemStack} item\r\n * @param {string} throwItem\r\n * @param {number} ranNum\r\n */\r\nfunction throwing(entity:Entity, item:ItemStack, throwItem:string, ranNum:number) {\r\n\r\n    let bulet = entity.dimension.spawnEntity(throwItem, entity.getHeadLocation());\r\n    item.amount++;\r\n\r\n    let projectile = bulet.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n    projectile.owner = entity;\r\n    projectile.shoot(entity.getViewDirection(), {\r\n        uncertainty: ranNum\r\n    });\r\n\r\n}\r\n\r\n/**\r\n * 投射系魔法\r\n * @param {Player} player\r\n * @param {string} throwItem\r\n * @param {number} ranNum\r\n * @param {string} event\r\n */\r\nfunction shooting(entity:Entity, throwItem:string, ranNum:number, seepd:number, event:string | undefined) {\r\n\r\n    const distance = getLookLocationDistancePitch(entity.getRotation(), 1, ranNum);\r\n    const bulet = entity.dimension.spawnEntity(throwItem, getDistanceLocation(\r\n        {\r\n            x:entity.location.x,\r\n            y:entity.location.y+0.5,\r\n            z:entity.location.z\r\n        },\r\n        distance\r\n    ));\r\n    if (event !== undefined) {\r\n        bulet.triggerEvent(event);\r\n    }\r\n\r\n    const projectile = bulet.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n    projectile.owner = entity;\r\n    projectile.shoot({\r\n        x:distance.x * seepd,\r\n        y:distance.y * seepd,\r\n        z:distance.z * seepd\r\n    },\r\n    {\r\n        uncertainty: ranNum\r\n    });\r\n\r\n    return bulet;\r\n}\r\n\r\nexport {throwing, shooting};","import { ItemStack, Entity, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance } from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class NomalAttack extends KataComonClass {\r\n\r\n    oneAttack(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1.5, 0, 0.5);\r\n        const disLocation = getDistanceLocation(entity.location, distance);\r\n        const filter = addRegimentalFilter(0, disLocation, 3, entity);\r\n\r\n        this.kokyuApplyDamage(entity, filter, 0);\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { MizuNoKata } from \"../../kata/MizuNoKata\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（義勇）\r\n */\r\nexport class KokyuGiyuComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[5] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n            }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const mizu = new MizuNoKata();\r\n\r\n        switch (kata) {\r\n            case 2 :\r\n                mizu.niNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                mizu.sanNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                mizu.shiNoKata(player, itemStack);\r\n            break;\r\n            case 9 :\r\n                mizu.kuNoKata(player, itemStack);\r\n            break;\r\n            case 10 :\r\n                mizu.zyuNoKata(player, itemStack);\r\n            break;\r\n            case 11 :\r\n                mizu.zyuichiNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const mizu = new MizuNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                mizu.ichiNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                mizu.goNoKata(player, itemStack);\r\n            break;\r\n            case 6 :\r\n                mizu.rokuNoKata(player, itemStack);\r\n            break;\r\n            case 7 :\r\n                mizu.shitiNoKata(player, itemStack);\r\n            break;\r\n            case 8 :\r\n                mizu.hachiNoKata(player, itemStack);\r\n            break;\r\n       }\r\n    }\r\n\r\n}\r\n","import { ItemStack, MolangVariableMap, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance, weightChoice} from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class HanaNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 弐ノ型 御影梅\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hana_kokyu2.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n\r\n            const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n            const molang = new MolangVariableMap();\r\n            molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n                    const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 2.5, entity);\r\n                    entity.dimension.spawnParticle(\"kurokumaft:hana_ni_particle\", getDistanceLocation(entity.location, distance), molang);\r\n                    this.kokyuApplyDamage(entity, filter, 5);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },4);\r\n            system.waitTicks(TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        } finally {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 紅花衣\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hana_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 8);\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        entity.dimension.spawnParticle(\"kurokumaft:hana_shi_particle\",getDistanceLocation(entity.location, distance),molang);\r\n\r\n        system.waitTicks(TicksPerSecond).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 徒の芍薬\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hana_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        let count = 1;\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 2.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                if (count <= 9) {\r\n                    entity.dimension.spawnParticle(\"kurokumaft:hana_go_\"+ count +\"_particle\",getDistanceLocation(entity.location, distance),molang);\r\n                    count++;\r\n                }\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(TicksPerSecond).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 渦桃\r\n     */\r\n    rokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hana_kokyu6.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const distanceK = getLookLocationDistance(entity.getRotation().y, 3, 0, 1);\r\n        entity.applyKnockback({x:distanceK.x,z:distanceK.z},0.5);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                entity.applyKnockback({x:distanceK.x,z:distanceK.z},0);\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 1.5, 0, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n        \r\n                entity.dimension.spawnParticle(\"kurokumaft:hana_roku_particle\", getDistanceLocation(entity.location, distance), molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },3);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n    private higanLists = weightChoice([\r\n        { item: 'minor' , weight: 50 },\r\n        { item: 'serious' , weight: 35 },\r\n        { item: 'blindness' , weight: 15 },\r\n    ]);\r\n\r\n    /**\r\n     * 終ノ型 彼岸朱眼\r\n     */\r\n    shitiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        if (entity.getDynamicProperty(\"kurokumaft:chage_type\") === undefined) {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hana_kokyu7.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n    \r\n            entity.addEffect(\"minecraft:speed\", 200*TicksPerSecond,{\r\n                amplifier: 5,\r\n                showParticles: false\r\n            });\r\n            entity.addEffect(\"minecraft:jump_boost\", 200*TicksPerSecond,{\r\n                amplifier: 3,\r\n                showParticles: false\r\n            });\r\n            entity.addEffect(\"minecraft:night_vision\", 200*TicksPerSecond,{\r\n                amplifier: 10,\r\n                showParticles: false\r\n            });\r\n            system.waitTicks(180*TicksPerSecond).then(() => {\r\n                entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n\r\n                entity.removeEffect(\"minecraft:speed\");\r\n                entity.removeEffect(\"minecraft:jump_boost\");\r\n                entity.removeEffect(\"minecraft:night_vision\");\r\n\r\n                const choice = this.higanLists.pick();\r\n                switch (choice as string) {\r\n                    case 'blindness': \r\n                        entity.addEffect(\"minecraft:blindness\", 600*TicksPerSecond,{\r\n                            amplifier: 3,\r\n                            showParticles: false\r\n                        });\r\n                    case 'serious': \r\n                        entity.addEffect(\"minecraft:weakness\", 10*TicksPerSecond,{\r\n                            amplifier: 1,\r\n                            showParticles: false\r\n                        });\r\n                    case 'minor': \r\n                        entity.addEffect(\"minecraft:slowness\", 10*TicksPerSecond,{\r\n                            amplifier: 1,\r\n                            showParticles: false\r\n                        });\r\n                    break;\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { HanaNoKata } from \"../../kata/HanaNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（カナヲ）\r\n */\r\nexport class KokyuKanawoComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[4] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hana_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hana_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hana = new HanaNoKata();\r\n\r\n        switch (kata) {\r\n            case 2 :\r\n                hana.niNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                hana.shiNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                hana.goNoKata(player, itemStack);\r\n            break;\r\n            case 6 :\r\n                hana.rokuNoKata(player, itemStack);\r\n            break;\r\n            case 7 :\r\n                hana.shitiNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n    }\r\n\r\n}\r\n","import { ItemStack, MolangVariableMap, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance} from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class KoiNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 初恋のわななき\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:koi_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n                const filter = addRegimentalFilter(0, entity.location, 8, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 弐ノ型 懊悩巡る恋\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:koi_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        try {\r\n            const filter = addRegimentalFilter(0, entity.location, 8, entity);\r\n            this.kokyuApplyDamage(entity, filter, 5);\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n            entity.applyKnockback({x:distance.x,z:distance.z},0.75);\r\n\r\n        } catch (error: any) {\r\n        }\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            entity.addEffect(\"minecraft:slow_falling\", 1*TicksPerSecond,{\r\n                amplifier: 1,\r\n                showParticles: false\r\n            });\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 恋猫しぐれ\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:koi_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 3, -5, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0.3);\r\n\r\n        entity.dimension.spawnParticle(\"minecraft:cauldron_explosion_emitter\",entity.location);\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", true);\r\n\r\n        let side = 5;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 8, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n    \r\n                const distance = getLookLocationDistance(entity.getRotation().y, 3, side, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0.3);\r\n                entity.dimension.spawnParticle(\"minecraft:cauldron_explosion_emitter\",entity.location);\r\n\r\n                side = -side;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },10);\r\n\r\n        system.waitTicks(60).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 揺らめく恋情・乱れ爪\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:koi_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},1.0);\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 0, 0, -1);\r\n            const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 8, entity);\r\n\r\n            const parnum = system.runInterval(() => {\r\n\r\n                try {\r\n                    this.kokyuApplyDamage(entity, filter, 4);\r\n                } catch (error: any) {\r\n                    system.clearRun(parnum);\r\n                }\r\n\r\n            },1);\r\n            entity.addEffect(\"minecraft:slow_falling\", 1*TicksPerSecond,{\r\n                amplifier: 1,\r\n                showParticles: false\r\n            });\r\n\r\n            system.waitTicks(10).then(() => {\r\n                try {\r\n                    entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                    entity.removeEffect(\"minecraft:slow_falling\");\r\n                    system.runTimeout(() => {\r\n                        entity.addEffect(\"minecraft:slow_falling\", 1*TicksPerSecond,{\r\n                            amplifier: 1,\r\n                            showParticles: false\r\n                        });\r\n                    },5);\r\n                } finally {\r\n                    system.clearRun(parnum);\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 猫足恋風\r\n     */\r\n    rokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:koi_kokyu6.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, -3, 0, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},1);\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, -1.0);\r\n            const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 8, entity);\r\n\r\n            const parnum = system.runInterval(() => {\r\n\r\n                try {\r\n                    this.kokyuApplyDamage(entity, filter, 4);\r\n                } catch (error: any) {\r\n                    system.clearRun(parnum);\r\n                }\r\n            },1);\r\n\r\n            system.waitTicks(10).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                entity.addEffect(\"minecraft:slow_falling\", 1*TicksPerSecond,{\r\n                    amplifier: 1,\r\n                    showParticles: false\r\n                });\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(parnum);\r\n            });\r\n\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { KoiNoKata } from \"../../kata/KoiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（蜜璃）\r\n */\r\nexport class KokyuMituriComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[13] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:koi_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:koi_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const koi = new KoiNoKata();\r\n\r\n        switch (kata) {\r\n            case 2 :\r\n                koi.niNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                koi.sanNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                koi.goNoKata(player, itemStack);\r\n            break;\r\n            case 6 :\r\n                koi.rokuNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const koi = new KoiNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                koi.ichiNoKata(player, itemStack);\r\n            break;\r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, Entity, system, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance} from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { shooting } from \"../../common/ShooterEvent\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class HonoNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 不知火\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 3.5, entity);\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 3, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n                this.kokyuApplyDamage(entity, filter, 5);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        system.waitTicks(12).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 弐ノ型 昇り炎天\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1.5, 0, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 気炎万象\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1.5, 0, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 盛炎のうねり\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        let z = 0;\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, z, 0, 0.5);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                z++;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 炎虎\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const dragon = shooting(entity, \"kurokumaft:hono_tiger\", 0, 3, undefined);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(20).then(() => {\r\n            if (dragon.isValid) {\r\n                dragon.remove();\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 玖ノ型 煉獄\r\n     */\r\n    kuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kokyu9.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 3.5, entity);\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 6, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n                this.kokyuApplyDamage(entity, filter, 15);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        system.waitTicks(12).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { HonoNoKata } from \"../../kata/HonoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（煉獄）\r\n */\r\nexport class KokyuKyouzyuroComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[7] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hono = new HonoNoKata();\r\n\r\n        switch (kata) {\r\n            case 2 :\r\n                hono.niNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                hono.sanNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                hono.shiNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                hono.goNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hono = new HonoNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                hono.ichiNoKata(player, itemStack);\r\n            break;\r\n            case 9 :\r\n                hono.kuNoKata(player, itemStack);\r\n            break;\r\n       }\r\n    }\r\n\r\n}\r\n","import { ItemStack, MolangVariableMap, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance, getLookLocationDistancePitch, getRandomInRange } from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class KazeNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 塵旋風・削ぎ\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                const filter = addRegimentalFilter(0, entity.location, 3.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 5);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        system.waitTicks(12).then(() => {\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 弐ノ型 爪々・科戸風\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        for (let i=-2; i<=2; i=i+2) {\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 4, i, 0.5);\r\n            const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 4, entity);\r\n            this.kokyuApplyDamage(entity, filter, 4);\r\n    \r\n            const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n            const molang = new MolangVariableMap();\r\n            molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n    \r\n            entity.dimension.spawnParticle(\"kurokumaft:kaze2_particle\", getDistanceLocation(entity.location, distance), molang);\r\n        }\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 晴嵐風樹\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                entity.dimension.spawnParticle(\"kurokumaft:kaze3_particle\", getDistanceLocation(entity.location, distance), molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(30).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 昇上砂塵嵐\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 0, 0, 4);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n\r\n                entity.dimension.spawnParticle(\"kurokumaft:kaze4_particle\", entity.location, molang);\r\n                this.checkSazinReflection(entity);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    private checkSazinReflection(entity: Entity): void {\r\n        if (entity.isValid) {\r\n\r\n            this.projectRefrect(entity, entity.location);\r\n\r\n            entity.addTag(entity.id);\r\n            const filter = addRegimentalFilter(0, entity.location, 5, entity);\r\n            const targets = entity.dimension.getEntities(filter);\r\n            targets.forEach(en => {\r\n                const view = en.getViewDirection();\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 1, 1, 0);\r\n                en.applyKnockback({x:-Math.round(distance.x-view.x),z:-Math.round(distance.z-view.z)},1.5);\r\n            });\r\n            entity.removeTag(entity.id);\r\n\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 伍ノ型 木枯らし颪\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 1);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},1);\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 2.5, 0, -1.5);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.addEffect(\"minecraft:slow_falling\", 0.5*TicksPerSecond,{\r\n                amplifier: 1,\r\n                showParticles: false\r\n            });\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(30).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            entity.addEffect(\"minecraft:slow_falling\", 0.5*TicksPerSecond,{\r\n                amplifier: 1,\r\n                showParticles: false\r\n            });\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 黒風烟嵐\r\n     */\r\n    rokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kokyu6.value\"}]});\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1.5, 0, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 9);\r\n\r\n        system.waitTicks(8).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 漆ノ型 勁風・天狗風\r\n     */\r\n    shitiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kokyu7.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        for (let i=0; i<=6; i++) {\r\n            const side = getRandomInRange(-4, 4);\r\n            const around = getRandomInRange(-4, 4);\r\n            const distance = getLookLocationDistance(entity.getRotation().y, around, side, 0);\r\n            entity.dimension.spawnParticle(\"kurokumaft:kaze7_particle\",getDistanceLocation(entity.location, distance), molang);\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 4.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 捌ノ型 初烈風斬り\r\n     */\r\n    hachiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kokyu8.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n    \r\n                const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 玖ノ型 韋駄天台風\r\n     */\r\n    kuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kokyu9.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 0, 0, 1);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},1);\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 3, 0, -1);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 6);\r\n                entity.dimension.spawnParticle(\"kurokumaft:kaze3_particle\",getDistanceLocation(entity.location, distance), molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        entity.addEffect(\"minecraft:slow_falling\", 2*TicksPerSecond,{\r\n            amplifier: 1,\r\n            showParticles: false\r\n        });\r\n\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { KazeNoKata } from \"../../kata/KazeNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（実弥）\r\n */\r\nexport class KokyuSanemiComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[8] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kaze = new KazeNoKata();\r\n\r\n        switch (kata) {\r\n            case 2 :\r\n                kaze.niNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                kaze.sanNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                kaze.shiNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                kaze.goNoKata(player, itemStack);\r\n            break;\r\n            case 6 :\r\n                kaze.rokuNoKata(player, itemStack);\r\n            break;\r\n            case 7 :\r\n                kaze.shitiNoKata(player, itemStack);\r\n            break;\r\n            case 8 :\r\n                kaze.hachiNoKata(player, itemStack);\r\n            break;\r\n            case 9 :\r\n                kaze.kuNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kaze = new KazeNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                kaze.ichiNoKata(player, itemStack);\r\n            break;\r\n       }\r\n    }\r\n\r\n}\r\n","import { ItemStack, Entity, system, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance} from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class MushiNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 蝶ノ舞 戯れ\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:mushi_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 5, 0, 0.5);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0.5);\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 3, entity);\r\n                this.kokyuApplyDamage(entity, filter, 2);\r\n                this.kokyuApplyEffect(entity, filter, 4, 2, \"minecraft:poison\");\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        entity.dimension.spawnParticle(\"minecraft:cauldron_explosion_emitter\", entity.location);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 蜂牙ノ舞 真靡き\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:mushi_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const point = getLookLocationDistance(entity.getRotation().y, 10, 0, 0);\r\n        entity.applyKnockback({x:point.x,z:point.z},0);\r\n\r\n        system.waitTicks(2).then(() => {\r\n            entity.dimension.spawnParticle(\"minecraft:cauldron_explosion_emitter\",entity.location);\r\n\r\n            const filter = addRegimentalFilter(0, entity.location, 3, entity);\r\n            this.kokyuApplyDamage(entity, filter, 3);\r\n            this.kokyuApplyEffect(entity, filter, 4, 2, \"minecraft:poison\");\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(8).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 蜻蛉ノ舞 複眼六角\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:mushi_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 2);\r\n                this.kokyuApplyEffect(entity, filter, 6, 3, \"minecraft:poison\");\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n        system.waitTicks(16).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 蜈蚣ノ舞 百蟲の呼吸\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:mushi_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 8, -8, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n        entity.dimension.spawnParticle(\"minecraft:cauldron_explosion_emitter\", entity.location);\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", true);\r\n\r\n        let side = 8;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                this.kokyuApplyEffect(entity, filter, 2, 1, \"minecraft:poison\");\r\n    \r\n                const distance = getLookLocationDistance(entity.getRotation().y, 8, side, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n                entity.dimension.spawnParticle(\"minecraft:cauldron_explosion_emitter\",entity.location);\r\n\r\n                side = -side;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { MushiNoKata } from \"../../kata/MushiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（しのぶ）\r\n */\r\nexport class KokyuShinobuComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[6] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mushi_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mushi_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const mushi = new MushiNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                mushi.ichiNoKata(player, itemStack);\r\n            break;\r\n            case 2 :\r\n                mushi.niNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                mushi.sanNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                mushi.shiNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player, TicksPerSecond, world } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { MizuNoKata } from \"../../kata/MizuNoKata\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { HiNoKata } from \"../../kata/HiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（炭治郎）\r\n */\r\nexport class KokyuTanjiroComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[1] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kata1.value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[index+1]);\r\n                if (kokyuObject.kata[index+1] < 11) {\r\n                    player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kata\" + (kata+1) + \".value\"}]});\r\n                } else {\r\n                    player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hinokami_kata\" + (kata+1) + \".value\"}]});\r\n                }\r\n            }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const mizu = new MizuNoKata();\r\n        const hi = new HiNoKata();\r\n\r\n        switch (kata) {\r\n            case 2 :\r\n                mizu.niNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                mizu.sanNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                mizu.shiNoKata(player, itemStack);\r\n            break;\r\n            case 9 :\r\n                mizu.kuNoKata(player, itemStack);\r\n            break;\r\n            // case 10 :\r\n            //     mizu.zyuNoKataShot(player, itemStack);\r\n            // break;\r\n            case 10 :\r\n                mizu.zyuNoKata(player, itemStack);\r\n            break;\r\n            case 12 :\r\n                hi.niNoKata(player, itemStack);\r\n            break;\r\n            case 13 :\r\n                hi.sanNoKata(player, itemStack);\r\n            break;\r\n            case 14 :\r\n                hi.shiNoKata(player, itemStack);\r\n            break;\r\n            case 16 :\r\n                hi.rokuNoKata(player, itemStack);\r\n            break;\r\n            case 17 :\r\n                hi.shitiNoKata(player, itemStack);\r\n            break;\r\n            case 18 :\r\n                hi.hachiNoKata(player, itemStack);\r\n            break;\r\n            case 19 :\r\n                hi.kuNoKata(player, itemStack);\r\n            break;\r\n            case 20 :\r\n                hi.zyuNoKata(player, itemStack);\r\n            break;\r\n            case 21 :\r\n                hi.zyuichiNoKata(player, itemStack);\r\n            break;\r\n            case 22 :\r\n                hi.zyuniNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const mizu = new MizuNoKata();\r\n        const hi = new HiNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                mizu.ichiNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                mizu.goNoKata(player, itemStack);\r\n            break;\r\n            case 6 :\r\n                mizu.rokuNoKata(player, itemStack);\r\n            break;\r\n            case 7 :\r\n                mizu.shitiNoKata(player, itemStack);\r\n            break;\r\n            case 8 :\r\n                mizu.hachiNoKata(player, itemStack);\r\n            break;\r\n            case 11 :\r\n                const chage = (duration / TicksPerSecond);\r\n                if (chage > 997) {\r\n                    hi.ichiNoKata(player, itemStack);\r\n                } else {\r\n                    hi.ichiNoKataIssen(player, itemStack);\r\n                }\r\n\r\n            break;\r\n            case 15 :\r\n                hi.goNoKata(player, itemStack);\r\n            break;\r\n       }\r\n    }\r\n\r\n}\r\n","import { ItemStack, MolangVariableMap, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance, getLookLocationDistancePitch} from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class HiNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 円舞\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2.5, 0, 0.5);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 7);\r\n\r\n        system.waitTicks(2).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 壱ノ型 円舞一閃\r\n     */\r\n    ichiNoKataIssen(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu1_issen.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 5, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                const filter = addRegimentalFilter(0, entity.location, 3.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n            } catch (error :any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        system.waitTicks(8).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            system.waitTicks(4).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * 弐ノ型 碧羅の天\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2.5, 0, 0.5);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 7);\r\n\r\n        system.waitTicks(7).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 烈日紅鏡\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        // 左\r\n        const ldistance = getLookLocationDistance(entity.getRotation().y, 1.5, -1.5, 1);\r\n        const lfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, ldistance), 3, entity);\r\n        this.kokyuApplyDamage(entity, lfilter, 4);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            // 右\r\n            const rdistance = getLookLocationDistance(entity.getRotation().y, 1.5, 1.5, 1);\r\n            const rfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, rdistance), 3, entity);\r\n            this.kokyuApplyDamage(entity, rfilter, 4);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(25).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 灼骨炎陽\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        let z = 0;\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, z, 0, 0.5);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                z++;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        system.waitTicks(30).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n     }\r\n\r\n    /**\r\n     * 伍ノ型 陽華突\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const distance = getLookLocationDistancePitch(entity.getRotation(), 3.5, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3.5, entity);\r\n        this.kokyuApplyDamage(entity, filter, 7);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 日暈の龍 頭舞い\r\n     */\r\n    rokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu6.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n        entity.setProperty(\"kurokumaft:kokyu_chage\", 1);\r\n\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", true);\r\n        let side = 5;\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n    \r\n                const distance = getLookLocationDistance(entity.getRotation().y, 3, side, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                side = -side;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        system.waitTicks(1*TicksPerSecond).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 漆ノ型 斜陽転身\r\n     */\r\n    shitiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu7.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, -2, 0, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0.5);\r\n\r\n        const distance2 = getLookLocationDistance(entity.getRotation().y, 3, 0, -1);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance2), 4, entity);\r\n        this.kokyuApplyDamage(entity, filter, 9);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 捌ノ型 飛輪陽炎\r\n     */\r\n    hachiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu8.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 3.5, 0, 0.5);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 4, entity);\r\n        this.kokyuApplyDamage(entity, filter, 6);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 玖ノ型 輝輝恩光\r\n     */\r\n    kuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu9.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                entity.dimension.spawnParticle(\"kurokumaft:hi9_particle\", entity.location, molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1.5, 0, 0.5);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 2, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        const udistance = getLookLocationDistance(entity.getRotation().y, 1.5, 0, 3);\r\n        const ufilter = addRegimentalFilter(0, getDistanceLocation(entity.location, udistance), 3, entity);\r\n        this.kokyuApplyDamage(entity, ufilter, 5);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 拾ノ型 火車\r\n     */\r\n    zyuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu10.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        // fornt\r\n        const fdistance = getLookLocationDistance(entity.getRotation().y, 2.5, 0, 0);\r\n        const ffilter = addRegimentalFilter(0, getDistanceLocation(entity.location, fdistance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, ffilter, 4);\r\n        // back\r\n        const bdistance = getLookLocationDistance(entity.getRotation().y, -2.5, 0, 0);\r\n        const bfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, bdistance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, bfilter, 4);\r\n        // up\r\n        const udistance = getLookLocationDistance(entity.getRotation().y, 0, 0, 2.5);\r\n        const ufilter = addRegimentalFilter(0, getDistanceLocation(entity.location, udistance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, ufilter, 4);\r\n        // down\r\n        const ddistance = getLookLocationDistance(entity.getRotation().y, 0, 0, -2.5);\r\n        const dfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, ddistance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, dfilter, 4);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            const point = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n            entity.applyKnockback({x:point.x,z:point.z},0.5);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 拾壱ノ型 幻日虹\r\n     */\r\n    zyuichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity.getDynamicProperty(\"kurokumaft:chage_type\") === undefined) {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu11.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n\r\n            entity.triggerEvent(\"kurokumaft:add_damage_clear\");\r\n\r\n            this.gennitiIntervalId = system.runInterval(() => {\r\n                try {\r\n                    this.checkGennitiMove(entity, itemStack);\r\n                } catch (error: any) {\r\n                    system.clearRun(this.gennitiIntervalId);\r\n                }\r\n            },2);\r\n\r\n            const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n            const molang = new MolangVariableMap();\r\n            molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n    \r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    entity.dimension.spawnParticle(\"kurokumaft:hi_heat_haze_particle\", entity.location, molang);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },1);\r\n    \r\n            system.waitTicks(3*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n                entity.triggerEvent(\"kurokumaft:remove_damage_clear\");\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(this.gennitiIntervalId);\r\n                system.clearRun(num);\r\n            });\r\n        }\r\n    }\r\n\r\n    private gennitiIntervalId: number =0;\r\n    private checkGennitiMove(entity: Entity, itemStack:ItemStack | undefined): void {\r\n        if (entity.isValid) {\r\n            const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n            const molang = new MolangVariableMap();\r\n            molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n            if (this.projectRefrect(entity, entity.location)) {\r\n                entity.dimension.spawnParticle(\"kurokumaft:hi11_particle\",entity.location,molang);\r\n            }\r\n\r\n            entity.addTag(entity.id);\r\n            const filter = addRegimentalFilter(1, entity.location, 2.5, entity);\r\n            const targets = entity.dimension.getEntities(filter);\r\n            targets.forEach(en => {\r\n                entity.dimension.spawnParticle(\"kurokumaft:hi11_particle\",entity.location,molang);\r\n            });\r\n            entity.removeTag(entity.id);\r\n\r\n        } else {\r\n            system.clearRun(this.gennitiIntervalId);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 拾弐ノ型 炎舞\r\n     */\r\n    zyuniNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kokyu12.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2.5, 0, 0.5);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            this.kokyuApplyDamage(entity, filter, 5);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n    \r\n}\r\n","import { ItemStack, Player, TicksPerSecond } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KaminariNoKata } from \"../../kata/KaminariNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（善逸）\r\n */\r\nexport class KokyuZenituComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player:Player, itemStack:ItemStack): void {\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kaminari = new KaminariNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                const chage = (duration / TicksPerSecond);\r\n                if (chage > 998.5) {\r\n                    kaminari.ichiNoKata(player, itemStack);\r\n                } else if (chage > 996.5) {\r\n                    kaminari.ichiNoKataRoku(player, itemStack);\r\n                } else if (chage > 995.5) {\r\n                    kaminari.ichiNoKataHati(player, itemStack);\r\n                } else if (chage > 994) {\r\n                    kaminari.ichiNoKataShinsoku(player, itemStack);\r\n                } else {\r\n                    kaminari.shitiNoKata(player, itemStack);\r\n                }\r\n            break;\r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, MolangVariableMap, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance, getLookLocationDistancePitch, getRandomInRange} from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { shooting } from \"../../common/ShooterEvent\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class KaminariNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 霹靂一閃\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 2.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 5);\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        system.waitTicks(6).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 壱ノ型 霹靂一閃\r\n     */\r\n    ichiNoKataRen(entity:Entity, itemStack:ItemStack | undefined) {\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 2.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        system.waitTicks(6).then(() => {\r\n            entity.teleport(entity.location, {\r\n                keepVelocity: false,\r\n                rotation: {\r\n                    x:0,\r\n                    y:entity.getRotation().y + getRandomInRange(75, 115)\r\n                }\r\n            });\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 壱ノ型 霹靂一閃（六連）\r\n     */\r\n    ichiNoKataRoku(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        this.ichiNoKataRen(entity, itemStack);\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                this.ichiNoKataRen(entity, itemStack);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        }, 8);\r\n\r\n        system.waitTicks(49).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu1_rengeki.value\",with:[\"6\"]}]});\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 壱ノ型 霹靂一閃（八連）\r\n     */\r\n    ichiNoKataHati(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        this.ichiNoKataRen(entity, itemStack);\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                this.ichiNoKataRen(entity, itemStack);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        }, 8);\r\n\r\n        system.waitTicks(65).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu1_rengeki.value\",with:[\"8\"]}]});\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 壱ノ型 霹靂一閃 神速\r\n     */\r\n    ichiNoKataShinsoku(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu1_shinsoku.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const molang = new MolangVariableMap();\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 6, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                entity.dimension.spawnParticle(\"kurokumaft:kaminari4_particle\",entity.location,molang);\r\n                const filter = addRegimentalFilter(0, entity.location, 3.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 8);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        system.waitTicks(6).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 弐ノ型 稲魂\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 聚蚊成雷\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 4, -4, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n        entity.teleport(entity.location, {\r\n            keepVelocity: false,\r\n            rotation: {\r\n                x:0,\r\n                y:entity.getRotation().y + 90\r\n            }\r\n        });\r\n\r\n        const num2 = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 4, -4, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n                entity.teleport(entity.location, {\r\n                    keepVelocity: false,\r\n                    rotation: {\r\n                        x:0,\r\n                        y:entity.getRotation().y - 90\r\n                    }\r\n                });\r\n            } catch (error: any) {\r\n                system.clearRun(num2);\r\n            }\r\n        }, 5);\r\n\r\n        system.waitTicks(30).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n            system.clearRun(num2);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 遠雷\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 8, 0, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 8, entity);\r\n                this.kokyuApplyDamage(entity, filter, 2);\r\n        \r\n                entity.dimension.spawnParticle(\"kurokumaft:kaminari4_particle\",entity.location,molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 熱界雷\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                entity.dimension.spawnParticle(\"kurokumaft:kaminari5_particle\", entity.location, molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        const filter = addRegimentalFilter(1, entity.location, 6, entity);\r\n        this.kokyuApplyDamage(entity, filter, 3);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n        let event = \"kurokumaft:small_damage\";\r\n        if (kaikyuNum > 8) {\r\n            event = \"kurokumaft:lage_damage\";\r\n        } else if (kaikyuNum > 4) {\r\n            event = \"kurokumaft:middle_damage\";\r\n        }\r\n        const dragon = shooting(entity, \"kurokumaft:kaminari_dragon_small\", 0, 3, event);\r\n\r\n        system.waitTicks(2*TicksPerSecond).then(() => {\r\n            if (dragon.isValid) {\r\n                dragon.remove();\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 電轟雷轟\r\n     */\r\n    rokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu6.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0.8);\r\n\r\n        entity.addEffect(\"minecraft:slow_falling\", 1*TicksPerSecond,{\r\n            amplifier: 1,\r\n            showParticles: false\r\n        });\r\n\r\n        const nowloc = entity.location;\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                entity.dimension.spawnParticle(\"kurokumaft:kaminari6_particle\",nowloc,molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        const filter = addRegimentalFilter(1, entity.location, 10, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 漆ノ型 火雷神\r\n     */\r\n    shitiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu7.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_chage\", 10);\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const filter = addRegimentalFilter(1, entity.location, 30, entity);\r\n\r\n        entity.addTag(entity.id);\r\n        const targets = entity.dimension.getEntities(filter);\r\n        entity.removeTag(entity.id);\r\n        if (targets.length > 0) {\r\n            entity.teleport(targets[0].location, {\r\n                facingLocation: targets[0].location,\r\n            });\r\n        }\r\n\r\n        const filter2 = addRegimentalFilter(0, entity.location, 8, entity);\r\n        this.kokyuApplyDamage(entity, filter2, 15);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player, ItemComponentTypes, ItemEnchantableComponent, EntityComponentTypes, EntityEquippableComponent, EquipmentSlot, Entity, system } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistancePitch, weightChoice } from \"../common/KimetuCommonUtil\";\r\nimport { NichirintouUseComponent } from \"./NichirintouUseComponent\";\r\nimport { ItemDurabilityDamage } from \"../common/KimetuItemDurabilityDamage\";\r\nimport { NomalAttack } from \"./kata/NomalAttack\";\r\n\r\nconst nichirintouLists = weightChoice([\r\n    { item: 'kurokumaft:nichirintou_mizu' , weight: 50 },\r\n    { item: 'kurokumaft:nichirintou_hono' , weight: 30 },\r\n    { item: 'kurokumaft:nichirintou_kaze' , weight: 20 },\r\n    { item: 'kurokumaft:nichirintou_iwa' , weight: 20 },\r\n    { item: 'kurokumaft:nichirintou_kaminari' , weight: 15 },\r\n    { item: 'kurokumaft:nichirintou_hana' , weight: 10 },\r\n    { item: 'kurokumaft:nichirintou_kasumi' , weight: 10 },\r\n    { item: 'kurokumaft:nichirintou_kemono' , weight: 10 },\r\n    { item: 'kurokumaft:nichirintou_koi' , weight: 5 },\r\n    { item: 'kurokumaft:nichirintou_hebi' , weight: 5 },\r\n    { item: 'kurokumaft:nichirintou_mushi' , weight: 5 },\r\n    { item: 'kurokumaft:nichirintou_oto' , weight: 5 },\r\n    { item: 'kurokumaft:nichirintou_hi' , weight: 1 },\r\n    { item: 'kurokumaft:nichirintou_tuki' , weight: 1 },\r\n]);\r\n\r\nexport class NichirintouChoiceComponent implements NichirintouUseComponent {\r\n    durabilityDamageNitiriontou(entity: Entity, itemStack: ItemStack, duration: number): void {\r\n    }\r\n    changeKata(player: Player): void {\r\n    }\r\n    hitAttackKata(player: Player, itemStack: ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n    }\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        this.probabilisticChoice(itemStack, player);\r\n    }\r\n\r\n    /**\r\n     * 日輪刀色変わり\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    probabilisticChoice(itemStack:ItemStack, player:Player) {\r\n\r\n        player.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        player.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const nichirintou = nichirintouLists.pick();\r\n\r\n        const enchant = itemStack.getComponent(ItemComponentTypes.Enchantable) as ItemEnchantableComponent;\r\n\r\n        const changeItem = new ItemStack(nichirintou);\r\n        const newEnchant = changeItem.getComponent(ItemComponentTypes.Enchantable) as ItemEnchantableComponent;\r\n        newEnchant.addEnchantments(enchant.getEnchantments());\r\n\r\n        const equ = player.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n        equ.setEquipment(EquipmentSlot.Mainhand, changeItem);\r\n\r\n    }\r\n\r\n}","import { ItemStack, Entity, system, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance, getLookLocationDistancePitch } from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class HebiNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 委蛇斬り\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hebi_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distancePitch = getLookLocationDistancePitch(entity.getRotation(), 3, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distancePitch), 4, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 6, 0, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n        system.waitTicks(6).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n    /**\r\n     * 弐ノ型 狭頭の毒牙\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hebi_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distancePitch = getLookLocationDistancePitch(entity.getRotation(), 0, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distancePitch), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n        this.kokyuApplyEffect(entity, filter, 3, 2, \"minecraft:poison\");\r\n\r\n        system.waitTicks(6).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 塒締め\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hebi_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 3, 0, 0);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 6, entity);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 頸蛇双生\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hebi_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 3, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                const filter = addRegimentalFilter(1, entity.location, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 蜿蜿長蛇\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hebi_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        let side = 4;\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 5);\r\n    \r\n                const distance = getLookLocationDistance(entity.getRotation().y, 4, side, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n        \r\n                side = -side;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { HebiNoKata } from \"../../kata/HebiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（蛇）\r\n */\r\nexport class KokyuHebiComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[23] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hebi_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hebi_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hebi = new HebiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    hebi.ichiNoKata(player, itemStack);\r\n                break;\r\n                case 2 :\r\n                    hebi.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    hebi.sanNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    hebi.shiNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    hebi.goNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { HiNoKata } from \"../../kata/HiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（日）\r\n */\r\nexport class KokyuHiComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[16] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hi_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hi = new HiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    hi.ichiNoKata(player, itemStack);\r\n                break;\r\n                case 2 :\r\n                    hi.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    hi.sanNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    hi.shiNoKata(player, itemStack);\r\n                break;\r\n                case 6 :\r\n                    hi.rokuNoKata(player, itemStack);\r\n                break;\r\n                case 7 :\r\n                    hi.shitiNoKata(player, itemStack);\r\n                break;\r\n                case 8 :\r\n                    hi.hachiNoKata(player, itemStack);\r\n                break;\r\n                case 9 :\r\n                    hi.kuNoKata(player, itemStack);\r\n                break;\r\n                case 10 :\r\n                    hi.zyuNoKata(player, itemStack);\r\n                break;\r\n                case 11 :\r\n                    hi.zyuichiNoKata(player, itemStack);\r\n                break;\r\n                case 12 :\r\n                    hi.zyuniNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hi = new HiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 5 :\r\n                    hi.goNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { HonoNoKata } from \"../../kata/HonoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（炎）\r\n */\r\nexport class KokyuHonoComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[17] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hono_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hono = new HonoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 2 :\r\n                    hono.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    hono.sanNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    hono.shiNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    hono.goNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hono = new HonoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    hono.ichiNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, MolangVariableMap, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance, getRandomInRange } from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { shooting } from \"../../common/ShooterEvent\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class IwaNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 蛇紋岩・双極\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:iwa_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const ono = shooting(entity, \"kurokumaft:iwa_axe\", 0, 3, undefined);\r\n        const ball = shooting(entity, \"kurokumaft:iwa_iron_ball\", 0, 3, undefined);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(15).then(() => {\r\n            if (ono !== undefined) {\r\n                ono.remove();\r\n            }\r\n            if (ball !== undefined) {\r\n                ball.remove();\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n    /**\r\n     * 弐ノ型 天面砕き\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:iwa_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        system.waitTicks(6).then(() => {\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n            const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 6, entity);\r\n            this.kokyuApplyDamage(entity, filter, 8);\r\n\r\n            entity.dimension.spawnParticle(\"kurokumaft:iwa2_particle\", getDistanceLocation(entity.location, distance), molang);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 岩軀の膚\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:iwa_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 6, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n\r\n                this.projectRefrect(entity, entity.location);\r\n\r\n                entity.dimension.spawnParticle(\"kurokumaft:iwa3_particle\", entity.location, molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n\r\n        },2);\r\n\r\n        system.waitTicks(30).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 流紋岩・速征\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:iwa_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n    \r\n                const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                entity.dimension.spawnParticle(\"kurokumaft:iwa3_particle\", entity.location, molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 瓦輪刑部\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:iwa_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 1);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},1);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 0, 0, -5);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 6);\r\n\r\n                const side = getRandomInRange(-5, 5);\r\n                const around = getRandomInRange(-5, 5);\r\n                const distance2 = getLookLocationDistance(entity.getRotation().y, around, side, 0.5);\r\n                entity.dimension.spawnParticle(\"minecraft:cauldron_explosion_emitter\", getDistanceLocation(entity.location, distance2));\r\n                entity.dimension.spawnParticle(\"kurokumaft:iwa3_particle\", getDistanceLocation(entity.location, distance2), molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        entity.addEffect(\"minecraft:slow_falling\", 2*TicksPerSecond,{\r\n            amplifier: 1,\r\n            showParticles: false\r\n        });\r\n        \r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { IwaNoKata } from \"../../kata/IwaNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（岩）\r\n */\r\nexport class KokyuIwaComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[20] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:iwa_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:iwa_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const iwa = new IwaNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    iwa.ichiNoKata(player, itemStack);\r\n                break;\r\n                case 2 :\r\n                    iwa.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    iwa.sanNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    iwa.shiNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    iwa.goNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player, world } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { KaminariNoKata } from \"../../kata/KaminariNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（雷）\r\n */\r\nexport class KokyuKaminariComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[15] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kaminari = new KaminariNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 2 :\r\n                    kaminari.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    kaminari.sanNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    kaminari.goNoKata(player, itemStack);\r\n                break;\r\n                case 6 :\r\n                    kaminari.rokuNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kaminari = new KaminariNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    kaminari.ichiNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    kaminari.shiNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, MolangVariableMap, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistance, getLookLocationDistancePitch} from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class KasumiNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 垂天遠霞\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const distance1 = getLookLocationDistancePitch(entity.getRotation(), 1.5, 0);\r\n        const filter1 = addRegimentalFilter(0, getDistanceLocation(entity.location, distance1), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter1, 3);\r\n\r\n        const distance2 = getLookLocationDistancePitch(entity.getRotation(), 4.5, 0);\r\n        const filter2 = addRegimentalFilter(0, getDistanceLocation(entity.location, distance2), 2, entity);\r\n        this.kokyuApplyDamage(entity, filter2, 3);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n    /**\r\n     * 弐ノ型 八重霞\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                if (entity === undefined) {\r\n                    system.clearRun(num);\r\n                    return;\r\n                }\r\n\r\n                const filter = addRegimentalFilter(0, entity.location, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 霞散の飛沫\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const filter = addRegimentalFilter(0, entity.location, 6, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 移流斬り\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const filter = addRegimentalFilter(0, entity.location, 2.5, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n        entity.dimension.spawnParticle(\"kurokumaft:kasumi_fog_particle\", entity.location, molang);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                if (entity === undefined) {\r\n                    system.clearRun(num);\r\n                    return;\r\n                }\r\n                entity.dimension.spawnParticle(\"kurokumaft:kasumi_fog_particle\", entity.location, molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 10, 0, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 霞雲の海\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0.5);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                if (entity === undefined) {\r\n                    system.clearRun(num);\r\n                    return;\r\n                }\r\n\r\n                const filter = addRegimentalFilter(0, entity.location, 3, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n                entity.dimension.spawnParticle(\"kurokumaft:kasumi_fog_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n    \r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 月の霞消\r\n     */\r\n    rokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kokyu6.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                if (entity === undefined) {\r\n                    system.clearRun(num);\r\n                    return;\r\n                }\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 1.5, 0, -0.5);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 6, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n\r\n                entity.dimension.spawnParticle(\"kurokumaft:kasumi_fog_particle\", getDistanceLocation(entity.location, distance), molang);\r\n\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 5, 0, 1);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0.5);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 漆ノ型 朧\r\n     */\r\n    shitiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity.getDynamicProperty(\"kurokumaft:chage_type\") === undefined) {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kokyu7.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n            const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n            const molang = new MolangVariableMap();\r\n            molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n            entity.addEffect(\"minecraft:speed\", 10*TicksPerSecond,{\r\n                amplifier: 3,\r\n                showParticles: false\r\n            });\r\n\r\n            entity.setProperty(\"kurokumaft:kokyu_chage\", 1);\r\n            entity.dimension.spawnParticle(\"kurokumaft:kasumi_fog_lage_particle\",entity.location, molang);\r\n            entity.addEffect(\"minecraft:invisibility\", 20,{\r\n                amplifier: 10,\r\n                showParticles: false\r\n            });\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    if (entity === undefined) {\r\n                        system.clearRun(num);\r\n                        return;\r\n                    }\r\n                    entity.dimension.spawnParticle(\"kurokumaft:kasumi_fog_lage_particle\",entity.location, molang);\r\n        \r\n                    if (entity.getProperty(\"kurokumaft:kokyu_chage\") === 1) {\r\n                        entity.setProperty(\"kurokumaft:kokyu_chage\", 2);\r\n                        entity.removeEffect(\"minecraft:invisibility\");\r\n                    } else {\r\n                        entity.setProperty(\"kurokumaft:kokyu_chage\", 1);\r\n                        entity.addEffect(\"minecraft:invisibility\", 20,{\r\n                            amplifier: 10,\r\n                            showParticles: false\r\n                        });\r\n                    }\r\n                } catch (error: any) {\r\n                        system.clearRun(num);\r\n                }\r\n            },20);\r\n    \r\n            system.waitTicks(10*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { KasumiNoKata } from \"../../kata/KasumiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（霞）\r\n */\r\nexport class KokyuKasumiComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[21] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kasumi = new KasumiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 2 :\r\n                    kasumi.niNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    kasumi.goNoKata(player, itemStack);\r\n                break;\r\n                case 6 :\r\n                    kasumi.rokuNoKata(player, itemStack);\r\n                break;\r\n                case 7 :\r\n                    kasumi.shitiNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kasumi = new KasumiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    kasumi.ichiNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    kasumi.sanNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    kasumi.shiNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { KazeNoKata } from \"../../kata/KazeNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（風）\r\n */\r\nexport class KokyuKazeComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[19] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaze_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kaze = new KazeNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 2 :\r\n                    kaze.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    kaze.sanNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    kaze.shiNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    kaze.goNoKata(player, itemStack);\r\n                break;\r\n                case 6 :\r\n                    kaze.rokuNoKata(player, itemStack);\r\n                break;\r\n                case 7 :\r\n                    kaze.shitiNoKata(player, itemStack);\r\n                break;\r\n                case 8 :\r\n                    kaze.hachiNoKata(player, itemStack);\r\n                break;\r\n                case 9 :\r\n                    kaze.kuNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kaze = new KazeNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    kaze.ichiNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player, world } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { MizuNoKata } from \"../../kata/MizuNoKata\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（水）\r\n */\r\nexport class KokyuMizuComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[14] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mizu_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const mizu = new MizuNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 2 :\r\n                    mizu.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    mizu.sanNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    mizu.shiNoKata(player, itemStack);\r\n                break;\r\n                case 9 :\r\n                    mizu.kuNoKata(player, itemStack);\r\n                break;\r\n                case 10 :\r\n                    mizu.zyuNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const mizu = new MizuNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    mizu.ichiNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    mizu.goNoKata(player, itemStack);\r\n                break;\r\n                case 6 :\r\n                    mizu.rokuNoKata(player, itemStack);\r\n                break;\r\n                case 7 :\r\n                    mizu.shitiNoKata(player, itemStack);\r\n                break;\r\n                case 8 :\r\n                    mizu.hachiNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { MushiNoKata } from \"../../kata/MushiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（蟲）\r\n */\r\nexport class KokyuMushiComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[25] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mushi_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:mushi_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const mushi = new MushiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    mushi.ichiNoKata(player, itemStack);\r\n                break;\r\n                case 2 :\r\n                    mushi.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    mushi.sanNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    mushi.shiNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n    }\r\n\r\n}\r\n","import { ExplosionOptions, ItemStack, MolangVariableMap, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getForwardPosition, getLeftPosition, getLookLocationDistance, getRightPosition } from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class OtoNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 轟\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:oto_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1.5, 0, 0.5);\r\n        const disLocation = getDistanceLocation(entity.location, distance);\r\n        const filter = addRegimentalFilter(0, disLocation, 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        const option = {\r\n            allowUnderwater: true,\r\n            breaksBlocks: true,\r\n            causesFire: false,\r\n            source: entity\r\n        };\r\n        entity.dimension.createExplosion(disLocation, 2, option);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 弐ノ型 薙ぎ払い\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (itemStack !== undefined) {\r\n            ItemDurabilityDamage(entity, itemStack);\r\n        }\r\n        const option = {\r\n            allowUnderwater: true,\r\n            breaksBlocks: false,\r\n            causesFire: false,\r\n            source: entity\r\n        };\r\n\r\n        let side = -2;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 2, side, 0.5);\r\n                const disLocation = getDistanceLocation(entity.location, distance);\r\n                const filter = addRegimentalFilter(0, disLocation, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                entity.dimension.createExplosion(disLocation, 2, option);\r\n                side=side+2;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },5);\r\n\r\n        system.waitTicks(16).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 突進突き\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        if (itemStack !== undefined) {\r\n            ItemDurabilityDamage(entity, itemStack);\r\n        }\r\n\r\n        const option = {\r\n            allowUnderwater: true,\r\n            breaksBlocks: false,\r\n            causesFire: false,\r\n            source: entity\r\n        };\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0.5);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                const filter = addRegimentalFilter(0, entity.location, 3.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                const front = getForwardPosition(entity.location, entity.getRotation().y, 1);\r\n                entity.dimension.createExplosion(front, 2, option);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(12).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 鳴弦奏々\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:oto_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n\r\n        const option = {\r\n            allowUnderwater: true,\r\n            breaksBlocks: false,\r\n            causesFire: false,\r\n            source: entity\r\n        };\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n                this.checkSousouReflection(entity, option);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n    private checkSousouReflection(entity: Entity, option: ExplosionOptions): void {\r\n\r\n        if (entity.isValid) {\r\n\r\n            this.projectRefrect(entity, entity.location);\r\n\r\n            entity.addTag(entity.id);\r\n\r\n            let distance = getLookLocationDistance(entity.getRotation().y, 2, 2, 0);\r\n            let disLocation = getDistanceLocation(entity.location, distance);\r\n            entity.dimension.createExplosion(disLocation, 2, option);\r\n\r\n            distance = getLookLocationDistance(entity.getRotation().y, -2, 2, 0);\r\n            disLocation = getDistanceLocation(entity.location, distance);\r\n            entity.dimension.createExplosion(disLocation, 2, option);\r\n\r\n            distance = getLookLocationDistance(entity.getRotation().y, 2, -2, 0);\r\n            disLocation = getDistanceLocation(entity.location, distance);\r\n            entity.dimension.createExplosion(disLocation, 2, option);\r\n\r\n            distance = getLookLocationDistance(entity.getRotation().y, -2, -2, 0);\r\n            disLocation = getDistanceLocation(entity.location, distance);\r\n            entity.dimension.createExplosion(disLocation, 2, option);\r\n\r\n            entity.removeTag(entity.id);\r\n\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 伍ノ型 響斬無間\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity.getDynamicProperty(\"kurokumaft:chage_type\") === undefined) {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:oto_kokyu5.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n\r\n            entity.addEffect(\"minecraft:speed\", 3*TicksPerSecond,{\r\n                amplifier: 5,\r\n                showParticles: false\r\n            });\r\n\r\n            const option = {\r\n                allowUnderwater: true,\r\n                breaksBlocks: false,\r\n                causesFire: false,\r\n                source: entity\r\n            };\r\n    \r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0.5);\r\n        \r\n                    entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                    const filter = addRegimentalFilter(0, entity.location, 3.5, entity);\r\n                    this.kokyuApplyDamage(entity, filter, 4);\r\n\r\n                    const right = getRightPosition(entity.location, entity.getRotation().y, 3);\r\n                    entity.dimension.createExplosion(right, 2.5, option);\r\n        \r\n                    const left = getLeftPosition(entity.location, entity.getRotation().y, 3);\r\n                    entity.dimension.createExplosion(left, 2.5, option);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },2);\r\n    \r\n            system.waitTicks(3*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n    \r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { OtoNoKata } from \"../../kata/OtoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（音）\r\n */\r\nexport class KokyuOtoComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[22] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:oto_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:oto_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const oto = new OtoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    oto.ichiNoKata(player, itemStack);\r\n                break;\r\n                case 2 :\r\n                    oto.niNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    oto.shiNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    oto.goNoKata(player, itemStack);\r\n                break;\r\n            }\r\n\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const oto = new OtoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 3 :\r\n                    oto.sanNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { KasumiNoKata } from \"../../kata/KasumiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（無一郎）\r\n */\r\nexport class KokyuMuitiroComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[10] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kasumi_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kasumi = new KasumiNoKata();\r\n\r\n        switch (kata) {\r\n            case 2 :\r\n                kasumi.niNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                kasumi.goNoKata(player, itemStack);\r\n            break;\r\n            case 6 :\r\n                kasumi.rokuNoKata(player, itemStack);\r\n            break;\r\n            case 7 :\r\n                kasumi.shitiNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kasumi = new KasumiNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                kasumi.ichiNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                kasumi.sanNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                kasumi.shiNoKata(player, itemStack);\r\n            break;\r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { HebiNoKata } from \"../../kata/HebiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（小芭内）\r\n */\r\nexport class KokyuObanaiComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[12] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hebi_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hebi_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hebi = new HebiNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                hebi.ichiNoKata(player, itemStack);\r\n            break;\r\n            case 2 :\r\n                hebi.niNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                hebi.sanNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                hebi.shiNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                hebi.goNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { KoiNoKata } from \"../../kata/KoiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（恋）\r\n */\r\nexport class KokyuKoiComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[24] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:koi_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:koi_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const koi = new KoiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 2 :\r\n                    koi.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    koi.sanNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    koi.goNoKata(player, itemStack);\r\n                break;\r\n                case 6 :\r\n                    koi.rokuNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const koi = new KoiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    koi.ichiNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getLookLocationDistancePitch} from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class KedamonoNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ牙 穿ち抜き\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 弐ノ牙 切り裂き\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        // 左\r\n        const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, -0.5);\r\n        const lfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, lfilter, 3);\r\n        system.waitTicks(10).then(() => {\r\n            // 右\r\n            const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, 0.5);\r\n            const rfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n            this.kokyuApplyDamage(entity, rfilter, 3);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 参ノ牙 喰い裂き\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        \r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 2.5, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 肆ノ牙 切細裂き\r\n     */\r\n    shiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu4.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n                this.kokyuApplyDamage(entity, filter, 2);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ牙 狂い裂き\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, entity.location, 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ牙 乱杭咬み\r\n     */\r\n    rokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu6.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistancePitch(entity.getRotation(), 1, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3.5, entity);\r\n                this.kokyuApplyDamage(entity, filter, 2);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 漆ノ型 空間識覚\r\n     */\r\n    shitiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity.getDynamicProperty(\"kurokumaft:chage_type\") === undefined) {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu7.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_chage\", 10);\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n\r\n            entity.addEffect(\"minecraft:night_vision\", 30*TicksPerSecond,{\r\n                amplifier: 5,\r\n                showParticles: false\r\n            });\r\n            const filter = addRegimentalFilter(0, entity.location, 16, entity);\r\n            const targets = entity.dimension.getEntities(filter);\r\n\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    targets.forEach(en => {\r\n                        en.dimension.spawnParticle(\"kurokumaft:kedamono7_particle\", en.location);\r\n                    });\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },2);\r\n\r\n            system.waitTicks(10).then(() => {\r\n                entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n                entity.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n\r\n            system.waitTicks(10*TicksPerSecond).then(() => {\r\n                system.clearRun(num);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 捌ノ型 爆裂猛進\r\n     */\r\n    hachiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity.getDynamicProperty(\"kurokumaft:chage_type\") === undefined) {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu8.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n            entity.setProperty(\"kurokumaft:kokyu_chage\", 10);\r\n    \r\n            entity.addEffect(\"minecraft:speed\", 10*TicksPerSecond,{\r\n                amplifier: 5,\r\n                showParticles: false\r\n            });\r\n            system.waitTicks(10*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n                entity.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 玖ノ牙 伸・うねり裂き\r\n     */\r\n    kuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu9.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const distance = getLookLocationDistancePitch(entity.getRotation(), 3.5, 0);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 6, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 拾ノ牙 円転旋牙\r\n     */\r\n    zyuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity.getDynamicProperty(\"kurokumaft:chage_type\") === undefined) {\r\n            entity.setDynamicProperty(\"kurokumaft:chage_type\", true);\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kokyu10.value\"}]});\r\n                if (itemStack !== undefined) {\r\n                    ItemDurabilityDamage(entity, itemStack);\r\n                }\r\n            }\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    // 左\r\n                    const ldistance = getLookLocationDistancePitch(entity.getRotation(), 0.5, -1.5);\r\n                    const lfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, ldistance), 4, entity);\r\n                    this.kokyuApplyDamage(entity, lfilter, 5);\r\n\r\n                    // 右\r\n                    const rdistance = getLookLocationDistancePitch(entity.getRotation(), 0.5, 1.5);\r\n                    const rfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, rdistance), 4, entity);\r\n                    this.kokyuApplyDamage(entity, rfilter, 5);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },4);\r\n\r\n            system.waitTicks(3*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                entity.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n    \r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { KedamonoNoKata } from \"../../kata/KedamonoNoKata\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（獣）\r\n */\r\nexport class KokyuKedamonoComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[18] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 獣 呼吸\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kedamono = new KedamonoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    kedamono.ichiNoKata(player, itemStack);\r\n                break;\r\n                case 2 :\r\n                    kedamono.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    kedamono.sanNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    kedamono.shiNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    kedamono.goNoKata(player, itemStack);\r\n                break;\r\n                case 6 :\r\n                    kedamono.rokuNoKata(player, itemStack);\r\n                break;\r\n                case 7 :\r\n                    kedamono.shitiNoKata(player, itemStack);\r\n                break;\r\n                case 8 :\r\n                    kedamono.hachiNoKata(player, itemStack);\r\n                break;\r\n                case 9 :\r\n                    kedamono.kuNoKata(player, itemStack);\r\n                break;\r\n                case 10 :\r\n                    kedamono.zyuNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { IwaNoKata } from \"../../kata/IwaNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（行冥）\r\n */\r\nexport class KokyuGyoumeiComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[9] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:iwa_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:iwa_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n            }\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const iwa = new IwaNoKata();\r\n\r\n        player.addTag(player.id);\r\n        switch (kata) {\r\n            case 1 :\r\n                iwa.ichiNoKata(player, itemStack);\r\n            break;\r\n            case 2 :\r\n                iwa.niNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                iwa.sanNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                iwa.shiNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                iwa.goNoKata(player, itemStack);\r\n            break;\r\n        }\r\n        player.removeTag(player.id);\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { KedamonoNoKata } from \"../../kata/KedamonoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（伊之助）\r\n */\r\nexport class KokyuInosukeComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[3] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kedamono_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 伊之助 呼吸\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kedamono = new KedamonoNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                kedamono.ichiNoKata(player, itemStack);\r\n            break;\r\n            case 2 :\r\n                kedamono.niNoKata(player, itemStack);\r\n            break;\r\n            case 3 :\r\n                kedamono.sanNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                kedamono.shiNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                kedamono.goNoKata(player, itemStack);\r\n            break;\r\n            case 6 :\r\n                kedamono.rokuNoKata(player, itemStack);\r\n            break;\r\n            case 7 :\r\n                kedamono.shitiNoKata(player, itemStack);\r\n            break;\r\n            case 8 :\r\n                kedamono.hachiNoKata(player, itemStack);\r\n            break;\r\n            case 9 :\r\n                kedamono.kuNoKata(player, itemStack);\r\n            break;\r\n            case 10 :\r\n                kedamono.zyuNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n\r\n        switch (kata) {\r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { OtoNoKata } from \"../../kata/OtoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（天元）\r\n */\r\nexport class KokyuTengenComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[11] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:oto_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:oto_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const oto = new OtoNoKata();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                oto.ichiNoKata(player, itemStack);\r\n            break;\r\n            case 2 :\r\n                oto.niNoKata(player, itemStack);\r\n            break;\r\n            case 4 :\r\n                oto.shiNoKata(player, itemStack);\r\n            break;\r\n            case 5 :\r\n                oto.goNoKata(player, itemStack);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const oto = new OtoNoKata();\r\n\r\n        switch (kata) {\r\n            case 3 :\r\n                oto.sanNoKata(player, itemStack);\r\n            break;\r\n        }\r\n    }\r\n\r\n}\r\n","import { Container, ContainerSlot, EntityComponentTypes, EntityInventoryComponent, ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { HanaNoKata } from \"../../kata/HanaNoKata\";\r\nimport { ItemDurabilityDamage } from \"../../../common/KimetuItemDurabilityDamage\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（花）\r\n */\r\nexport class KokyuHanaComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[26] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hana_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:hana_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const hana = new HanaNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 2 :\r\n                    hana.niNoKata(player, itemStack);\r\n                break;\r\n                case 4 :\r\n                    hana.shiNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    hana.goNoKata(player, itemStack);\r\n                break;\r\n                case 6 :\r\n                    hana.rokuNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n    }\r\n\r\n}\r\n","import { EntityComponentTypes, EntityProjectileComponent, ItemStack, MolangVariableMap, Entity, system, Vector3, Player } from \"@minecraft/server\";\r\nimport { addRegimentalFilter, getDistanceLocation, getForwardPosition, getLookLocationDistance, getLookLocationDistancePitch, getRandomInRange } from \"../../common/KimetuCommonUtil\";\r\nimport { KataComonClass } from \"./KataComonClass\";\r\nimport { ItemDurabilityDamage } from \"../../common/KimetuItemDurabilityDamage\";\r\n\r\nexport class TukiNoKata extends KataComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 闇月・宵の宮\r\n     */\r\n    ichiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu1.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2.5, 0, 0.5);\r\n        const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n        this.kokyuApplyDamage(entity, filter, 5);\r\n\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.tuki_rotaion\", -entity.getRotation().y);\r\n        molang.setFloat(\"variable.tuki_size_x\", 5);\r\n        molang.setFloat(\"variable.tuki_size_y\", 2.5);\r\n\r\n        entity.dimension.spawnParticle(\"kurokumaft:tuki5_particle\", getDistanceLocation(entity.location, distance), molang);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 弐ノ型 珠華ノ弄月\r\n     */\r\n    niNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu2.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        let side = -3;\r\n        let tuki_rotaion = 90;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                molang.setFloat(\"variable.tuki_rotaion\", tuki_rotaion);\r\n        \r\n                const distance = getLookLocationDistance(entity.getRotation().y, 3, 0, 0.5);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n        \r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 2.5, side, 1);\r\n                entity.dimension.spawnParticle(\"kurokumaft:tuki_sweep_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n        \r\n                side=side+3;\r\n                tuki_rotaion=tuki_rotaion-90;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },5);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 厭忌月・銷り\r\n     */\r\n    sanNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu3.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.tuki_size_x\", 5);\r\n        molang.setFloat(\"variable.tuki_size_y\", 2.5);\r\n\r\n        // 左\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2.5, -1.5, 1);\r\n        const lfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3.5, entity);\r\n        this.kokyuApplyDamage(entity, lfilter, 3);\r\n\r\n        molang.setFloat(\"variable.tuki_rotaion\", 0);\r\n        entity.dimension.spawnParticle(\"kurokumaft:tuki_sweep_particle\", getDistanceLocation(entity.location, distance), molang);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            // 右\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 2.5, 1.5, 1);\r\n            const rfilter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 3.5, entity);\r\n            this.kokyuApplyDamage(entity, rfilter, 3);\r\n\r\n            molang.setFloat(\"variable.tuki_rotaion\", 180);\r\n            entity.dimension.spawnParticle(\"kurokumaft:tuki_sweep_particle\", getDistanceLocation(entity.location, distance), molang);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 月魄災渦\r\n     */\r\n    goNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu5.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const molang = new MolangVariableMap();\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const y = getRandomInRange(0.1, 2.5);\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 3.5, 0, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 4, entity);\r\n                this.kokyuApplyDamage(entity, filter, 3);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 6.5, 0, y);\r\n                molang.setFloat(\"variable.tuki_rotaion\", -entity.getRotation().y);\r\n                molang.setFloat(\"variable.tuki_size_x\", getRandomInRange(8, 12));\r\n                molang.setFloat(\"variable.tuki_size_y\", getRandomInRange(4, 8));\r\n                entity.dimension.spawnParticle(\"kurokumaft:tuki5_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 常夜孤月・無間\r\n     */\r\n    rokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu6.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        const parlo = getForwardPosition(entity.location, entity.getRotation().y, 4);\r\n        entity.dimension.spawnParticle(\"kurokumaft:tuki_box_particle\", parlo, molang);\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const side = getRandomInRange(-5, 5);\r\n                const tuki_rotaion = getRandomInRange(-90, 90);\r\n                molang.setFloat(\"variable.tuki_rotaion\", tuki_rotaion);\r\n\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 6, 0, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 8, entity);\r\n                this.kokyuApplyDamage(entity, filter, 2);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 6, side, 1);\r\n                entity.dimension.spawnParticle(\"kurokumaft:tuki_sweep_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 漆ノ型 厄鏡・月映え\r\n     */\r\n    shitiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu7.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const front = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n        this.tukibae(entity,entity.location, front);\r\n        const right1 = getLookLocationDistance(entity.getRotation().y, 1, 0.5, 0);\r\n        this.tukibae(entity,entity.location, right1);\r\n        const right2 = getLookLocationDistance(entity.getRotation().y, 1, 1, 0);\r\n        this.tukibae(entity,entity.location, right2);\r\n        const left1 = getLookLocationDistance(entity.getRotation().y, 1, -0.5, 0);\r\n        this.tukibae(entity,entity.location, left1);\r\n        const left2 = getLookLocationDistance(entity.getRotation().y, 1, -1, 0);\r\n        this.tukibae(entity,entity.location, left2);\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistancePitch(entity.getRotation(), 6, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 8, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 月映え\r\n     */\r\n    async tukibae(entity:Entity, location:Vector3, distance:Vector3) {\r\n\r\n        const tuki = entity.dimension.spawnEntity(\"kurokumaft:tuki_blead\", {\r\n            x:location.x + distance.x,\r\n            y:location.y,\r\n            z:location.z + distance.z\r\n        });\r\n\r\n        const projectile = tuki.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n        projectile.shoot({\r\n            x:distance.x * 3,\r\n            y:0,\r\n            z:distance.z * 3\r\n        });\r\n    \r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, location, 2, entity);\r\n                const exes = filter.excludeFamilies;\r\n                if (exes !== undefined) {\r\n                    exes.push(\"tuki_blead\");\r\n                }\r\n                this.kokyuApplyDamage(entity, filter, 2);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            if (tuki.isValid) {\r\n                tuki.remove();\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 捌ノ型 月龍輪尾\r\n     */\r\n    hachiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu8.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 6.5, 0, 0);\r\n        const disLotation = getDistanceLocation(entity.location, distance);\r\n\r\n        molang.setFloat(\"variable.tuki_rotaion\", -entity.getRotation().y);\r\n        molang.setFloat(\"variable.tuki_size_x\", getRandomInRange(8, 12));\r\n        molang.setFloat(\"variable.tuki_size_y\", getRandomInRange(4, 8));\r\n        entity.dimension.spawnParticle(\"kurokumaft:tuki8_particle\", disLotation, molang);\r\n\r\n        const filter = addRegimentalFilter(0, disLotation, 4, entity);\r\n        this.kokyuApplyDamage(entity, filter, 7);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 玖ノ型 降り月・連面\r\n     */\r\n    kuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu9.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        let tuki_rotaion = 75;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const side = getRandomInRange(-5, 5);\r\n                molang.setFloat(\"variable.tuki_rotaion\", tuki_rotaion);\r\n\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 6, 0, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 8, entity);\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 6, side, 1);\r\n                entity.dimension.spawnParticle(\"kurokumaft:tuki_sweep_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n        \r\n                tuki_rotaion=-tuki_rotaion;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 拾ノ型 穿面斬・蘿月\r\n     */\r\n    zyuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu10.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n\r\n        const ldistance = getLookLocationDistance(entity.getRotation().y, 1, -1.5, 0);\r\n        this.ragetu(entity,entity.location, ldistance);\r\n\r\n        const rdistance = getLookLocationDistance(entity.getRotation().y, 1, 1.5, 0);\r\n        this.ragetu(entity,entity.location, rdistance);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 蘿月\r\n     */\r\n    async ragetu(entity:Entity, location:Vector3, distance:Vector3) {\r\n\r\n        const tuki = entity.dimension.spawnEntity(\"kurokumaft:tuki_ragetu\", {\r\n            x:location.x + distance.x,\r\n            y:location.y,\r\n            z:location.z + distance.z\r\n        });\r\n\r\n        const front = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n        const projectile = tuki.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n        projectile.shoot({\r\n            x:front.x * 3,\r\n            y:0,\r\n            z:front.z * 3\r\n        });\r\n    \r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addRegimentalFilter(0, location, 2, entity);\r\n                const exes = filter.excludeFamilies;\r\n                if (exes !== undefined) {\r\n                    exes.push(\"tuki_blead\");\r\n                }\r\n                this.kokyuApplyDamage(entity, filter, 4);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            if (tuki.isValid) {\r\n                tuki.remove();\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 拾肆ノ型 兇変・天満繊月\r\n     */\r\n    zyushiNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu14.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const molang = new MolangVariableMap();\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const y = getRandomInRange(0.1, 2.5);\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 5, 0, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 6, entity);\r\n                this.kokyuApplyDamage(entity, filter, 6);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 8, 0, y);\r\n                molang.setFloat(\"variable.tuki_rotaion\", -entity.getRotation().y);\r\n                molang.setFloat(\"variable.tuki_size_x\", getRandomInRange(12, 16));\r\n                molang.setFloat(\"variable.tuki_size_y\", getRandomInRange(8, 12));\r\n                entity.dimension.spawnParticle(\"kurokumaft:tuki5_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 拾陸ノ型 月虹・片割れ月\r\n     */\r\n    zyurokuNoKata(entity:Entity, itemStack:ItemStack | undefined) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu16.value\"}]});\r\n            if (itemStack !== undefined) {\r\n                ItemDurabilityDamage(entity, itemStack);\r\n            }\r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        let tuki_rotaion = 90;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const side = getRandomInRange(-5, 5);\r\n                molang.setFloat(\"variable.tuki_rotaion\", tuki_rotaion);\r\n\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 8, 0, 0);\r\n                const filter = addRegimentalFilter(0, getDistanceLocation(entity.location, distance), 8, entity);\r\n                this.kokyuApplyDamage(entity, filter, 6);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 8, side, 1);\r\n                entity.dimension.spawnParticle(\"kurokumaft:tuki_sweep_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n        \r\n                tuki_rotaion=-tuki_rotaion;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n    \r\n}\r\n","import { ItemStack, Player } from \"@minecraft/server\";\r\nimport { NichirintouUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { KokyuObjects, KokyuObject } from \"../../../item/weapon/NichirintouTypes\";\r\nimport { TukiNoKata } from \"../../kata/TukiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（月）\r\n */\r\nexport class KokyuTukiComponent implements NichirintouUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeKata(player:Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const kokyuObject = KokyuObjects[27] as KokyuObject;\r\n\r\n        switch (kata) {\r\n            case kokyuObject.kata[kokyuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:tuki_kata\" + kokyuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kokyuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:tuki_kata\" + kokyuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackKata(player: Player, itemStack:ItemStack): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, itemStack);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Player} player\r\n     */\r\n    useAttackKata(player: Player, itemStack: ItemStack): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const tuki = new TukiNoKata();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 2 :\r\n                    tuki.niNoKata(player, itemStack);\r\n                break;\r\n                case 3 :\r\n                    tuki.sanNoKata(player, itemStack);\r\n                break;\r\n                case 5 :\r\n                    tuki.goNoKata(player, itemStack);\r\n                break;\r\n                case 6 :\r\n                    tuki.rokuNoKata(player, itemStack);\r\n                break;\r\n                case 7 :\r\n                    tuki.shitiNoKata(player, itemStack);\r\n                break;\r\n                case 8 :\r\n                    tuki.hachiNoKata(player, itemStack);\r\n                break;\r\n                case 9 :\r\n                    tuki.kuNoKata(player, itemStack);\r\n                break;\r\n                case 10 :\r\n                    tuki.zyuNoKata(player, itemStack);\r\n                break;\r\n                case 14 :\r\n                    tuki.zyushiNoKata(player, itemStack);\r\n                break;\r\n                case 16 :\r\n                    tuki.zyurokuNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackKata(player: Player, itemStack: ItemStack, duration:number): void {\r\n        const kata = player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n        const tuki = new TukiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    tuki.ichiNoKata(player, itemStack);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { MizuNoKata } from \"../../kata/MizuNoKata\";\r\nimport { HiNoKata } from \"../../kata/HiNoKata\";\r\nimport { getRandomInRange, weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst tanjiroKokyuLowLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 40 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 30 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 20 },\r\n    { item: 9 , weight: 10 },\r\n    { item: 10 , weight: 10 },\r\n]);\r\n\r\nconst tanjiroKokyuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 40 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 30 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 20 },\r\n    { item: 9 , weight: 10 },\r\n    { item: 10 , weight: 10 },\r\n    { item: 11 , weight: 30 },\r\n    { item: 12 , weight: 30 },\r\n    { item: 13 , weight: 30 },\r\n    { item: 14 , weight: 20 },\r\n    { item: 15 , weight: 10 },\r\n    { item: 16 , weight: 20 },\r\n    { item: 17 , weight: 20 },\r\n    { item: 18 , weight: 20 },\r\n    { item: 19 , weight: 10 },\r\n    { item: 20 , weight: 20 },\r\n    { item: 21 , weight: 10 },\r\n    { item: 22 , weight: 20 },\r\n]);\r\n\r\nconst tanjiroKokyuHiLists = weightChoice([\r\n    { item: 11 , weight: 30 },\r\n    { item: 12 , weight: 30 },\r\n    { item: 13 , weight: 30 },\r\n    { item: 14 , weight: 20 },\r\n    { item: 15 , weight: 10 },\r\n    { item: 16 , weight: 20 },\r\n    { item: 17 , weight: 20 },\r\n    { item: 18 , weight: 20 },\r\n    { item: 19 , weight: 10 },\r\n    { item: 20 , weight: 20 },\r\n    { item: 21 , weight: 10 },\r\n    { item: 22 , weight: 20 },\r\n]);\r\n\r\n/**\r\n * 炭治郎\r\n */\r\nexport class TanjiroComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        if (kaikyuNum > 7) {\r\n            const num = tanjiroKokyuHiLists.pick();\r\n            entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } else if (kaikyuNum > 4) {\r\n            const num = tanjiroKokyuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } else {\r\n            const num = tanjiroKokyuLowLists.pick();\r\n            entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const mizu = new MizuNoKata();\r\n        const hi = new HiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(10).then(() => {\r\n                        mizu.ichiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.niNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.sanNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.shiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        mizu.goNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        mizu.rokuNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        mizu.shitiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(5).then(() => {\r\n                        mizu.hachiNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    mizu.kuNoKata(entity, undefined);\r\n                    system.waitTicks(15*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 10 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.zyuNoKata(entity, undefined);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 11 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    const ichi = getRandomInRange(1, 2);\r\n                    if (ichi === 1) {\r\n                        hi.ichiNoKata(entity, undefined);\r\n                        system.waitTicks(20).then(() => {\r\n                            entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                            entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                        }).catch((error: any) => {\r\n                        });\r\n                    } else {\r\n                        system.waitTicks(20).then(() => {\r\n                            hi.ichiNoKataIssen(entity, undefined);\r\n                            entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                            entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                        }).catch((error: any) => {\r\n                        });\r\n                    }\r\n                break;\r\n                case 12 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.niNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    break;\r\n                case 13 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    break;\r\n                case 14 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.shiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 15 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        hi.goNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 16 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(90).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 17 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 18 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.hachiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 19 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.kuNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 20 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.zyuNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 21 :\r\n                    hi.zyuichiNoKata(entity, undefined);\r\n                    system.waitTicks(10*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 22 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.zyuniNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { Entity, system, TicksPerSecond, world } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { MizuNoKata } from \"../../kata/MizuNoKata\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst giyuKokyuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 50 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 10 },\r\n    { item: 9 , weight: 10 },\r\n    { item: 10 , weight: 10 },\r\n    { item: 11 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 義勇\r\n */\r\nexport class GiyuComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = giyuKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const mizu = new MizuNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(15).then(() => {\r\n                        mizu.ichiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.niNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.sanNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.shiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        mizu.goNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        mizu.rokuNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        mizu.shitiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(5).then(() => {\r\n                        mizu.hachiNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    mizu.kuNoKata(entity, undefined);\r\n                    system.waitTicks(15*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 10 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.zyuNoKata(entity, undefined);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 11 :\r\n                    mizu.zyuichiNoKata(entity, undefined);\r\n                    system.waitTicks(15*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KaminariNoKata } from \"../../kata/KaminariNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst zenituKokyuLists = weightChoice([\r\n    { item: 1 , weight: 80 },\r\n    { item: 2 , weight: 15 },\r\n    { item: 3 , weight: 5 },\r\n]);\r\n\r\n/**\r\n * 善逸\r\n */\r\nexport class ZenituComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = zenituKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const kaminari = new KaminariNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(40).then(() => {\r\n                        kaminari.ichiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(80).then(() => {\r\n                        kaminari.ichiNoKataShinsoku(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(120).then(() => {\r\n                        kaminari.shitiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KedamonoNoKata } from \"../../kata/KedamonoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst inosukeKokyuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 50 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 10 },\r\n    { item: 9 , weight: 10 },\r\n    { item: 10 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 伊之助\r\n */\r\nexport class InosukeComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = inosukeKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const kedamono = new KedamonoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(15).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.niNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.sanNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.shiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.goNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.hachiNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.kuNoKata(entity, undefined);\r\n                    system.waitTicks(15*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 10 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.zyuNoKata(entity, undefined);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { HanaNoKata } from \"../../kata/HanaNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst kanawoKokyuLists = weightChoice([\r\n    { item: 2 , weight: 20 },\r\n    { item: 4 , weight: 20 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 15 },\r\n    { item: 7 , weight: 5 },\r\n]);\r\n\r\n/**\r\n * カナヲ\r\n */\r\nexport class KanawoComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = kanawoKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const hana = new HanaNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hana.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hana.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hana.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hana.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hana.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { MushiNoKata } from \"../../kata/MushiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst shinobuKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 30 },\r\n]);\r\n\r\n/**\r\n * しのぶ\r\n */\r\nexport class ShinobuComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = shinobuKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const mushi = new MushiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mushi.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mushi.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mushi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mushi.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { HonoNoKata } from \"../../kata/HonoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst kyouzyuroKokyuLists = weightChoice([\r\n    { item: 1 , weight: 35 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 30 },\r\n    { item: 5 , weight: 20 },\r\n    { item: 9 , weight: 15 },\r\n]);\r\n\r\n/**\r\n * 杏寿郎\r\n */\r\nexport class KyouzyuroComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = kyouzyuroKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const hono = new HonoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(30).then(() => {\r\n                        hono.ichiNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hono.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hono.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hono.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hono.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(40).then(() => {\r\n                        hono.kuNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { OtoNoKata } from \"../../kata/OtoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst tengenKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 20 },\r\n    { item: 5 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 杏寿郎\r\n */\r\nexport class TengenComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = tengenKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const oto = new OtoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { HebiNoKata } from \"../../kata/HebiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst obanaiKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 30 },\r\n    { item: 5 , weight: 30 },\r\n]);\r\n\r\n/**\r\n * 小芭内\r\n */\r\nexport class ObanaiComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = obanaiKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const hebi = new HebiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KazeNoKata } from \"../../kata/KazeNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst sanemiKokyuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 50 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 10 },\r\n    { item: 9 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 実生\r\n */\r\nexport class SanemiComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = sanemiKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const kaze = new KazeNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        kaze.ichiNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.hachiNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.kuNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KoiNoKata } from \"../../kata/KoiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst mituriKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 20 },\r\n    { item: 5 , weight: 20 },\r\n    { item: 6 , weight: 20 },\r\n]);\r\n\r\n/**\r\n * 蜜璃\r\n */\r\nexport class MituriComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = mituriKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const koi = new KoiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KasumiNoKata } from \"../../kata/KasumiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst muitiroKokyuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 50 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n]);\r\n\r\n/**\r\n * 無一郎\r\n */\r\nexport class MuitiroComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = muitiroKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const kasumi = new KasumiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        kasumi.ichiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        kasumi.shiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { IwaNoKata } from \"../../kata/IwaNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst gyoumeiKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 20 },\r\n    { item: 5 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 行冥\r\n */\r\nexport class GyoumeiComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = gyoumeiKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const iwa = new IwaNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    iwa.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(30).then(() => {\r\n                        iwa.niNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    iwa.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    iwa.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    iwa.goNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { MizuNoKata } from \"../../kata/MizuNoKata\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst mizuKokyuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 50 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 10 },\r\n    { item: 9 , weight: 10 },\r\n    { item: 10 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 水\r\n */\r\nexport class MizuComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = mizuKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const mizu = new MizuNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(15).then(() => {\r\n                        mizu.ichiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.niNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.sanNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.shiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        mizu.goNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        mizu.rokuNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        mizu.shitiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(5).then(() => {\r\n                        mizu.hachiNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    mizu.kuNoKata(entity, undefined);\r\n                    system.waitTicks(15*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 10 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mizu.zyuNoKata(entity, undefined);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { HiNoKata } from \"../../kata/HiNoKata\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst hiKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 20 },\r\n    { item: 5 , weight: 10 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 20 },\r\n    { item: 9 , weight: 10 },\r\n    { item: 10 , weight: 20 },\r\n    { item: 11 , weight: 10 },\r\n    { item: 12 , weight: 20 },\r\n]);\r\n\r\n/**\r\n * 日\r\n */\r\nexport class HiComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    async attackWait(entity:Entity, attack:NomalAttack) {\r\n        attack.oneAttack(entity, undefined);\r\n        await system.waitTicks(2.5).then(() => {\r\n        });\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = hiKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const hi = new HiNoKata();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.niNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.shiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        hi.goNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(90).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.hachiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.kuNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 10 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.zyuNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 11 :\r\n                    hi.zyuichiNoKata(entity, undefined);\r\n                    system.waitTicks(10*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 12 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hi.zyuniNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KaminariNoKata } from \"../../kata/KaminariNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst kaminariKokyuLists = weightChoice([\r\n    { item: 1 , weight: 10 },\r\n    { item: 2 , weight: 20 },\r\n    { item: 3 , weight: 20 },\r\n    { item: 4 , weight: 20 },\r\n    { item: 5 , weight: 20 },\r\n    { item: 6 , weight: 20 },\r\n]);\r\n\r\n/**\r\n * 雷\r\n */\r\nexport class KaminariComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = kaminariKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const kaminari = new KaminariNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(40).then(() => {\r\n                        kaminari.ichiNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaminari.niNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaminari.sanNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaminari.shiNoKata(entity, undefined);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaminari.goNoKata(entity, undefined);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaminari.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { HanaNoKata } from \"../../kata/HanaNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst hanaKokyuLists = weightChoice([\r\n    { item: 2 , weight: 20 },\r\n    { item: 4 , weight: 20 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 15 },\r\n]);\r\n\r\n/**\r\n * カナヲ\r\n */\r\nexport class HanaComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = hanaKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const hana = new HanaNoKata();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hana.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hana.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hana.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hana.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { HebiNoKata } from \"../../kata/HebiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst hebiKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 30 },\r\n    { item: 5 , weight: 30 },\r\n]);\r\n\r\n/**\r\n * 小芭内\r\n */\r\nexport class HebiComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = hebiKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const hebi = new HebiNoKata();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hebi.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { HonoNoKata } from \"../../kata/HonoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst honoKokyuLists = weightChoice([\r\n    { item: 1 , weight: 40 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 30 },\r\n    { item: 5 , weight: 20 },\r\n]);\r\n\r\n/**\r\n * 杏寿郎\r\n */\r\nexport class HonoComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = honoKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const hono = new HonoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(30).then(() => {\r\n                        hono.ichiNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hono.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hono.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hono.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hono.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { IwaNoKata } from \"../../kata/IwaNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst iwaKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 20 },\r\n    { item: 5 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 行冥\r\n */\r\nexport class IwaComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = iwaKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const iwa = new IwaNoKata();\r\n\r\n        try {\r\n            \r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    iwa.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(30).then(() => {\r\n                        iwa.niNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    iwa.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    iwa.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    iwa.goNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KasumiNoKata } from \"../../kata/KasumiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst kasumiKokyuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 50 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n]);\r\n\r\n/**\r\n * 無一郎\r\n */\r\nexport class KasumiComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = kasumiKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const kasumi = new KasumiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        kasumi.ichiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        kasumi.shiNoKata(entity, undefined);\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kasumi.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KazeNoKata } from \"../../kata/KazeNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst kazeKokyuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 50 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 10 },\r\n    { item: 9 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 実生\r\n */\r\nexport class KazeComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = kazeKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const kaze = new KazeNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(20).then(() => {\r\n                        kaze.ichiNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.hachiNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kaze.kuNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KoiNoKata } from \"../../kata/KoiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst koiKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 20 },\r\n    { item: 5 , weight: 20 },\r\n    { item: 6 , weight: 20 },\r\n]);\r\n\r\n/**\r\n * 蜜璃\r\n */\r\nexport class KoiComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = koiKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const koi = new KoiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koi.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { MushiNoKata } from \"../../kata/MushiNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst mushiKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 30 },\r\n]);\r\n\r\n/**\r\n * しのぶ\r\n */\r\nexport class MushiComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = mushiKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const mushi = new MushiNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mushi.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mushi.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mushi.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    mushi.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { OtoNoKata } from \"../../kata/OtoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst otoKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 4 , weight: 20 },\r\n    { item: 5 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 杏寿郎\r\n */\r\nexport class OtoComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = otoKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const oto = new OtoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.shiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    oto.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { TukiNoKata } from \"../../kata/TukiNoKata\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst tukiKokyuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 30 },\r\n    { item: 5 , weight: 30 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 20 },\r\n    { item: 9 , weight: 20 },\r\n    { item: 10 , weight: 20 },\r\n    { item: 14 , weight: 10 },\r\n    { item: 16 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 呼吸（月）\r\n */\r\nexport class TukiComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = tukiKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const tuki = new TukiNoKata();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.waitTicks(30).then(() => {\r\n                        tuki.ichiNoKata(entity, undefined);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.niNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.sanNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.goNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.hachiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.kuNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 10 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.zyuNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 14 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.zyushiNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 16 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.zyurokuNoKata(entity, undefined);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { KokyuMobUseComponent } from \"../../NichirintouUseComponent\";\r\nimport { weightChoice } from \"../../../common/KimetuCommonUtil\";\r\nimport { KedamonoNoKata } from \"../../kata/KedamonoNoKata\";\r\nimport { NomalAttack } from \"../../kata/NomalAttack\";\r\n\r\nconst kedamonoKokyuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 50 },\r\n    { item: 3 , weight: 50 },\r\n    { item: 4 , weight: 50 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 20 },\r\n    { item: 7 , weight: 20 },\r\n    { item: 8 , weight: 10 },\r\n    { item: 9 , weight: 10 },\r\n    { item: 10 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 伊之助\r\n */\r\nexport class KedamonoComponent implements KokyuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n            if (nitirintou_equip) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackKokyu(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackKata(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackKokyu(entity:Entity): void {\r\n\r\n        const num = kedamonoKokyuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kokyu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const kedamono = new KedamonoNoKata();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.ichiNoKata(entity, undefined);\r\n                    system.waitTicks(15).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.niNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.sanNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.shiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.goNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.rokuNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.shitiNoKata(entity, undefined);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.hachiNoKata(entity, undefined);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    kedamono.kuNoKata(entity, undefined);\r\n                    system.waitTicks(15*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 10 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kedamono.zyuNoKata(entity, undefined);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kokyu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n}\r\n","import { KokyuGiyuComponent } from \"../../kokyu/player/character/KokyuGiyuComponent\";\r\nimport { KokyuKanawoComponent } from \"../../kokyu/player/character/KokyuKanawoComponent\";\r\nimport { KokyuMituriComponent } from \"../../kokyu/player/character/KokyuMituriComponent\";\r\nimport { KokyuKyouzyuroComponent } from \"../../kokyu/player/character/KokyuKyouzyuroComponent\";\r\nimport { KokyuSanemiComponent } from \"../../kokyu/player/character/KokyuSanemiComponent\";\r\nimport { KokyuShinobuComponent } from \"../../kokyu/player/character/KokyuShinobuComponent\";\r\nimport { KokyuTanjiroComponent } from \"../../kokyu/player/character/KokyuTanjiroComponent\";\r\nimport { KokyuZenituComponent } from \"../../kokyu/player/character/KokyuZenituComponent\";\r\nimport { NichirintouChoiceComponent } from \"../../kokyu/NichirintouChoiceComponent\";\r\nimport { KokyuMobUseComponent, NichirintouUseComponent } from \"../../kokyu/NichirintouUseComponent\";\r\nimport { KokyuHebiComponent } from \"../../kokyu/player/regimental/KokyuHebiComponent\";\r\nimport { KokyuHiComponent } from \"../../kokyu/player/regimental/KokyuHiComponent\";\r\nimport { KokyuHonoComponent } from \"../../kokyu/player/regimental/KokyuHonoComponent\";\r\nimport { KokyuIwaComponent } from \"../../kokyu/player/regimental/KokyuIwaComponent\";\r\nimport { KokyuKaminariComponent } from \"../../kokyu/player/regimental/KokyuKaminariComponent\";\r\nimport { KokyuKasumiComponent } from \"../../kokyu/player/regimental/KokyuKasumiComponent\";\r\nimport { KokyuKazeComponent } from \"../../kokyu/player/regimental/KokyuKazeComponent\";\r\nimport { KokyuMizuComponent } from \"../../kokyu/player/regimental/KokyuMizuComponent\";\r\nimport { KokyuMushiComponent } from \"../../kokyu/player/regimental/KokyuMushiComponent\";\r\nimport { KokyuOtoComponent } from \"../../kokyu/player/regimental/KokyuOtoComponent\";\r\nimport { KokyuMuitiroComponent } from \"../../kokyu/player/character/KokyuMuitiroComponent\";\r\nimport { KokyuObanaiComponent } from \"../../kokyu/player/character/KokyuObanaiComponent\";\r\nimport { KokyuKoiComponent } from \"../../kokyu/player/regimental/KokyuKoiComponent\";\r\nimport { KokyuKedamonoComponent } from \"../../kokyu/player/regimental/KokyuKedamonoComponent\";\r\nimport { KokyuGyoumeiComponent } from \"../../kokyu/player/character/KokyuGyoumeiComponent\";\r\nimport { KokyuInosukeComponent } from \"../../kokyu/player/character/KokyuInosukeComponent\";\r\nimport { KokyuTengenComponent } from \"../../kokyu/player/character/KokyuTengenComponent\";\r\nimport { KokyuHanaComponent } from \"../../kokyu/player/regimental/KokyuHanaComponent\";\r\nimport { KokyuTukiComponent } from \"../../kokyu/player/regimental/KokyuTukiComponent\";\r\nimport { TanjiroComponent } from \"../../kokyu/mob/character/TanjiroComponent\";\r\nimport { GiyuComponent } from \"../../kokyu/mob/character/GiyuComponent\";\r\nimport { ZenituComponent } from \"../../kokyu/mob/character/ZenituComponent\";\r\nimport { InosukeComponent } from \"../../kokyu/mob/character/InosukeComponent\";\r\nimport { KanawoComponent } from \"../../kokyu/mob/character/KanawoComponent\";\r\nimport { ShinobuComponent } from \"../../kokyu/mob/character/ShinobuComponent\";\r\nimport { KyouzyuroComponent } from \"../../kokyu/mob/character/KyouzyuroComponent\";\r\nimport { TengenComponent } from \"../../kokyu/mob/character/TengenComponent\";\r\nimport { ObanaiComponent } from \"../../kokyu/mob/character/ObanaiComponent\";\r\nimport { SanemiComponent } from \"../../kokyu/mob/character/SanemiComponent\";\r\nimport { MituriComponent } from \"../../kokyu/mob/character/MituriComponent\";\r\nimport { MuitiroComponent } from \"../../kokyu/mob/character/MuitiroComponent\";\r\nimport { GyoumeiComponent } from \"../../kokyu/mob/character/GyoumeiComponent\";\r\nimport { MizuComponent } from \"../../kokyu/mob/regimental/MizuComponent\";\r\nimport { HiComponent } from \"../../kokyu/mob/regimental/HiComponent\";\r\nimport { KaminariComponent } from \"../../kokyu/mob/regimental/KaminariComponent\";\r\nimport { HanaComponent } from \"../../kokyu/mob/regimental/HanaComponent\";\r\nimport { HebiComponent } from \"../../kokyu/mob/regimental/HebiComponent\";\r\nimport { HonoComponent } from \"../../kokyu/mob/regimental/HonoComponent\";\r\nimport { IwaComponent } from \"../../kokyu/mob/regimental/IwaComponent\";\r\nimport { KasumiComponent } from \"../../kokyu/mob/regimental/KasumiComponent\";\r\nimport { KazeComponent } from \"../../kokyu/mob/regimental/KazeComponent\";\r\nimport { KoiComponent } from \"../../kokyu/mob/regimental/KoiComponent\";\r\nimport { MushiComponent } from \"../../kokyu/mob/regimental/MushiComponent\";\r\nimport { OtoComponent } from \"../../kokyu/mob/regimental/OtoComponent\";\r\nimport { TukiComponent } from \"../../kokyu/mob/regimental/TukiComponent\";\r\nimport { KedamonoComponent } from \"../../kokyu/mob/regimental/KedamonoComponent\";\r\n\r\nexport interface KokyuObject {\r\n    itemName:string,\r\n    type:number,\r\n    kata: number[],\r\n    kata_msg: string\r\n    className: string\r\n}\r\n\r\nexport const kokyuClassRecord: Record<string, new () => NichirintouUseComponent> = {\r\n    nichirintou: NichirintouChoiceComponent,\r\n    tanjiro: KokyuTanjiroComponent,\r\n    zenitu: KokyuZenituComponent,\r\n    inosuke: KokyuInosukeComponent,\r\n    kanawo: KokyuKanawoComponent,\r\n    giyu: KokyuGiyuComponent,\r\n    shinobu: KokyuShinobuComponent,\r\n    kyouzyuro: KokyuKyouzyuroComponent,\r\n    sanemi: KokyuSanemiComponent,\r\n    gyoumei: KokyuGyoumeiComponent,\r\n    muitiro: KokyuMuitiroComponent,\r\n    tengen: KokyuTengenComponent,\r\n    obanai: KokyuObanaiComponent,\r\n    mituri: KokyuMituriComponent,\r\n    mizu: KokyuMizuComponent,\r\n    kaminari: KokyuKaminariComponent,\r\n    hi: KokyuHiComponent,\r\n    kedamono: KokyuKedamonoComponent,\r\n    hono: KokyuHonoComponent,\r\n    kaze: KokyuKazeComponent,\r\n    iwa: KokyuIwaComponent,\r\n    kasumi: KokyuKasumiComponent,\r\n    oto: KokyuOtoComponent,\r\n    hebi: KokyuHebiComponent,\r\n    koi: KokyuKoiComponent,\r\n    mushi: KokyuMushiComponent,\r\n    hana: KokyuHanaComponent,\r\n    tuki: KokyuTukiComponent\r\n};\r\n\r\nexport const KokyuObjects = Object.freeze([\r\n    {\r\n        itemName: \"kurokumaft:nichirintou\",\r\n        type: 1,\r\n        className: \"nichirintou\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_tanjiro\",\r\n        type: 2,\r\n        kata: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],\r\n        kata_msg: \"mizu_kata\",\r\n        className: \"tanjiro\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_zenitu\",\r\n        type: 3,\r\n        kata: [1],\r\n        kata_msg: \"kaminari_kata\",\r\n        className: \"zenitu\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_inosuke\",\r\n        type: 4,\r\n        kata: [1,2,3,4,5,6,7,8,9,10],\r\n        kata_msg: \"kedamono_kata\",\r\n        className: \"inosuke\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_kanawo\",\r\n        type: 5,\r\n        kata: [2,4,5,6,7],\r\n        kata_msg: \"hana_kata\",\r\n        className: \"kanawo\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_giyu\",\r\n        type: 6,\r\n        kata: [1,2,3,4,5,6,7,8,9,10,11],\r\n        kata_msg: \"mizu_kata\",\r\n        className: \"giyu\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_shinobu\",\r\n        type: 7,\r\n        kata: [1,2,3,4],\r\n        kata_msg: \"mushi_kata\",\r\n        className: \"shinobu\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_kyouzyuro\",\r\n        type: 8,\r\n        kata: [1,2,3,4,5,9],\r\n        kata_msg: \"hono_kata\",\r\n        className: \"kyouzyuro\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_sanemi\",\r\n        type: 9,\r\n        kata: [1,2,3,4,5,6,7,8,9],\r\n        kata_msg: \"kaze_kata\",\r\n        className: \"sanemi\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_gyoumei\",\r\n        type: 10,\r\n        kata: [1,2,3,4,5],\r\n        kata_msg: \"iwa_kata\",\r\n        className: \"gyoumei\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_muitiro\",\r\n        type: 11,\r\n        kata: [1,2,3,4,5,6,7],\r\n        kata_msg: \"kasumi_kata\",\r\n        className: \"muitiro\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_tengen\",\r\n        type: 12,\r\n        kata: [1,2,3,4,5],\r\n        kata_msg: \"oto_kata\",\r\n        className: \"tengen\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_obanai\",\r\n        type: 13,\r\n        kata: [1,2,3,4,5],\r\n        kata_msg: \"hebi_kata\",\r\n        className: \"obanai\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_mituri\",\r\n        type: 14,\r\n        kata: [1,2,3,5,6],\r\n        kata_msg: \"koi_kata\",\r\n        className: \"mituri\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_mizu\",\r\n        type: 15,\r\n        kata: [1,2,3,4,5,6,7,8,9,10],\r\n        kata_msg: \"mizu_kata\",\r\n        className: \"mizu\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_kaminari\",\r\n        type: 16,\r\n        kata: [1,2,3,4,5,6],\r\n        kata_msg: \"kaminari_kata\",\r\n        className: \"kaminari\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_hi\",\r\n        type: 17,\r\n        kata: [1,2,3,4,5,6,7,8,9,10,11,12],\r\n        kata_msg: \"hi_kata\",\r\n        className: \"hi\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_hono\",\r\n        type: 18,\r\n        kata: [1,2,3,4,5],\r\n        kata_msg: \"hono_kata\",\r\n        className: \"hono\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_kemono\",\r\n        type: 19,\r\n        kata: [1,2,3,4,5,6,7,8,9,10],\r\n        kata_msg: \"kedamono_kata\",\r\n        className: \"kedamono\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_kaze\",\r\n        type: 20,\r\n        kata: [1,2,3,4,5,6,7,8,9],\r\n        kata_msg: \"kaze_kata\",\r\n        className: \"kaze\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_iwa\",\r\n        type: 21,\r\n        kata: [1,2,3,4,5],\r\n        kata_msg: \"iwa_kata\",\r\n        className: \"iwa\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_kasumi\",\r\n        type: 22,\r\n        kata: [1,2,3,4,5,6,7],\r\n        kata_msg: \"kasumi_kata\",\r\n        className: \"kasumi\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_oto\",\r\n        type: 23,\r\n        kata: [1,2,3,4,5],\r\n        kata_msg: \"oto_kata\",\r\n        className: \"oto\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_hebi\",\r\n        type: 24,\r\n        kata: [1,2,3,4,5],\r\n        kata_msg: \"hebi_kata\",\r\n        className: \"hebi\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_koi\",\r\n        type: 25,\r\n        kata: [1,2,3,5,6],\r\n        kata_msg: \"koi_kata\",\r\n        className: \"koi\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_mushi\",\r\n        type: 26,\r\n        kata: [1,2,3,4],\r\n        kata_msg: \"mushi_kata\",\r\n        className: \"mushi\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_hana\",\r\n        type: 27,\r\n        kata: [2,4,5,6],\r\n        kata_msg: \"hana_kata\",\r\n        className: \"hana\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_tuki\",\r\n        type: 28,\r\n        kata: [1,2,3,5,6,7,8,9,10,14,16],\r\n        kata_msg: \"tuki_kata\",\r\n        className: \"tuki\"\r\n    },\r\n])\r\n\r\nexport interface KokyuMobObject {\r\n    entityName:string,\r\n    className: string\r\n}\r\n\r\nexport const KokyuMobClassRecord: Record<string, new () => KokyuMobUseComponent> = {\r\n    tanjiro: TanjiroComponent,\r\n    zenitu: ZenituComponent,\r\n    inosuke: InosukeComponent,\r\n    kanawo: KanawoComponent,\r\n    giyu: GiyuComponent,\r\n    shinobu:ShinobuComponent,\r\n    kyouzyuro:KyouzyuroComponent,\r\n    tengen:TengenComponent,\r\n    obanai:ObanaiComponent,\r\n    sanemi:SanemiComponent,\r\n    mituri:MituriComponent,\r\n    muitiro:MuitiroComponent,\r\n    gyoumei:GyoumeiComponent,\r\n    mizu:MizuComponent,\r\n    hi:HiComponent,\r\n    kaminari:KaminariComponent,\r\n    hono:HonoComponent,\r\n    kemono:KedamonoComponent,\r\n    mushi:MushiComponent,\r\n    hana:HanaComponent,\r\n    koi:KoiComponent,\r\n    oto:OtoComponent,\r\n    kaze:KazeComponent,\r\n    iwa:IwaComponent,\r\n    hebi:HebiComponent,\r\n    kasumi:KasumiComponent,\r\n    tuki:TukiComponent\r\n\r\n};\r\n\r\nexport const KokyuMobObjects = Object.freeze([\r\n    {\r\n        entityName: \"kurokumaft:tanjiro\",\r\n        className: \"tanjiro\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:zenitu\",\r\n        className: \"zenitu\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:inosuke\",\r\n        className: \"inosuke\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:kanawo\",\r\n        className: \"kanawo\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:giyu\",\r\n        className: \"giyu\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:shinobu\",\r\n        className: \"shinobu\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:kyouzyuro\",\r\n        className: \"kyouzyuro\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:tengen\",\r\n        className: \"tengen\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:obanai\",\r\n        className: \"obanai\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:sanemi\",\r\n        className: \"sanemi\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:mituri\",\r\n        className: \"mituri\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:muitiro\",\r\n        className: \"muitiro\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:gyoumei\",\r\n        className: \"gyoumei\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_mizu\",\r\n        className: \"mizu\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_hi\",\r\n        className: \"hi\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_kaminari\",\r\n        className: \"kaminari\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_hono\",\r\n        className: \"hono\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_kemono\",\r\n        className: \"kemono\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_mushi\",\r\n        className: \"mushi\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_hana\",\r\n        className: \"hana\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_koi\",\r\n        className: \"koi\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_oto\",\r\n        className: \"oto\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_kaze\",\r\n        className: \"kaze\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_iwa\",\r\n        className: \"iwa\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_hebi\",\r\n        className: \"hebi\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_kasumi\",\r\n        className: \"kasumi\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nichirintou_tuki\",\r\n        className: \"tuki\"\r\n    },\r\n]);\r\n","import { ItemCustomComponent, ItemStack, Player, ItemComponentConsumeEvent, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { OgreEatCommon } from \"./OgreEatCommon\";\r\n\r\nexport class BloodDrinking implements ItemCustomComponent {\r\n\r\n    onConsume (event: ItemComponentConsumeEvent) {\r\n\r\n        const item = event.itemStack as ItemStack;\r\n        const player = event.source as Player;\r\n        const lores = item.getLore();\r\n        const rank = player.getProperty(\"kurokumaft:ogre_rank\") as string;\r\n        let becoming = player.getProperty(\"kurokumaft:ogre_becoming\") as number;\r\n        if (lores !== undefined && lores.length > 0) {\r\n            switch (lores[0]) {\r\n                case \"Lv 5\" :\r\n                    becoming = becoming + 30;\r\n                    break;\r\n                case \"Lv 4\" :\r\n                    becoming = becoming + 25;\r\n                    break;\r\n                case \"Lv 3\" :\r\n                    becoming = becoming + 20;\r\n                    break;\r\n                case \"Lv 2\" :\r\n                    becoming = becoming + 15;\r\n                    break;\r\n                case \"Lv 1\" :\r\n                    becoming = becoming + 10;\r\n                    break;\r\n                break;\r\n            }\r\n        } else {\r\n            becoming = becoming + 10;\r\n        }\r\n\r\n        if (\"none\" === rank) {\r\n            if (becoming >= 100) {\r\n                player.setProperty(\"kurokumaft:ogre_rank\", \"low\");\r\n                player.setProperty(\"kurokumaft:ogre_becoming\", 0);\r\n                system.runTimeout(() => {\r\n                    player.triggerEvent(\"kurokumaft:ogre_rank_change\");\r\n                }, 4);\r\n            } else {\r\n                player.setProperty(\"kurokumaft:ogre_becoming\", becoming);\r\n                player.addEffect(\"minecraft:hunger\", 10*TicksPerSecond, {\r\n                    amplifier : 5,\r\n                    showParticles: false\r\n                });\r\n                player.addEffect(\"minecraft:wither\", 10*TicksPerSecond, {\r\n                    amplifier : 5,\r\n                    showParticles: false\r\n                });\r\n            }\r\n        } else {\r\n            new OgreEatCommon().upRankCheck(rank, player, becoming);\r\n        }\r\n    };\r\n\r\n}\r\n","import { ItemStack, Player, system, EntityComponentTypes, EntityInventoryComponent, ItemLockMode, EntityEquippableComponent, EquipmentSlot } from \"@minecraft/server\";\r\nimport { ActionFormData, ActionFormResponse } from \"@minecraft/server-ui\";\r\nimport { kekkizyutuLists, kekkizyutuPickLists } from \"../../common/KimetuConst\";\r\n\r\nexport class OgreEatCommon {\r\n\r\n    rankUpPoint (rank: string) : number {\r\n\r\n        let rankPoint = 0;\r\n        switch (rank) {\r\n            case \"low\" :\r\n                rankPoint = 150;\r\n            break;\r\n            case \"unusual\" :\r\n                rankPoint = 200;\r\n            break;\r\n            case \"quarter\" :\r\n                rankPoint = 400;\r\n            break;\r\n            case \"crescent\" :\r\n                rankPoint = 500;\r\n            break;\r\n        }\r\n\r\n        return rankPoint;\r\n    }\r\n\r\n    upRankCheck(rank: string, player: Player, becoming: number) {\r\n\r\n        const rankPoint = this.rankUpPoint(rank);\r\n\r\n        if (becoming >= rankPoint) {\r\n            switch (rank) {\r\n                case \"low\" :\r\n                    player.setProperty(\"kurokumaft:ogre_rank\", \"unusual\");\r\n                    const Inventory = player.getComponent(EntityComponentTypes.Inventory) as EntityInventoryComponent;\r\n                    const container = Inventory.container;\r\n                    if (container !== undefined) {\r\n                        const itemstack = container.transferItem(0, container);\r\n                        if (itemstack !== undefined) {\r\n                            player.dimension.spawnItem(itemstack, player.location);\r\n                        }\r\n                        const modalForm = new ActionFormData().title({ translate: \"msg.kurokumaft:kekkizyutu.title\"});\r\n\r\n                        kekkizyutuLists.forEach(zyutu => {\r\n                            modalForm.button(\r\n                                {translate: zyutu.msg}, \r\n                            );\r\n                        });\r\n\r\n                        modalForm\r\n                            .show(player)\r\n                            .then((result: ActionFormResponse) => {\r\n                                let kekkizyutu;\r\n                                if (result.canceled) {\r\n                                    kekkizyutu = kekkizyutuPickLists.pick();\r\n                                } else {\r\n                                    const index = result.selection as number;\r\n                                    kekkizyutu = kekkizyutuLists[index].item;\r\n                                }\r\n                                if (kekkizyutu === \"kurokumaft:obi_item\") {\r\n                                    const equ = player.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n                                    const chest = equ.getEquipment(EquipmentSlot.Chest);\r\n                                    if (chest !== undefined) {\r\n                                        player.dimension.spawnItem(chest, player.location);\r\n                                    }\r\n                                    equ.setEquipment(EquipmentSlot.Chest, new ItemStack(\"kurokumaft:daki_obi\", 1))\r\n                                }\r\n                                const zyutu = new ItemStack(kekkizyutu, 1);\r\n                                zyutu.lockMode = ItemLockMode.slot;\r\n                                container.setItem(0, zyutu);\r\n                            })\r\n                            .catch((error: Error) => {\r\n                                console.log(error.stack);\r\n                                return -1;\r\n                            });\r\n                    }\r\n\r\n                break;\r\n                case \"unusual\" :\r\n                    player.setProperty(\"kurokumaft:ogre_rank\", \"quarter\");\r\n                break;\r\n                case \"quarter\" :\r\n                    const moon1 = player.getProperty(\"kurokumaft:ogre_moon\") as number;\r\n                    if (moon1 === 1) {\r\n                        player.setProperty(\"kurokumaft:ogre_moon\", 6);\r\n                        player.setProperty(\"kurokumaft:ogre_rank\", \"crescent\");\r\n                    } else {\r\n                        player.setProperty(\"kurokumaft:ogre_moon\", moon1-1);\r\n                    }\r\n                break;\r\n                case \"crescent\" :\r\n                    const moon2 = player.getProperty(\"kurokumaft:ogre_moon\") as number;\r\n                    if (moon2 === 1) {\r\n                        player.setProperty(\"kurokumaft:ogre_rank\", \"king\");\r\n                    } else {\r\n                        player.setProperty(\"kurokumaft:ogre_moon\", moon2-1);\r\n                    }\r\n                break;\r\n            }\r\n            player.setProperty(\"kurokumaft:ogre_becoming\", 0);\r\n            system.runTimeout(() => {\r\n                player.triggerEvent(\"kurokumaft:ogre_rank_change\");\r\n            }, 4);\r\n        } else {\r\n            player.setProperty(\"kurokumaft:ogre_becoming\", becoming);\r\n        }\r\n    }\r\n\r\n}\r\n","import { weightChoice } from \"./KimetuCommonUtil\";\r\n\r\nexport const OgreKaikyu = Object.freeze([\r\n    { name: 'kurokumaft:aizetu' , rank: \"crescent\", num: 4 },\r\n    { name: 'kurokumaft:akaza' , rank: \"crescent\", num: 3 },\r\n    { name: 'kurokumaft:douma' , rank: \"crescent\", num: 2 },\r\n    { name: 'kurokumaft:gyutaro' , rank: \"crescent\", num: 6 },\r\n    { name: 'kurokumaft:hantengu_obie' , rank: \"crescent\", num: 4 },\r\n    { name: 'kurokumaft:hantengu' , rank: \"crescent\", num: 4 },\r\n    { name: 'kurokumaft:karaku' , rank: \"crescent\", num: 4 },\r\n    { name: 'kurokumaft:rui' , rank: \"quarter\", num: 5 },\r\n    { name: 'kurokumaft:sekido' , rank: \"crescent\", num: 4 },\r\n    { name: 'kurokumaft:urogi' , rank: \"crescent\", num: 4 },\r\n    { name: 'kurokumaft:zouhakuten' , rank: \"crescent\", num: 4 },\r\n    \r\n]);\r\n\r\nexport const TaishiKaikyu = Object.freeze([\r\n    { name: 'kurokumaft:genya' , min: 1, max: 7 },\r\n    { name: 'kurokumaft:kanawo' , min: 4, max: 10 },\r\n    { name: 'kurokumaft:tanjiro' , min: 1, max: 10 },\r\n    { name: 'kurokumaft:zenitu' , min: 1, max: 10 },\r\n    { name: 'kurokumaft:inosuke' , min: 1, max: 10 },\r\n    { name: 'kurokumaft:regimental_girl' , min: 1, max: 7 },\r\n    { name: 'kurokumaft:regimental_guy' , min: 1, max: 7 },\r\n    \r\n]);\r\n\r\nexport const kaikyuPointList = [\r\n    \"0\",\r\n    \"100\",\r\n    \"300\",\r\n    \"600\",\r\n    \"1000\",\r\n    \"1500\",\r\n    \"2100\",\r\n    \"2800\",\r\n    \"3600\",\r\n    \"4500\",\r\n    \"10\",\r\n    \"-\"\r\n];\r\n\r\nexport const ogrePointList = [\r\n    {name :\"none\", value: \"100\", regene: 0, regeneTime: 0},\r\n    {name :\"low\", value: \"150\", regene: 1, regeneTime: 240},\r\n    {name :\"unusual\", value: \"200\", regene: 2, regeneTime: 480},\r\n    {name :\"quarter\", value: \"400\", regene: 3, regeneTime: 720},\r\n    {name :\"crescent\", value: \"500\", regene: 4, regeneTime: 1200},\r\n    {name :\"king\", value: \"-\", regene: 5, regeneTime: 3600},\r\n];\r\n\r\nexport const kekkizyutuPickLists = weightChoice([\r\n    {item:'kurokumaft:bakketu',weight:20},\r\n    {item:'kurokumaft:koushi',weight:20},\r\n    {item:'kurokumaft:obi_item',weight:15},\r\n    {item:'kurokumaft:nichirintou_kaigaku',weight:10},\r\n    {item:'kurokumaft:gyutaro_kama',weight:10},\r\n    {item:'kurokumaft:zouhakuten_bati',weight:5},\r\n    {item:'kurokumaft:gyokko_tubo',weight:5},\r\n    {item:'kurokumaft:hakaisatu_item',weight:5},\r\n    {item:'kurokumaft:douma_sensu',weight:5},\r\n    {item:'kurokumaft:kyokokukamusari',weight:5},\r\n]);\r\n\r\nexport const kekkizyutuLists = Object.freeze([\r\n    {item:\"kurokumaft:bakketu\",             msg:\"item.kurokumaft:bakketu.name\",},\r\n    {item:\"kurokumaft:koushi\",              msg:\"item.kurokumaft:koushi.name\",},\r\n    {item:\"kurokumaft:obi_item\",            msg:\"item.kurokumaft:obi.name\",},\r\n    {item:\"kurokumaft:gyutaro_kama\",        msg:\"item.kurokumaft:tigama.name\",},\r\n    {item:\"kurokumaft:zouhakuten_bati\",     msg:\"item.kurokumaft:mogura.name\",},\r\n    {item:\"kurokumaft:gyokko_tubo\",         msg:\"item.kurokumaft:suisei.name\",},\r\n    {item:\"kurokumaft:hakaisatu_item\",      msg:\"item.kurokumaft:hakaisatu.name\",},\r\n    {item:\"kurokumaft:douma_sensu\",         msg:\"item.kurokumaft:koori.name\",},\r\n    {item:\"kurokumaft:kyokokukamusari\",     msg:\"item.kurokumaft:mikatuki.name\",},\r\n    {item:\"kurokumaft:nichirintou_kaigaku\", msg:\"item.kurokumaft:kokurai.name\",},\r\n]);\r\n\r\nexport const NitirintouEquips = Object.freeze([\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_tanjiro\",\r\n        charaName: \"kurokumaft:tanjiro\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_zenitu\",\r\n        charaName: \"kurokumaft:zenitu\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_inosuke\",\r\n        charaName: \"kurokumaft:inosuke\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_kanawo\",\r\n        charaName: \"kurokumaft:kanawo\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_giyu\",\r\n        charaName: \"kurokumaft:giyu\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_shinobu\",\r\n        charaName: \"kurokumaft:shinobu\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_kyouzyuro\",\r\n        charaName: \"kurokumaft:kyouzyuro\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_sanemi\",\r\n        charaName: \"kurokumaft:sanemi\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_gyoumei\",\r\n        charaName: \"kurokumaft:gyoumei\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_muitiro\",\r\n        charaName: \"kurokumaft:muitiro\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_tengen\",\r\n        charaName: \"kurokumaft:tengen\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_obanai\",\r\n        charaName: \"kurokumaft:obanai\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_mituri\",\r\n        charaName: \"kurokumaft:mituri\"\r\n    },\r\n])\r\n\r\nexport const attackTypesLists = Object.freeze([\r\n    {tag:\"attack_one\",             count:4},\r\n    {tag:\"attack_two\",             count:5},\r\n    {tag:\"attack_horizontality\",   count:3},\r\n]);\r\n","import { ItemCustomComponent, ItemStack, ItemComponentUseEvent, Player, EntityComponentTypes, EntityEquippableComponent, EquipmentSlot } from \"@minecraft/server\";\r\nimport { KekkizyutuClassRecord, KekkizyutuObject, KekkizyutuObjects } from \"../KekkizyutuTypes\";\r\n\r\nexport class KekkizyutuComponent implements ItemCustomComponent {\r\n\r\n    // 右クリック\r\n    onUse(event:ItemComponentUseEvent) {\r\n        let player = event.source as Player;\r\n        let itemStack = event.itemStack as ItemStack;\r\n\r\n        if (player.isSneaking) {\r\n            const kekkizyutu = player.getProperty(\"kurokumaft:kekkizyutu_type\") as number;\r\n            const object = KekkizyutuObjects.find(ob => ob.type === kekkizyutu) as KekkizyutuObject;\r\n            const kekkizyutuClass = KekkizyutuClassRecord[object.className];\r\n            const kekkizyutuObject = new kekkizyutuClass();\r\n            kekkizyutuObject.changeZyutu(player);\r\n            return;\r\n        } else {\r\n            if (!player.getProperty(\"kurokumaft:kokyu_use\")) {\r\n                const equ = player.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n                const mainHand = equ.getEquipment(EquipmentSlot.Mainhand);\r\n                if (mainHand !== undefined) {\r\n                    const object = KekkizyutuObjects.find(ob => ob.itemName === mainHand.typeId) as KekkizyutuObject;\r\n                    const kekkizyutuClass = KekkizyutuClassRecord[object.className];\r\n                    const kekkizyutuObject = new kekkizyutuClass();\r\n                    player.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                    player.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                    kekkizyutuObject.useAttackZyutu(player);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n","import { Entity, system, Player, EntityComponentTypes, EntityTameableComponent, EntityProjectileComponent } from \"@minecraft/server\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\nimport { getLookLocationDistancePitch, addOrgeFilter, getDistanceLocation, getLookLocationDistance, getRandomInRange } from \"../../common/KimetuCommonUtil\";\r\nimport { shooting } from \"../../common/ShooterEvent\";\r\n\r\nexport class Bunretu extends ZytuComonClass {\r\n\r\n    /**\r\n     * 超音波\r\n     */\r\n    ultrasonic(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n        try {\r\n\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_kyoumei1.value\"}]});\r\n            }\r\n\r\n            const distance = getLookLocationDistancePitch(entity.getRotation(), 3, 0);\r\n            const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 4, entity.id);\r\n            this.kokyuApplyEffect(entity, filter, 10, 5, \"minecraft:nausea\");\r\n\r\n            const ultrasonic = shooting(entity, \"kurokumaft:urogi_ultrasonic\", 0, 3, undefined);\r\n            system.waitTicks(10).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                if (ultrasonic !== undefined && ultrasonic.id !== undefined) {\r\n                    ultrasonic.remove();\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 雷\r\n     */\r\n    ikazuti(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_ikazuti1.value\"}]});\r\n            }\r\n\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    const filter = addOrgeFilter(0, entity.location, 10, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 0, getRandomInRange(-3, 3), 0);\r\n                    entity.dimension.spawnParticle(\"kurokumaft:ikazuti_particle\", getDistanceLocation(entity.location, distance));\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n\r\n            },2);\r\n\r\n            system.waitTicks(40).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 激涙刺突\r\n     */\r\n    shitotu(entity:Entity) {\r\n\r\n        if (entity === undefined) {\r\n            return;            \r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_shitotu1.value\"}]});\r\n            }\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    const distance = getLookLocationDistancePitch(entity.getRotation(), 3, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 4, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },2);\r\n\r\n            system.waitTicks(10).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 突風\r\n     */\r\n    toppu(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_toppu1.value\"}]});\r\n            }\r\n\r\n            entity.addTag(entity.id);\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n            const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 5, entity.id);\r\n            entity.dimension.spawnParticle(\"minecraft:breeze_wind_explosion_emitter\", getDistanceLocation(entity.location, distance));\r\n\r\n            const targets = entity.dimension.getEntities(filter);\r\n            const knockback = getLookLocationDistance(entity.getRotation().y, 15, 0, 0);\r\n            targets.forEach(en => {\r\n                en.applyKnockback({x:knockback.x,z:knockback.z},1.5);\r\n            });\r\n            entity.removeTag(entity.id);\r\n\r\n            system.waitTicks(6).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 石竜子\r\n     */\r\n    tokage(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_zouhakuten1.value\"}]});\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n\r\n            const targets = entity.dimension.getEntities({\r\n                families: [\r\n                    \"tokage\"\r\n                ],\r\n                location: entity.location,\r\n                maxDistance: 64\r\n            });\r\n            if (targets.length < 3) {\r\n                const tokage = entity.dimension.spawnEntity(\"kurokumaft:tuti_dragon\", entity.location);\r\n                tokage.triggerEvent(\"kurokumaft:tokage\");\r\n\r\n                const tameable = tokage.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n                if (!tameable.isTamed) {\r\n                    if (entity instanceof Player) {\r\n                        tameable.tame(entity);\r\n                    }\r\n                }\r\n            } else {\r\n                if (entity instanceof Player) {\r\n                    entity.onScreenDisplay.setActionBar({text:\"召喚数上限超過\"});\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 狂鳴雷殺\r\n     */\r\n    kyoumeiraisatu(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_zouhakuten2.value\"}]});\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n\r\n            const distanceL = getLookLocationDistance(entity.getRotation().y, 4, -5, 0);\r\n            const tokageL = entity.dimension.spawnEntity(\"kurokumaft:tuti_dragon\", getDistanceLocation(entity.location, distanceL));\r\n            tokageL.triggerEvent(\"kurokumaft:kyoumeiraisatu\");\r\n\r\n            const tameableL = tokageL.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameableL.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameableL.tame(entity);\r\n                }\r\n            }\r\n\r\n            const distanceR = getLookLocationDistance(entity.getRotation().y, 4, 5, 0);\r\n            const tokageR = entity.dimension.spawnEntity(\"kurokumaft:tuti_dragon\", getDistanceLocation(entity.location, distanceR));\r\n            tokageR.triggerEvent(\"kurokumaft:kyoumeiraisatu\");\r\n\r\n            const tameableR = tokageR.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameableR.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameableR.tame(entity);\r\n                }\r\n            }\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n\r\n                    if (tokageR !== undefined && tokageR.isValid) {\r\n                        const filterR = addOrgeFilter(0, tokageR.location, 10, entity.id);\r\n                        filterR.excludeFamilies?.push(\"tokage\");\r\n                        this.zyutuApplyDamage(entity, filterR, 7);\r\n\r\n                        const distanceR = getLookLocationDistance(tokageR.getRotation().y, 0, getRandomInRange(-3, 3), 0);\r\n                        entity.dimension.spawnParticle(\"kurokumaft:ikazuti_particle\", getDistanceLocation(tokageR.location, distanceR));\r\n                    }\r\n\r\n                    if (tokageL !== undefined && tokageL.isValid) {\r\n                        const distanceL = getLookLocationDistancePitch(tokageL.getRotation(), 3, 0);\r\n                        const filterL = addOrgeFilter(0, getDistanceLocation(tokageL.location, distanceL), 4, entity.id);\r\n                        filterL.excludeFamilies?.push(\"tokage\");\r\n                        this.kokyuApplyEffect(entity, filterL, 10, 5, \"minecraft:nausea\");\r\n\r\n                        const ultrasonic = shooting(tokageL, \"kurokumaft:urogi_ultrasonic\", 0, 3, undefined);\r\n                        system.runTimeout(() => {\r\n                            if (ultrasonic !== undefined && ultrasonic.id !== undefined) {\r\n                                ultrasonic.remove();\r\n                            }\r\n                        },15);\r\n                    }\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            }, 5);\r\n\r\n            system.waitTicks(60).then(() => {\r\n                if (tokageR !== undefined) {\r\n                    tokageR.remove();\r\n                }\r\n                if (tokageL !== undefined) {\r\n                    tokageL.remove();\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * 狂圧鳴波\r\n     */\r\n    kyouatumeiha(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_zouhakuten3.value\"}]});\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n\r\n            const distance = getLookLocationDistancePitch(entity.getRotation(), 3, 0);\r\n            const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 4, entity.id);\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    this.zyutuApplyDamage(entity, filter, 9);\r\n                    this.kokyuApplyEffect(entity, filter, 10, 5, \"minecraft:nausea\");\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            }, 4);\r\n\r\n            for (let i=-1; i<=1; i++) {\r\n                const ultrasonic = this.sonic(entity, i);\r\n                system.runTimeout(() => {\r\n                    if (ultrasonic !== undefined && ultrasonic.id !== undefined) {\r\n                        ultrasonic.remove();\r\n                    }\r\n                },10);\r\n            }\r\n\r\n            system.waitTicks(20).then(() => {\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private sonic(entity:Entity, side:number) : Entity {\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1, side, 0.5);\r\n\r\n        const bulet = entity.dimension.spawnEntity(\"kurokumaft:urogi_ultrasonic\", getDistanceLocation(entity.location, distance));\r\n\r\n        const projectile = bulet.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n        projectile.shoot({\r\n            x:distance.x * 2,\r\n            y:distance.y * 0.5,\r\n            z:distance.z * 2\r\n        });\r\n\r\n        return bulet;\r\n    }\r\n\r\n    /**\r\n     * 無間業樹\r\n     */\r\n    mukengouzyu(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_zouhakuten4.value\"}]});\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n\r\n            this.gouzyu(entity);\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    private gouzyu(entity:Entity) {\r\n\r\n        try {\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n            const tokage = entity.dimension.spawnEntity(\"kurokumaft:tuti_dragon\", getDistanceLocation(entity.location, distance));\r\n            tokage.triggerEvent(\"kurokumaft:mukengouzyu\");\r\n            tokage.teleport(tokage.location, {\r\n                keepVelocity: false,\r\n                rotation: {\r\n                    x:0,\r\n                    y:entity.getRotation().y\r\n                }\r\n            });\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    if (tokage !== undefined && tokage.isValid) {\r\n                        const distance = getLookLocationDistance(tokage.getRotation().y, 6, 0, 0);\r\n                        tokage.applyKnockback({x:distance.x,z:distance.z},0);\r\n\r\n                        const filter = addOrgeFilter(0, tokage.location, 5, entity.id);\r\n                        filter.excludeFamilies?.push(\"tokage\");\r\n                        this.zyutuApplyDamage(entity, filter, 8);\r\n\r\n                    } else {\r\n                        system.clearRun(num);\r\n                    }\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            }, 2);\r\n            system.waitTicks(60).then(() => {\r\n                if (tokage !== undefined && tokage.isValid) {\r\n                    tokage.remove();\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { EntityDamageCause, EntityQueryOptions, Entity, Player, EntityComponentTypes, EntityTypeFamilyComponent, world } from \"@minecraft/server\";\r\nimport { KataComonClass, ogreRankPoint } from \"../../kokyu/kata/KataComonClass\";\r\nimport { getLookLocationDistance } from \"../../common/KimetuCommonUtil\";\r\n\r\nexport class ZytuComonClass extends KataComonClass {\r\n\r\n    zyutuApplyDamage(entity:Entity, filter:EntityQueryOptions, zyutuDamage:number): void {\r\n\r\n        entity.addTag(entity.id);\r\n        const targets = entity.dimension.getEntities(filter);\r\n        const ogre_rank = entity.getProperty(\"kurokumaft:ogre_rank\");\r\n        const point = ogreRankPoint.find(rank => rank.rank === ogre_rank);\r\n\r\n        const damage = entity.getProperty(\"kurokumaft:attack_level\") as number;\r\n\r\n        targets.forEach(en => {\r\n            if (en !== undefined && en.isValid) {\r\n                if (en instanceof Player) {\r\n                    if (!this.gardCheck(en)) {\r\n                        en.applyDamage((damage + zyutuDamage) * (point !== undefined ? point.point : 1) * 0.5, {\r\n                            cause: EntityDamageCause.entityAttack,\r\n                            damagingEntity: entity\r\n                        });\r\n                        const familyTypes = en.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n\r\n                        if (familyTypes.hasTypeFamily(\"ogre\")) {\r\n                            const distance = getLookLocationDistance(en.getRotation().y, -1.25, 0, 0.5);\r\n                            en.applyKnockback({x:distance.x, z:distance.z}, 0.25);\r\n                        }\r\n\r\n                    }\r\n                } else {\r\n                    en.applyDamage((damage + zyutuDamage) * (point !== undefined ? point.point : 1), {\r\n                        cause: EntityDamageCause.entityAttack,\r\n                        damagingEntity: entity\r\n                    });\r\n                    const familyTypes = en.getComponent(EntityComponentTypes.TypeFamily) as EntityTypeFamilyComponent;\r\n\r\n                    if (familyTypes.hasTypeFamily(\"ogre\")) {\r\n                        const distance = getLookLocationDistance(en.getRotation().y, -1.25, 0, 0.5);\r\n                        en.applyKnockback({x:distance.x, z:distance.z}, 0.25);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        entity.removeTag(entity.id);\r\n\r\n    }\r\n\r\n    kokyuApplyEffect(entity:Entity, filter:EntityQueryOptions, duration:number, damage:number, effect:string): void {\r\n\r\n        entity.addTag(entity.id);\r\n        const targets = entity.dimension.getEntities(filter);\r\n        const ogre_rank = entity.getProperty(\"kurokumaft:ogre_rank\");\r\n        const point = ogreRankPoint.find(rank => rank.rank === ogre_rank);\r\n        const damageNum = point !== undefined ? point.point : 1;\r\n        targets.forEach(en => {\r\n            if (en !== undefined && en.isValid) {\r\n                if (en instanceof Player) {\r\n                    if (this.gardCheck(en)) {\r\n                        en.addEffect(effect, Math.round(duration*damageNum*0.25), {\r\n                            amplifier: Math.round(damage*damageNum*0.25),\r\n                            showParticles: true\r\n                        });\r\n                    }\r\n                } else {\r\n                    en.addEffect(effect, Math.round(duration*damageNum*0.75), {\r\n                        amplifier: Math.round(damage*damageNum),\r\n                        showParticles: true\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        entity.removeTag(entity.id);\r\n\r\n    }\r\n\r\n}\r\n","import { Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../../zyutu/Bunretu\";\r\n\r\n/**\r\n * 血気術（哀絶）\r\n */\r\nexport class ZyutuAizetuComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const bunretu = new Bunretu();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    bunretu.shitotu(entity);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { EntityComponentTypes, EntityMovementComponent, MolangVariableMap, Entity, system, TicksPerSecond, Player, EntityProjectileComponent } from \"@minecraft/server\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\nimport { shooting } from \"../../common/ShooterEvent\";\r\nimport { addOrgeFilter, getDistanceLocation, getLookLocationDistance, getLookLocationDistancePitch, getRandomExcludingZero, getRandomInRange } from \"../../common/KimetuCommonUtil\";\r\n\r\nexport class Hakaisatu extends ZytuComonClass {\r\n\r\n    /**\r\n     * 破壊殺・羅針\r\n     */\r\n    rashin(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai1.value\"}]});\r\n            }\r\n            const move = entity.getComponent(EntityComponentTypes.Movement) as EntityMovementComponent;\r\n            move.setCurrentValue(0.2);\r\n\r\n            const molang = new MolangVariableMap();\r\n            molang.setFloat(\"variable.rotaion\", -entity.getRotation().y);\r\n            entity.dimension.spawnParticle(\"kurokumaft:rashin\", entity.location, molang);\r\n\r\n            system.waitTicks(30).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                move.resetToDefaultValue();\r\n\r\n                entity.addEffect(\"minecraft:speed\", 10*TicksPerSecond,{\r\n                    amplifier: 5,\r\n                    showParticles: false\r\n                });\r\n                entity.addEffect(\"minecraft:strength\", 10*TicksPerSecond,{\r\n                    amplifier: 1,\r\n                    showParticles: false\r\n                });\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 破壊殺・空式\r\n     */\r\n    kushiki(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai2.value\"}]});\r\n            }\r\n            const kushiki = shooting(entity, \"kurokumaft:kushiki\", 0, 3, undefined);\r\n\r\n            system.runTimeout(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            },5);\r\n\r\n            system.waitTicks(1*TicksPerSecond).then(() => {\r\n                if (kushiki.isValid) {\r\n                    kushiki.remove();\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 破壊殺・乱式\r\n     */\r\n    ranshiki(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai3.value\"}]});\r\n            }\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    const distance = getLookLocationDistancePitch(entity.getRotation(), 5, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 5, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n                    const side = getRandomInRange(-4, 4);\r\n                    const top = getRandomInRange(0, 3);\r\n                    const distance2 = getLookLocationDistance(entity.getRotation().y, 5, side, top);\r\n                    entity.dimension.spawnParticle(\"kurokumaft:ranshiki\", getDistanceLocation(entity.location, distance2));\r\n                    this.ran(entity, side, top);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n\r\n            },2);\r\n\r\n            system.waitTicks(40).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 乱式\r\n     * @param {Entity} entity\r\n     */\r\n    private ran(entity:Entity, side:number, top:number) {\r\n    \r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1, side, top);\r\n        const bulet = entity.dimension.spawnEntity(\"kurokumaft:hakaisatu_small_bullet\", getDistanceLocation(\r\n            {\r\n                x:entity.location.x,\r\n                y:entity.location.y + 0.5,\r\n                z:entity.location.z\r\n            },\r\n            distance\r\n        ));\r\n    \r\n        const projectile = bulet.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n        const shotdistance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n        projectile.shoot({\r\n            x:shotdistance.x,\r\n            y:0,\r\n            z:shotdistance.z\r\n        });\r\n\r\n        system.waitTicks(10).then(() => {\r\n            bulet.remove();\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 破壊殺・滅式\r\n     */\r\n    messhiki(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai4.value\"}]});\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 1);\r\n            const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 3, entity.id);\r\n            entity.dimension.spawnParticle(\"kurokumaft:meshiki\", getDistanceLocation(entity.location, distance));\r\n            this.zyutuApplyDamage(entity, filter, 15);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 破壊殺・脚式 冠先割\r\n     */\r\n    kamurosakiwari(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai5.value\"}]});\r\n            }\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 2);\r\n            const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 2.5, entity.id);\r\n            entity.dimension.spawnParticle(\"kurokumaft:ranshiki\", getDistanceLocation(entity.location, distance));\r\n            this.zyutuApplyDamage(entity, filter, 10);\r\n\r\n            this.kokyuApplyKnockback(entity, filter, distance, 1.5);\r\n\r\n            system.waitTicks(5).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 破壊殺・脚式 流閃群光\r\n     */\r\n    ryusengunkou(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai6.value\"}]});\r\n            }\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    const distance = getLookLocationDistancePitch(entity.getRotation(), 3, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 3, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n                    this.kokyuApplyKnockback(entity, filter, distance, 0);\r\n\r\n                    const distance2 = getLookLocationDistance(entity.getRotation().y, 5, getRandomInRange(-3, 3), getRandomInRange(0, 2));\r\n                    entity.dimension.spawnParticle(\"kurokumaft:ryuseigunkou\", getDistanceLocation(entity.location, distance2));\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n\r\n            },4);\r\n\r\n            system.waitTicks(40).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 破壊殺・脚式 飛遊星千輪\r\n     */\r\n    hiyuuseisenrin(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai7.value\"}]});\r\n            }\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    const distance = getLookLocationDistancePitch(entity.getRotation(), 3, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 3, entity.id);\r\n                    entity.dimension.spawnParticle(\"kurokumaft:ryuseigunkou\", getDistanceLocation(entity.location, distance));\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n                    this.kokyuApplyKnockback(entity, filter, distance, 0.2);\r\n                    entity.applyKnockback({x:distance.x,z:distance.z},0.3);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },4);\r\n\r\n            system.waitTicks(40).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n\r\n                system.waitTicks(5).then(() => {\r\n                    entity.addEffect(\"minecraft:slow_falling\", 1*TicksPerSecond,{\r\n                        amplifier: 1,\r\n                        showParticles: false\r\n                    });\r\n                }).catch((error: any) => {\r\n                }).finally(() => {\r\n                });\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 破壊殺・砕式 万葉閃柳\r\n     */\r\n    manyousenyanagi(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai8.value\"}]});\r\n            }\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n            entity.applyKnockback({x:distance.x,z:distance.z},1);\r\n\r\n            system.waitTicks(20).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                const distance2 = getLookLocationDistance(entity.getRotation().y, 0, 0, -1);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance2), 5, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 10);\r\n\r\n                entity.dimension.spawnParticle(\"kurokumaft:manyousenyanagi\", getDistanceLocation(entity.location, distance2));\r\n\r\n                entity.dimension.createExplosion(entity.location, 3, {\r\n                    source: entity,\r\n                    breaksBlocks: true,\r\n                    causesFire: false,\r\n                    allowUnderwater: true\r\n                });\r\n\r\n                entity.addEffect(\"minecraft:slow_falling\", 1*TicksPerSecond,{\r\n                    amplifier: 1,\r\n                    showParticles: false\r\n                });\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 破壊殺・鬼芯八重芯\r\n     */\r\n    kishinyaenshin(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai9.value\"}]});\r\n            }\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    const distance = getLookLocationDistancePitch(entity.getRotation(), 3, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 6, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 15);\r\n\r\n                    const side = getRandomInRange(-6, 6);\r\n                    const top = getRandomInRange(0, 3);\r\n                    const distance2 = getLookLocationDistance(entity.getRotation().y, 3, side, top);\r\n                    entity.dimension.spawnParticle(\"kurokumaft:ryuseigunkou\", getDistanceLocation(entity.location, distance2));\r\n                    this.kishin(entity, side, top);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n\r\n            },2);\r\n\r\n            system.waitTicks(16).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 鬼神\r\n     * @param {Entity} entity\r\n     */\r\n    private kishin(entity:Entity, side:number, top:number) {\r\n    \r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1, side, top);\r\n        const bulet = entity.dimension.spawnEntity(\"kurokumaft:hakaisatu_lage_bullet\", getDistanceLocation(\r\n            {\r\n                x:entity.location.x,\r\n                y:entity.location.y + 0.5,\r\n                z:entity.location.z\r\n            },\r\n            distance\r\n        ));\r\n    \r\n        const projectile = bulet.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n        const shotdistance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n        projectile.shoot({\r\n            x:shotdistance.x,\r\n            y:0,\r\n            z:shotdistance.z\r\n        });\r\n\r\n        system.waitTicks(10).then(() => {\r\n            bulet.remove();\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 終式・青銀乱残光\r\n     */\r\n    aoginranzankou(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai10.value\"}]});\r\n            }\r\n            const molang = new MolangVariableMap();\r\n            molang.setFloat(\"variable.rotaion\", -entity.getRotation().y);\r\n            entity.dimension.spawnParticle(\"kurokumaft:rashin\", entity.location, molang);\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    const distance = getLookLocationDistancePitch(entity.getRotation(), 0, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 10, entity.id);\r\n                    entity.dimension.spawnParticle(\"kurokumaft:aoginranzankou\", getDistanceLocation(entity.location, distance));\r\n                    this.zyutuApplyDamage(entity, filter, 15);\r\n\r\n                    for (let i = 0; i < 10; i++) {\r\n                        this.aogin(entity);\r\n                    }\r\n\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },5);\r\n\r\n            system.waitTicks(80).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 青銀\r\n     * @param {Entity} entity\r\n     */\r\n    private aogin(entity:Entity) {\r\n    \r\n        const distance = getLookLocationDistance(entity.getRotation().y, getRandomExcludingZero(-1, 1, 0.2, 10), getRandomExcludingZero(-1, 1, 0.2, 10), getRandomExcludingZero(0, 0.85, 0, 10));\r\n        const bulet = entity.dimension.spawnEntity(\"kurokumaft:hakaisatu_small_bullet\", getDistanceLocation(\r\n            {\r\n                x:entity.location.x,\r\n                y:entity.location.y + 0.5,\r\n                z:entity.location.z\r\n            },\r\n            distance\r\n        ));\r\n    \r\n        const projectile = bulet.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n        projectile.shoot({\r\n            x:Math.round(distance.x * 10) / 10,\r\n            y:Math.round(distance.y * 10) / 10,\r\n            z:Math.round(distance.z * 10) / 10\r\n        });\r\n\r\n        system.waitTicks(10).then(() => {\r\n            bulet.remove();\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n}\r\n\r\n","import { Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { KekkizyutuObject, KekkizyutuObjects } from \"../../../item/weapon/KekkizyutuTypes\";\r\nimport { Hakaisatu } from \"../../zyutu/Hakaisatu\";\r\n\r\n/**\r\n * 血気術（猗窩座）\r\n */\r\nexport class ZyutuAkazaComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n        let kata = player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kekkizyutuObject = KekkizyutuObjects[2] as KekkizyutuObject;\r\n\r\n        switch (kata) {\r\n            case kekkizyutuObject.kata[kekkizyutuObject.kata.length-1] :\r\n                kata = kekkizyutuObject.kata[0];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n                break;\r\n            default :\r\n                const index = kekkizyutuObject.kata.findIndex((el) => el === kata);\r\n                kata = kekkizyutuObject.kata[index+1];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n            }\r\n            player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_hakai\" + kata + \".value\"}]});\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const hakaisatu = new Hakaisatu();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                hakaisatu.rashin(entity);\r\n            break;\r\n            case 2 :\r\n                hakaisatu.kushiki(entity);\r\n            break;\r\n            case 3 :\r\n                hakaisatu.ranshiki(entity);\r\n            break;\r\n            case 5 :\r\n                hakaisatu.kamurosakiwari(entity);\r\n            break;\r\n            case 6 :\r\n                hakaisatu.ryusengunkou(entity);\r\n            break;\r\n            case 7 :\r\n                hakaisatu.hiyuuseisenrin(entity);\r\n            break;\r\n            case 8 :\r\n                hakaisatu.manyousenyanagi(entity);\r\n            break;\r\n            case 9 :\r\n                hakaisatu.kishinyaenshin(entity);\r\n            break;\r\n            case 10 :\r\n                hakaisatu.aoginranzankou(entity);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const hakaisatu = new Hakaisatu();\r\n        switch (kata) {\r\n            case 4 :\r\n                hakaisatu.messhiki(entity);\r\n            break;\r\n        }\r\n    }\r\n\r\n}\r\n","import { Entity, Player, system } from \"@minecraft/server\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\nimport { getLookLocationDistancePitch, getDistanceLocation, addOrgeFilter, getLookLocationDistance, getDirectionVector } from \"../../common/KimetuCommonUtil\";\r\nimport { shooting } from \"../../common/ShooterEvent\";\r\n\r\nexport class Obi extends ZytuComonClass {\r\n\r\n    /**\r\n     * 薙ぎ払い\r\n     */\r\n    yokonagi(entity:Entity) {\r\n\r\n        try {\r\n            const distance = getLookLocationDistancePitch(entity.getRotation(), 5, 0);\r\n            const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 6, entity.id);\r\n            this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n            system.waitTicks(6).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 連撃\r\n     */\r\n    barrage(entity:Entity) {\r\n\r\n        try {\r\n            const num = system.runInterval(() => {\r\n\r\n                try {\r\n                    const distance = getLookLocationDistancePitch(entity.getRotation(), 5, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 5, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 3);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n\r\n            },2);\r\n\r\n            system.waitTicks(40).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 帯飛ばし\r\n     */\r\n    shot(entity:Entity) {\r\n\r\n        try {\r\n\r\n            const obi = shooting(entity, \"kurokumaft:obi\", 0, 3, undefined);\r\n\r\n            let targethoming = false;\r\n\r\n            const serchNum = system.runInterval(() => {\r\n\r\n                try {\r\n                    if (entity === undefined) {\r\n                        return;\r\n                    }\r\n\r\n                    if (obi !== undefined && !targethoming) {\r\n                        obi.addTag(obi.id);\r\n                        entity.addTag(entity.id);\r\n                        const targets = entity.dimension.getEntities({\r\n                            excludeFamilies: [\r\n                                \"inanimate\", \"animal\", \"obi\"\r\n                            ],\r\n                            excludeTypes: [\r\n                                \"item\"\r\n                            ],\r\n                            excludeTags: [\r\n                                entity.id,\r\n                                obi.id\r\n                            ],\r\n                            location: obi.location,\r\n                            closest: 1,\r\n                            maxDistance: 32\r\n                        });\r\n                        entity.removeTag(entity.id);\r\n                        if (targets.length > 0) {\r\n                            targethoming = true;\r\n                            targets[0].addTag(\"hitObiTarget:\"+ obi.id);\r\n                \r\n                            const num = system.runInterval(() => {\r\n                                try {\r\n                                    if (entity !== undefined) {\r\n                                        const hittargets = entity.dimension.getEntities({\r\n                                            excludeFamilies: [\r\n                                                \"inanimate\", \"animal\", \"obi\"\r\n                                            ],\r\n                                            excludeTypes: [\r\n                                                \"item\"\r\n                                            ],\r\n                                            tags: [\r\n                                                \"hitObiTarget:\"+ obi.id\r\n                                            ],\r\n                                            location: obi.location,\r\n                                            closest: 1\r\n                                        });\r\n                                        if (hittargets.length > 0) {\r\n                                            const target = hittargets[0];\r\n                                            const targetLoc = getDirectionVector(obi.location, target.location);\r\n                                            const tpLoc = {\r\n                                                x:obi.location.x+targetLoc.x,\r\n                                                y:obi.location.y+targetLoc.y+1,\r\n                                                z:obi.location.z+targetLoc.z\r\n                                            }\r\n                                            obi.teleport(tpLoc, {\r\n                                                checkForBlocks: false,\r\n                                                keepVelocity: true\r\n                                            });\r\n                                            obi.applyImpulse(targetLoc);\r\n                                        } else {\r\n                                            if (obi.isValid) {\r\n                                                system.clearRun(num);\r\n                                                obi.setDynamicProperty(\"hormingNum\");\r\n                                                obi.remove();\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                } catch (error: any) {\r\n                                    system.clearRun(num);\r\n                                }\r\n                            }, 2);\r\n                            obi.setDynamicProperty(\"hormingNum\", num);\r\n                            obi.setDynamicProperty(\"hitCount\", 0);\r\n                        }\r\n                    }\r\n                } catch (error: any) {\r\n                    system.clearRun(serchNum);\r\n                }\r\n        \r\n            }, 4);\r\n\r\n            system.waitTicks(5).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n\r\n            system.waitTicks(100).then(() => {\r\n                if (obi.isValid) {\r\n                    system.clearRun(serchNum);\r\n                    obi.remove();\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 八重帯斬り\r\n     */\r\n    yaeobigiri(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_obi4.value\"}]});\r\n            }\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 8, 0, 2);\r\n            const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 10, entity.id);\r\n            this.zyutuApplyDamage(entity, filter, 10);\r\n\r\n            system.waitTicks(6).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n}\r\n","import { Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { KekkizyutuObject, KekkizyutuObjects } from \"../../../item/weapon/KekkizyutuTypes\";\r\nimport { Obi } from \"../../zyutu/Obi\";\r\n\r\n/**\r\n * 血気術（堕姫）\r\n */\r\nexport class ZyutuDakiComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n        let kata = player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kekkizyutuObject = KekkizyutuObjects[3] as KekkizyutuObject;\r\n\r\n        switch (kata) {\r\n            case kekkizyutuObject.kata[kekkizyutuObject.kata.length-1] :\r\n                kata = kekkizyutuObject.kata[0];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n                break;\r\n            default :\r\n                const index = kekkizyutuObject.kata.findIndex((el) => el === kata);\r\n                kata = kekkizyutuObject.kata[index+1];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n            }\r\n            player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_obi\" + kata + \".value\"}]});\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const obi = new Obi();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                obi.yokonagi(entity);\r\n            break;\r\n            case 2 :\r\n                obi.barrage(entity);\r\n            break;\r\n            case 3 :\r\n                obi.shot(entity);\r\n            break;\r\n            case 4 :\r\n                obi.yaeobigiri(entity);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { EntityComponentTypes, EntityDamageCause, EntityProjectileComponent, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addOrgeFilter, getDirectionVector, getDistanceLocation, getLookLocationDistance, getRandomInRange} from \"../../common/KimetuCommonUtil\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\n\r\nexport class Tigama extends ZytuComonClass {\r\n\r\n    /**\r\n     * 飛び血鎌\r\n     */\r\n    tobiTigama(entity:Entity) {\r\n        if (entity == undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            if (entity.getProperty(\"kurokumaft:kokyu_chage\") === 0) {\r\n                if (entity instanceof Player) {\r\n                    entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tigama1.value\"}]});\r\n                }\r\n                entity.setProperty(\"kurokumaft:kokyu_chage\", 1);\r\n\r\n                for(let i=0; i<5; i++) {\r\n                    this.tigamaHorming(entity, i);\r\n                }\r\n                system.waitTicks(60).then(() => {\r\n                    entity.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n                }).catch((error: any) => {\r\n                }).finally(() => {\r\n                });\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    private async tigamaHorming(entity:Entity, i:number) {\r\n\r\n        if (entity == undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const kama = this.tigamaShooting(entity);\r\n\r\n            let targethoming = false;\r\n\r\n            const serchNum = system.runInterval(() => {\r\n\r\n                try {\r\n                    if (!targethoming) {\r\n\r\n                        kama.addTag(kama.id+i);\r\n                        const kamaKoc = kama.location;\r\n                        entity.addTag(entity.id);\r\n                        const targets = entity.dimension.getEntities({\r\n                            excludeFamilies: [\r\n                                \"inanimate\", \"animal\", \"tigama\"\r\n                            ],\r\n                            excludeTypes: [\r\n                                \"item\"\r\n                            ],\r\n                            excludeTags: [\r\n                                entity.id,\r\n                                kama.id+i\r\n                            ],\r\n                            location: kamaKoc,\r\n                            closest: 1,\r\n                            maxDistance: 32\r\n                        });\r\n                        entity.removeTag(entity.id);\r\n                        if (targets.length > 0) {\r\n                            targethoming=true;\r\n                            targets[0].addTag(\"hitObiTarget:\"+ kama.id+i);\r\n                            const num = system.runInterval(() =>{\r\n\r\n                                try {\r\n                                    if (!kama.isValid) {\r\n                                        system.clearRun(serchNum);\r\n                                        system.clearRun(num);\r\n                                        return;\r\n                                    }\r\n                                    const kamaKoc2 = kama.location;\r\n                                    const hittargets = entity.dimension.getEntities({\r\n                                        excludeFamilies: [\r\n                                            \"inanimate\", \"animal\", \"tigama\"\r\n                                        ],\r\n                                        excludeTypes: [\r\n                                            \"item\"\r\n                                        ],\r\n                                        tags: [\r\n                                            \"hitObiTarget:\"+ kama.id+i\r\n                                        ],\r\n                                        location: kamaKoc2,\r\n                                        closest: 1\r\n                                    });\r\n                                    if (hittargets.length > 0) {\r\n                                        const target = hittargets[0];\r\n                                        const targetLoc = getDirectionVector(kamaKoc2, target.location);\r\n                                        const tpLoc = {\r\n                                            x:kamaKoc2.x+targetLoc.x,\r\n                                            y:kamaKoc2.y+targetLoc.y+1,\r\n                                            z:kamaKoc2.z+targetLoc.z\r\n                                        }\r\n                                        kama.teleport(tpLoc, {\r\n                                            checkForBlocks: false,\r\n                                            keepVelocity: true\r\n                                        });\r\n                                        kama.applyImpulse(targetLoc);\r\n                                    } else {\r\n                                        if (kama.isValid) {\r\n                                            system.clearRun(num);\r\n                                            kama.remove();\r\n                                        }\r\n                                    }\r\n                                } catch (error: any) {\r\n                                    system.clearRun(num);\r\n                                }\r\n                    \r\n                            }, 3);\r\n            \r\n                        }\r\n\r\n                    }\r\n                } catch (error: any) {\r\n                    system.clearRun(serchNum);\r\n                }\r\n            },4);\r\n            system.waitTicks(100).then(() => {\r\n                if (kama.isValid) {\r\n                    system.clearRun(serchNum);\r\n                    kama.remove();\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    private tigamaShooting(entity:Entity) {\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1, getRandomInRange(-5, 5), getRandomInRange(0, 2));\r\n\r\n        const bulet = entity.dimension.spawnEntity(\"kurokumaft:tobi_tigama\", getDistanceLocation(\r\n            {\r\n                x:entity.location.x,\r\n                y:entity.location.y,\r\n                z:entity.location.z\r\n            },\r\n            distance\r\n        ));\r\n\r\n        const projectile = bulet.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n\r\n        const distance2 = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n\r\n        projectile.shoot({\r\n            x:distance2.x * 1,\r\n            y:distance2.y * 1,\r\n            z:distance2.z * 1\r\n        });\r\n\r\n        return bulet;\r\n    }\r\n\r\n    /**\r\n     * 跋扈跳梁\r\n     */\r\n    bakkotyouryou(entity:Entity) {\r\n\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tigama2.value\"}]});\r\n                entity.startItemCooldown(\"kurokumaft:tigama\", 5*TicksPerSecond);\r\n            }\r\n\r\n            entity.addTag(entity.id);\r\n            const parnum = system.runInterval(() => {\r\n\r\n                try {\r\n                    const filter = addOrgeFilter(0, entity.location, 6, entity.id);\r\n                    const targets = entity.dimension.getEntities(filter);\r\n                    targets.forEach(en => {\r\n                        if (en !== undefined && en.isValid) {\r\n                            if (en instanceof Player) {\r\n                                if (this.gardCheck(en)) {\r\n                                    en.applyDamage(2, {\r\n                                        cause: EntityDamageCause.entityAttack,\r\n                                        damagingEntity: entity\r\n                                    });\r\n                                }\r\n                                en.addEffect(\"minecraft:poison\", 5, {\r\n                                    showParticles: false,\r\n                                    amplifier: 2\r\n                                });\r\n                            } else {\r\n                                en.applyDamage(3, {\r\n                                    cause: EntityDamageCause.entityAttack,\r\n                                    damagingEntity: entity\r\n                                });\r\n                                en.addEffect(\"minecraft:poison\", 10, {\r\n                                    showParticles: false,\r\n                                    amplifier: 5\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                } catch (error: any) {\r\n                    system.clearRun(parnum);\r\n                }\r\n            },2);\r\n\r\n            system.waitTicks(3*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(parnum);\r\n                entity.removeTag(entity.id);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 円斬旋回・飛び血鎌\r\n     */\r\n    enzansenkai(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (entity.getProperty(\"kurokumaft:kokyu_chage\") === 0) {\r\n                if (entity instanceof Player) {\r\n                    entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tigama3.value\"}]});\r\n                    entity.startItemCooldown(\"kurokumaft:tigama\", 5*TicksPerSecond);\r\n                }\r\n                entity.setProperty(\"kurokumaft:kokyu_chage\", 1);\r\n\r\n                entity.addTag(entity.id);\r\n                const parnum = system.runInterval(() => {\r\n\r\n                    try {\r\n\r\n                        if (entity === undefined) {\r\n                            return;\r\n                        }\r\n\r\n                        const filter = addOrgeFilter(0, entity.location, 10, entity.id);\r\n                        const targets = entity.dimension.getEntities(filter);\r\n                        targets.forEach(en => {\r\n                            if (en !== undefined && en.isValid) {\r\n                                if (en instanceof Player) {\r\n                                    if (this.gardCheck(en)) {\r\n                                        en.applyDamage(2, {\r\n                                            cause: EntityDamageCause.entityAttack,\r\n                                            damagingEntity: entity\r\n                                        });\r\n                                    }\r\n                                } else {\r\n                                    en.applyDamage(3, {\r\n                                        cause: EntityDamageCause.entityAttack,\r\n                                        damagingEntity: entity\r\n                                    });\r\n                                }\r\n                            }\r\n                        });\r\n                    } catch (error: any) {\r\n                        system.clearRun(parnum);\r\n                        entity.removeTag(entity.id);\r\n                    }\r\n                },2);\r\n\r\n                system.waitTicks(2*TicksPerSecond).then(() => {\r\n                    entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                    entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                    this.enzanTigama(entity, -5);\r\n                    this.enzanTigama(entity, 0);\r\n                    this.enzanTigama(entity, 5);\r\n                    entity.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n                }).catch((error: any) => {\r\n                }).finally(() => {\r\n                    system.clearRun(parnum);\r\n                    entity.removeTag(entity.id);\r\n                });\r\n\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    enzanTigama(entity:Entity, side:number) {\r\n\r\n        try {\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 1, side, getRandomInRange(0, 3));\r\n\r\n            const bulet = entity.dimension.spawnEntity(\"kurokumaft:enzansenkai\", getDistanceLocation(\r\n                {\r\n                    x:entity.location.x,\r\n                    y:entity.location.y,\r\n                    z:entity.location.z\r\n                },\r\n                distance\r\n            ));\r\n\r\n            const projectile = bulet.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n            projectile.owner = entity;\r\n            const distance2 = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n\r\n            projectile.shoot({\r\n                x:distance2.x * 1,\r\n                y:distance2.y * 1,\r\n                z:distance2.z * 1\r\n            });\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    entity.addTag(entity.id);\r\n                    const targets = entity.dimension.getEntities({\r\n                        excludeFamilies: [\r\n                            \"inanimate\", \"animal\", \"tigama\"\r\n                        ],\r\n                        excludeTypes: [\r\n                            \"item\"\r\n                        ],\r\n                        excludeTags: [\r\n                            entity.id,\r\n                            bulet.id+side\r\n                        ],\r\n                        location: bulet.location,\r\n                        maxDistance: 4\r\n                    });\r\n                    targets.forEach(en => {\r\n                        if (en != undefined) {\r\n                            en.applyDamage(1, {\r\n                                cause: EntityDamageCause.entityAttack,\r\n                                damagingEntity: entity\r\n                            });\r\n                            en.addEffect(\"minecraft:poison\", 10, {\r\n                                showParticles: false,\r\n                                amplifier: 5\r\n                            });\r\n                        }\r\n                    });\r\n                    entity.removeTag(entity.id);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            }, 2);\r\n\r\n            system.waitTicks(30).then(() => {\r\n                if (bulet.isValid) {\r\n                    bulet.remove();\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { ItemStack, Entity, Player, world } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { KekkizyutuObject, KekkizyutuObjects } from \"../../../item/weapon/KekkizyutuTypes\";\r\nimport { Tigama } from \"../../zyutu/Tigama\";\r\n\r\n/**\r\n * 血気術（妓夫太郎）\r\n */\r\nexport class ZyutuGyutaroComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n        let kata = player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kekkizyutuObject = KekkizyutuObjects[4] as KekkizyutuObject;\r\n\r\n        switch (kata) {\r\n            case kekkizyutuObject.kata[kekkizyutuObject.kata.length-1] :\r\n                kata = kekkizyutuObject.kata[0];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n                break;\r\n            default :\r\n                const index = kekkizyutuObject.kata.findIndex((el) => el === kata);\r\n                kata = kekkizyutuObject.kata[index+1];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n            }\r\n            player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tigama\" + kata + \".value\"}]});\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const tigama = new Tigama();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                tigama.tobiTigama(entity);\r\n            break;\r\n            case 2 :\r\n                tigama.bakkotyouryou(entity);\r\n            break;\r\n            case 3 :\r\n                tigama.enzansenkai(entity);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../../zyutu/Bunretu\";\r\n\r\n/**\r\n * 血気術（可楽）\r\n */\r\nexport class ZyutuKarakuComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const bunretu = new Bunretu();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                bunretu.toppu(entity);\r\n            break;\r\n        }\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { EntityDamageCause, EntityQueryOptions, MolangVariableMap, Entity, system, Player, world } from \"@minecraft/server\";\r\nimport { ogreRankPoint } from \"../../kokyu/kata/KataComonClass\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\n\r\nexport class Bakketu extends ZytuComonClass {\r\n\r\n    /**\r\n     * 爆血\r\n     */\r\n    bakketu(entity:Entity) {\r\n        if (entity === undefined) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_bakketu1.value\"}]});\r\n            }\r\n\r\n            const damage = entity.getProperty(\"kurokumaft:attack_level\") as number;\r\n\r\n            const dimension = entity.dimension;\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n\r\n            const ogre_rank = entity.getProperty(\"kurokumaft:ogre_rank\");\r\n            const point = ogreRankPoint.find(rank => rank.rank === ogre_rank);\r\n\r\n            const molang = new MolangVariableMap();\r\n            molang.setFloat(\"variable.kaikyu\", (point !== undefined ? point.point : 1));\r\n\r\n            entity.addTag(entity.id);\r\n            const healthFilterOption = {\r\n                excludeFamilies: [\r\n                    \"inanimate\", \"ogre\", \"monster\"\r\n                ],\r\n                excludeTypes: [\r\n                    \"item\"\r\n                ],\r\n                excludeTags: [\r\n                    entity.id\r\n                ],\r\n                location: entity.location,\r\n                maxDistance: 10\r\n            } as EntityQueryOptions;\r\n            const targets1 = dimension.getEntities(healthFilterOption);\r\n\r\n            const fireFilterOption = {\r\n                excludeFamilies: [\r\n                    \"inanimate\", \"regimental_soldier\", \"villager\", \"animal\"\r\n                ],\r\n                excludeTypes: [\r\n                    \"item\"\r\n                ],\r\n                excludeTags: [\r\n                    entity.id\r\n                ],\r\n                location: entity.location,\r\n                maxDistance: 10\r\n            } as EntityQueryOptions;\r\n            const targets2 = dimension.getEntities(fireFilterOption);\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    targets1.forEach(en => {\r\n                        if (en !== undefined && en.isValid) {\r\n                            dimension.spawnParticle(\"kurokumaft:bakketu\",en.location, molang);\r\n                        }\r\n                    });\r\n                    targets2.forEach(en => {\r\n                        if (en !== undefined && en.isValid) {\r\n                            dimension.spawnParticle(\"kurokumaft:bakketu\",en.location, molang);\r\n                        }\r\n                    });\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },4);\r\n\r\n            system.waitTicks(30).then(() => {\r\n                const num2 = system.runInterval(() => {\r\n                    try {\r\n                        targets1.forEach(en => {\r\n                            if (en !== undefined && en.isValid) {\r\n                                dimension.spawnParticle(\"kurokumaft:bakketu_fire\",en.location, molang);\r\n                                en.addEffect(\"minecraft:instant_health\", damage / 2, {\r\n                                    amplifier: 2,\r\n                                    showParticles: true\r\n                                });\r\n                            }\r\n                        });\r\n\r\n                        targets2.forEach(en => {\r\n                            if (en !== undefined && en.isValid && entity.isValid) {\r\n                                dimension.spawnParticle(\"kurokumaft:bakketu_fire\",en.location, molang);\r\n                                if (en instanceof Player) {\r\n                                    if (!this.gardCheck(en)) {\r\n                                        en.applyDamage(damage, {\r\n                                            cause: EntityDamageCause.fire,\r\n                                            damagingEntity: entity\r\n                                        });\r\n                                    }\r\n                                } else {\r\n                                    en.applyDamage(3, {\r\n                                        cause: EntityDamageCause.fire,\r\n                                        damagingEntity: entity\r\n                                    });\r\n                                }\r\n                            }\r\n                        });\r\n                    } catch (error: any) {\r\n                        system.clearRun(num2);\r\n                    }\r\n            \r\n                },4);\r\n\r\n                system.waitTicks(40).then(() => {\r\n                }).catch((error: any) => {\r\n                }).finally(() => {\r\n                    system.clearRun(num2);\r\n                });\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n\r\n            entity.removeTag(entity.id);\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n}\r\n","import { Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { Bakketu } from \"../../zyutu/Bakketu\";\r\n\r\n/**\r\n * 血気術（禰豆子）\r\n */\r\nexport class ZyutuNezukoComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const bakketu = new Bakketu();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                bakketu.bakketu(entity);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { BlockVolume, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\nimport { addOrgeFilter } from \"../../common/KimetuCommonUtil\";\r\nimport { shooting } from \"../../common/ShooterEvent\";\r\n\r\nexport class Koushi extends ZytuComonClass {\r\n\r\n    /**\r\n     * 刻糸牢\r\n     */\r\n    kokushirou(entity:Entity) {\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_ito1.value\"}]});\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n            const filter = addOrgeFilter(0, entity.location, 8, entity.id);\r\n            entity.addTag(entity.id);\r\n            const targets = entity.dimension.getEntities(filter);\r\n            entity.removeTag(entity.id);\r\n            targets.forEach(en => {\r\n                const volume = new BlockVolume({x:en.location.x-1,y:en.location.y,z:en.location.z-1}, {x:en.location.x+1,y:en.location.y+1,z:en.location.z+1});\r\n                en.dimension.fillBlocks(volume, \"minecraft:web\");\r\n            });\r\n\r\n            this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n            system.waitTicks(20).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 刻糸輪転\r\n     */\r\n    kokushirinten(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_ito2.value\"}]});\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n\r\n            const ito = shooting(entity, \"kurokumaft:kokushirinten\", 0, 3, undefined);\r\n\r\n            system.waitTicks(2*TicksPerSecond).then(() => {\r\n                if (ito.isValid) {\r\n                    ito.remove();\r\n                }\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 殺目篭\r\n     */\r\n    ayamekago(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_ito3.value\"}]});\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n\r\n            const filter = addOrgeFilter(1, entity.location, 10, entity.id);\r\n            entity.addTag(entity.id);\r\n            const targets = entity.dimension.getEntities(filter);\r\n            entity.removeTag(entity.id);\r\n\r\n            if (targets.length > 0) {\r\n                const ayamekago = targets[0].dimension.spawnEntity(\"kurokumaft:ayamekago\", targets[0].location);\r\n\r\n                const num = system.runInterval(() => {\r\n                    try {\r\n                        if (ayamekago !== undefined && ayamekago.isValid) {\r\n                            if (targets[0] !== undefined && targets[0].isValid) {\r\n                                targets[0].teleport(ayamekago.location);\r\n                                if (entity !== undefined) {\r\n                                    this.zyutuApplyDamage(entity, filter, 5);\r\n                                }\r\n                            } else {\r\n                                system.clearRun(num);\r\n                                ayamekago.remove();\r\n                            }\r\n                        }\r\n                    } catch (error: any) {\r\n                        system.clearRun(num);\r\n                    }\r\n                }, 2);\r\n        \r\n                system.waitTicks(40).then(() => {\r\n                    if (ayamekago !== undefined && ayamekago.isValid) {\r\n                        ayamekago.remove();\r\n                    }\r\n                }).catch((error: any) => {\r\n                }).finally(() => {\r\n                    system.clearRun(num);\r\n                });\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n}\r\n","import { ItemStack, Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { KekkizyutuObject, KekkizyutuObjects } from \"../../../item/weapon/KekkizyutuTypes\";\r\nimport { Koushi } from \"../../zyutu/Koushi\";\r\n\r\n/**\r\n * 血気術（累）\r\n */\r\nexport class ZyutuRuiComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n        let kata = player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kekkizyutuObject = KekkizyutuObjects[1] as KekkizyutuObject;\r\n\r\n        switch (kata) {\r\n            case kekkizyutuObject.kata[kekkizyutuObject.kata.length-1] :\r\n                kata = kekkizyutuObject.kata[0];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n                break;\r\n            default :\r\n                const index = kekkizyutuObject.kata.findIndex((el) => el === kata);\r\n                kata = kekkizyutuObject.kata[index+1];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n            }\r\n            player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_ito\" + kata + \".value\"}]});\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const koushi = new Koushi();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                koushi.kokushirou(entity);\r\n            break;\r\n            case 2 :\r\n                koushi.kokushirinten(entity);\r\n            break;\r\n            case 3 :\r\n                koushi.ayamekago(entity);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { ItemStack, Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../../zyutu/Bunretu\";\r\n\r\n/**\r\n * 血気術（積怒）\r\n */\r\nexport class ZyutuSekidoComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const bunretu = new Bunretu();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                bunretu.ikazuti(entity);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { ItemStack, Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../../zyutu/Bunretu\";\r\n\r\n/**\r\n * 血気術（うろぎ）\r\n */\r\nexport class ZyutuUrogiComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const bunretu = new Bunretu();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                bunretu.ultrasonic(entity);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../../zyutu/Bunretu\";\r\nimport { KekkizyutuObjects, KekkizyutuObject } from \"../../../item/weapon/KekkizyutuTypes\";\r\n\r\n/**\r\n * 血気術（）\r\n */\r\nexport class ZyutuZouhakutenComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player:Player): void {\r\n\r\n        let kata = player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kekkizyutuObject = KekkizyutuObjects[9] as KekkizyutuObject;\r\n\r\n        switch (kata) {\r\n            case kekkizyutuObject.kata[kekkizyutuObject.kata.length-1] :\r\n                kata = kekkizyutuObject.kata[0];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n                break;\r\n            default :\r\n                const index = kekkizyutuObject.kata.findIndex((el) => el === kata);\r\n                kata = kekkizyutuObject.kata[index+1];\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kata);\r\n        }\r\n        player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_zouhakuten\" + kata + \".value\"}]});\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const bunretu = new Bunretu();\r\n\r\n        switch (kata) {\r\n            case 1 :\r\n                bunretu.tokage(entity);\r\n            break;\r\n            case 2 :\r\n                bunretu.kyoumeiraisatu(entity);\r\n            break;\r\n            case 3 :\r\n                bunretu.kyouatumeiha(entity);\r\n            break;\r\n            case 4 :\r\n                bunretu.mukengouzyu(entity);\r\n            break;\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../zyutu/Bunretu\";\r\n\r\n/**\r\n * 石竜子\r\n */\r\nexport class TokageComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity: Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                const nitirintou_equip = entity.getProperty(\"kurokumaft:nitirintou_equip\") as boolean;\r\n                if (nitirintou_equip) {\r\n                    entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                    entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                    this.useAttackZyutu(entity);\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    async useAttackZyutu(entity: Entity): Promise<void> {\r\n\r\n        try {\r\n            const bunretu = new Bunretu();\r\n            bunretu.ultrasonic(entity);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Obi } from \"../zyutu/Obi\";\r\n\r\nconst dakiKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 20 },\r\n    { item: 3 , weight: 40 },\r\n    { item: 4 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 堕姫\r\n */\r\nexport class DakiComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n\r\n            const num = dakiKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const obi = new Obi();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    obi.yokonagi(entity);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    obi.barrage(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    obi.yaeobigiri(entity);\r\n                    system.waitTicks(10).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    obi.yaeobigiri(entity);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Tigama } from \"../zyutu/Tigama\";\r\n\r\nconst gyutaroKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 40 },\r\n    { item: 3 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 妓夫太郎\r\n */\r\nexport class GyutaroComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n\r\n            const num = gyutaroKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const kama = new Tigama();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kama.tobiTigama(entity);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    kama.bakkotyouryou(entity);\r\n                    system.waitTicks(3*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.runTimeout(() => {\r\n                        kama.enzansenkai(entity);\r\n                    }, 30);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Koushi } from \"../zyutu/Koushi\";\r\n\r\nconst ruiKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 40 },\r\n    { item: 3 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 累\r\n */\r\nexport class RuiComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = ruiKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const koushi = new Koushi();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koushi.kokushirou(entity);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koushi.kokushirinten(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koushi.ayamekago(entity);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Bakketu } from \"../zyutu/Bakketu\";\r\n\r\nconst nezukoKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 100 },\r\n]);\r\n\r\n/**\r\n * ねずこ\r\n */\r\nexport class NezukoComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = nezukoKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const bakketu = new Bakketu();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    bakketu.bakketu(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Hakaisatu } from \"../zyutu/Hakaisatu\";\r\n\r\nconst akazaKekkizyutuLists = weightChoice([\r\n    { item: 2 , weight: 5 },\r\n    { item: 3 , weight: 15 },\r\n    { item: 4 , weight: 10 },\r\n    { item: 5 , weight: 10 },\r\n    { item: 6 , weight: 15 },\r\n    { item: 7 , weight: 15 },\r\n    { item: 8 , weight: 10 },\r\n    { item: 9 , weight: 5 },\r\n    { item: 10 , weight: 5 },\r\n]);\r\n\r\n/**\r\n * 累\r\n */\r\nexport class AkazaComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        try {\r\n\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n\r\n            if (entity.getProperty(\"kurokumaft:rashin\")) {\r\n                const num = akazaKekkizyutuLists.pick();\r\n                entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n                this.kokyuUse(entity, num);\r\n            } else {\r\n                entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 1);\r\n                this.kokyuUse(entity, 1);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const hakaisatu = new Hakaisatu();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hakaisatu.rashin(entity);\r\n                    entity.setProperty(\"kurokumaft:rashin\", true);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hakaisatu.kushiki(entity);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hakaisatu.ranshiki(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hakaisatu.kamurosakiwari(entity);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hakaisatu.ryusengunkou(entity);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hakaisatu.hiyuuseisenrin(entity);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hakaisatu.manyousenyanagi(entity);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hakaisatu.kishinyaenshin(entity);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    system.runTimeout(() => {\r\n                        hakaisatu.messhiki(entity);\r\n                    }, 20);\r\n                    system.waitTicks(60).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 10 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    hakaisatu.aoginranzankou(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../zyutu/Bunretu\";\r\n\r\nconst aizetuKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 100 },\r\n]);\r\n\r\n/**\r\n * 哀絶\r\n */\r\nexport class AizetuComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n        if (entity !== undefined && entity.isValid) {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n            this.useAttackZyutu(entity);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        const num = aizetuKekkizyutuLists.pick();\r\n        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n        this.kokyuUse(entity, num);\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const bunretu = new Bunretu();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    bunretu.shitotu(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../zyutu/Bunretu\";\r\n\r\nconst karakuKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 100 },\r\n]);\r\n\r\n/**\r\n * 可楽\r\n */\r\nexport class KarakuComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = karakuKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const bunretu = new Bunretu();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    bunretu.toppu(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../zyutu/Bunretu\";\r\n\r\nconst sekidoKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 100 },\r\n]);\r\n\r\n/**\r\n * 積怒\r\n */\r\nexport class SekidoComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = sekidoKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const bunretu = new Bunretu();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    bunretu.ikazuti(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../zyutu/Bunretu\";\r\n\r\nconst urogiKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 100 },\r\n]);\r\n\r\n/**\r\n * 空喜\r\n */\r\nexport class UrogiComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = urogiKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const bunretu = new Bunretu();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    bunretu.ultrasonic(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Bunretu } from \"../zyutu/Bunretu\";\r\n\r\nconst zouhakutenKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 50 },\r\n    { item: 2 , weight: 20 },\r\n    { item: 3 , weight: 20 },\r\n    { item: 4 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 憎拍天\r\n */\r\nexport class ZouhakutenComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = zouhakutenKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const bunretu = new Bunretu();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    bunretu.tokage(entity);\r\n                    system.waitTicks(10).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    bunretu.kyouatumeiha(entity);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    bunretu.kyoumeiraisatu(entity);\r\n                    system.waitTicks(40).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    bunretu.mukengouzyu(entity);\r\n                    system.waitTicks(80).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { TukiNoKataZyutu } from \"../zyutu/TukiNoKataZyutu\";\r\nimport { NomalAttack } from \"../../kokyu/kata/NomalAttack\";\r\n\r\nconst kokushibouKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 20 },\r\n    { item: 2 , weight: 15 },\r\n    { item: 3 , weight: 15 },\r\n    { item: 5 , weight: 10 },\r\n    { item: 6 , weight: 10 },\r\n    { item: 7 , weight: 5 },\r\n    { item: 8 , weight: 5 },\r\n    { item: 9 , weight: 5 },\r\n    { item: 10 , weight: 5 },\r\n    { item: 14 , weight: 5 },\r\n    { item: 16 , weight: 5 },\r\n]);\r\n\r\n/**\r\n * 黒死牟\r\n */\r\nexport class KokushibouComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    async hitAttackZyutu(entity:Entity): Promise<void> {\r\n        const attack = new NomalAttack();\r\n        for (let i=0; i<4; i++) {\r\n            attack.oneAttack(entity, undefined);\r\n            await system.waitTicks(2.5);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = kokushibouKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const tuki = new TukiNoKataZyutu();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.ichiNoKata(entity);\r\n                    system.waitTicks(10).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.niNoKata(entity);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.sanNoKata(entity);\r\n                    system.waitTicks(15).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.goNoKata(entity);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.rokuNoKata(entity);\r\n                    system.waitTicks(30).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.shitiNoKata(entity);\r\n                    system.waitTicks(15).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.hachiNoKata(entity);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.kuNoKata(entity);\r\n                    system.waitTicks(25).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 10 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.zyuNoKata(entity);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 14 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.zyushiNoKata(entity);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 16 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tuki.zyurokuNoKata(entity);\r\n                    system.waitTicks(50).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { EntityComponentTypes, EntityProjectileComponent, MolangVariableMap, Entity, system, Vector3, Player } from \"@minecraft/server\";\r\nimport { addOrgeFilter, getDistanceLocation, getForwardPosition, getLookLocationDistance, getLookLocationDistancePitch, getRandomInRange } from \"../../common/KimetuCommonUtil\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\n\r\nexport class TukiNoKataZyutu extends ZytuComonClass {\r\n\r\n    /**\r\n     * 壱ノ型 闇月・宵の宮\r\n     */\r\n    ichiNoKata(entity:Entity) {\r\n\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu1.value\"}]});\r\n            \r\n        }\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2.5, 0, 0.5);\r\n        const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 3, entity.id);\r\n        this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.tuki_rotaion\", -entity.getRotation().y);\r\n        molang.setFloat(\"variable.tuki_size_x\", 5);\r\n        molang.setFloat(\"variable.tuki_size_y\", 2.5);\r\n\r\n        entity.dimension.spawnParticle(\"kurokumaft:mikazuki5_particle\", getDistanceLocation(entity.location, distance), molang);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 弐ノ型 珠華ノ弄月\r\n     */\r\n    niNoKata(entity:Entity) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu2.value\"}]});\r\n        }\r\n\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        let side = -3;\r\n        let tuki_rotaion = 90;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                molang.setFloat(\"variable.tuki_rotaion\", tuki_rotaion);\r\n        \r\n                const distance = getLookLocationDistance(entity.getRotation().y, 3, 0, 0.5);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 3, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 2.5, side, 1);\r\n                entity.dimension.spawnParticle(\"kurokumaft:mikazuki_sweep_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n        \r\n                side=side+3;\r\n                tuki_rotaion=tuki_rotaion-90;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },5);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 厭忌月・銷り\r\n     */\r\n    sanNoKata(entity:Entity) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu3.value\"}]});\r\n        }\r\n\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.tuki_size_x\", 5);\r\n        molang.setFloat(\"variable.tuki_size_y\", 2.5);\r\n\r\n        // 左\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 2.5, -1.5, 1);\r\n        const lfilter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 3.5, entity.id);\r\n        this.zyutuApplyDamage(entity, lfilter, 5);\r\n\r\n        molang.setFloat(\"variable.tuki_rotaion\", 0);\r\n        entity.dimension.spawnParticle(\"kurokumaft:mikazuki_sweep_particle\", getDistanceLocation(entity.location, distance), molang);\r\n\r\n        system.waitTicks(5).then(() => {\r\n            // 右\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 2.5, 1.5, 1);\r\n            const rfilter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 3.5, entity.id);\r\n            this.zyutuApplyDamage(entity, rfilter, 5);\r\n\r\n            molang.setFloat(\"variable.tuki_rotaion\", 180);\r\n            entity.dimension.spawnParticle(\"kurokumaft:mikazuki_sweep_particle\", getDistanceLocation(entity.location, distance), molang);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 月魄災渦\r\n     */\r\n    goNoKata(entity:Entity) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu5.value\"}]});\r\n            \r\n        }\r\n        const molang = new MolangVariableMap();\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const y = getRandomInRange(0.1, 2.5);\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 3.5, 0, 0);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 4, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 6.5, 0, y);\r\n                molang.setFloat(\"variable.tuki_rotaion\", -entity.getRotation().y);\r\n                molang.setFloat(\"variable.tuki_size_x\", getRandomInRange(8, 12));\r\n                molang.setFloat(\"variable.tuki_size_y\", getRandomInRange(4, 8));\r\n                entity.dimension.spawnParticle(\"kurokumaft:mikazuki5_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 常夜孤月・無間\r\n     */\r\n    rokuNoKata(entity:Entity) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu6.value\"}]});\r\n            \r\n        }\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        const parlo = getForwardPosition(entity.location, entity.getRotation().y, 4);\r\n        entity.dimension.spawnParticle(\"kurokumaft:mikazuki_box_particle\", parlo, molang);\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const side = getRandomInRange(-5, 5);\r\n                const tuki_rotaion = getRandomInRange(-90, 90);\r\n                molang.setFloat(\"variable.tuki_rotaion\", tuki_rotaion);\r\n\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 6, 0, 0);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 8, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 6, side, 1);\r\n                entity.dimension.spawnParticle(\"kurokumaft:mikazuki_sweep_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 漆ノ型 厄鏡・月映え\r\n     */\r\n    shitiNoKata(entity:Entity) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu7.value\"}]});\r\n            \r\n        }\r\n\r\n        const front = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n        this.tukibae(entity,entity.location, front);\r\n        const right1 = getLookLocationDistance(entity.getRotation().y, 1, 0.5, 0);\r\n        this.tukibae(entity,entity.location, right1);\r\n        const right2 = getLookLocationDistance(entity.getRotation().y, 1, 1, 0);\r\n        this.tukibae(entity,entity.location, right2);\r\n        const left1 = getLookLocationDistance(entity.getRotation().y, 1, -0.5, 0);\r\n        this.tukibae(entity,entity.location, left1);\r\n        const left2 = getLookLocationDistance(entity.getRotation().y, 1, -1, 0);\r\n        this.tukibae(entity,entity.location, left2);\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistancePitch(entity.getRotation(), 6, 0);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 8, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 月映え\r\n     */\r\n    async tukibae(entity:Entity, location:Vector3, distance:Vector3) {\r\n\r\n        const tuki = entity.dimension.spawnEntity(\"kurokumaft:mikazuki_blead\", {\r\n            x:location.x + distance.x,\r\n            y:location.y,\r\n            z:location.z + distance.z\r\n        });\r\n\r\n        const projectile = tuki.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n        projectile.shoot({\r\n            x:distance.x * 3,\r\n            y:0,\r\n            z:distance.z * 3\r\n        });\r\n    \r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addOrgeFilter(0, location, 2, entity.id);\r\n                const exes = filter.excludeFamilies;\r\n                if (exes !== undefined) {\r\n                    exes.push(\"tuki_blead\");\r\n                }\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            if (tuki.isValid) {\r\n                tuki.remove();\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 捌ノ型 月龍輪尾\r\n     */\r\n    hachiNoKata(entity:Entity) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu8.value\"}]});\r\n            \r\n        }\r\n\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 6.5, 0, 0);\r\n        const disLotation = getDistanceLocation(entity.location, distance);\r\n\r\n        molang.setFloat(\"variable.tuki_rotaion\", -entity.getRotation().y);\r\n        molang.setFloat(\"variable.tuki_size_x\", getRandomInRange(8, 12));\r\n        molang.setFloat(\"variable.tuki_size_y\", getRandomInRange(4, 8));\r\n        entity.dimension.spawnParticle(\"kurokumaft:mikazuki8_particle\", disLotation, molang);\r\n\r\n        const filter = addOrgeFilter(0, disLotation, 4, entity.id);\r\n        this.zyutuApplyDamage(entity, filter, 10);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 玖ノ型 降り月・連面\r\n     */\r\n    kuNoKata(entity:Entity) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu9.value\"}]});\r\n            \r\n        }\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        let tuki_rotaion = 75;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const side = getRandomInRange(-5, 5);\r\n                molang.setFloat(\"variable.tuki_rotaion\", tuki_rotaion);\r\n\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 6, 0, 0);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 8, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 6);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 6, side, 1);\r\n                entity.dimension.spawnParticle(\"kurokumaft:mikazuki_sweep_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n        \r\n                tuki_rotaion=-tuki_rotaion;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 拾ノ型 穿面斬・蘿月\r\n     */\r\n    zyuNoKata(entity:Entity) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu10.value\"}]});\r\n            \r\n        }\r\n\r\n        const ldistance = getLookLocationDistance(entity.getRotation().y, 1, -1.5, 0);\r\n        this.ragetu(entity,entity.location, ldistance);\r\n\r\n        const rdistance = getLookLocationDistance(entity.getRotation().y, 1, 1.5, 0);\r\n        this.ragetu(entity,entity.location, rdistance);\r\n\r\n        system.waitTicks(15).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 蘿月\r\n     */\r\n    async ragetu(entity:Entity, location:Vector3, distance:Vector3) {\r\n\r\n        const tuki = entity.dimension.spawnEntity(\"kurokumaft:mikazuki_ragetu\", {\r\n            x:location.x + distance.x,\r\n            y:location.y,\r\n            z:location.z + distance.z\r\n        });\r\n\r\n        const front = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n        const projectile = tuki.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n        projectile.shoot({\r\n            x:front.x * 3,\r\n            y:0,\r\n            z:front.z * 3\r\n        });\r\n    \r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const filter = addOrgeFilter(0, location, 2, entity.id);\r\n                const exes = filter.excludeFamilies;\r\n                if (exes !== undefined) {\r\n                    exes.push(\"tuki_blead\");\r\n                }\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n\r\n        },2);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            if (tuki.isValid) {\r\n                tuki.remove();\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 拾肆ノ型 兇変・天満繊月\r\n     */\r\n    zyushiNoKata(entity:Entity) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu14.value\"}]});\r\n            \r\n        }\r\n        const molang = new MolangVariableMap();\r\n\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const y = getRandomInRange(0.1, 2.5);\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 5, 0, 0);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 6, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 8);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 8, 0, y);\r\n                molang.setFloat(\"variable.tuki_rotaion\", -entity.getRotation().y);\r\n                molang.setFloat(\"variable.tuki_size_x\", getRandomInRange(12, 16));\r\n                molang.setFloat(\"variable.tuki_size_y\", getRandomInRange(8, 12));\r\n                entity.dimension.spawnParticle(\"kurokumaft:mikazuki5_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 拾陸ノ型 月虹・片割れ月\r\n     */\r\n    zyurokuNoKata(entity:Entity) {\r\n\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate: \"msg.kurokumaft:tuki_kokyu16.value\"}]});\r\n            \r\n        }\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        molang.setFloat(\"variable.tuki_size_x\", 8);\r\n        molang.setFloat(\"variable.tuki_size_y\", 4);\r\n\r\n        let tuki_rotaion = 90;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const side = getRandomInRange(-5, 5);\r\n                molang.setFloat(\"variable.tuki_rotaion\", tuki_rotaion);\r\n\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 8, 0, 0);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 8, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 8);\r\n\r\n                const pdistance = getLookLocationDistance(entity.getRotation().y, 8, side, 1);\r\n                entity.dimension.spawnParticle(\"kurokumaft:mikazuki_sweep_particle\", getDistanceLocation(entity.location, pdistance), molang);\r\n        \r\n                tuki_rotaion=-tuki_rotaion;\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        system.waitTicks(40).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n    \r\n}\r\n","import { Entity, Player } from \"@minecraft/server\";\r\nimport { TukiNoKataZyutu } from \"../../zyutu/TukiNoKataZyutu\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { KekkizyutuObject, KekkizyutuObjects } from \"../../../item/weapon/KekkizyutuTypes\";\r\nimport { NomalAttack } from \"../../../kokyu/kata/NomalAttack\";\r\n\r\n/**\r\n * 血気術（黒死牟）\r\n */\r\nexport class ZyutuKokushibouComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player: Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kekkizyutuObject = KekkizyutuObjects[11] as KekkizyutuObject;\r\n\r\n        switch (kata) {\r\n            case kekkizyutuObject.kata[kekkizyutuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kekkizyutuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:tuki_kata\" + kekkizyutuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kekkizyutuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kekkizyutuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:tuki_kata\" + kekkizyutuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackZyutu(player: Player): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, undefined);\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const tuki = new TukiNoKataZyutu();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 2 :\r\n                    tuki.niNoKata(entity);\r\n                break;\r\n                case 3 :\r\n                    tuki.sanNoKata(entity);\r\n                break;\r\n                case 5 :\r\n                    tuki.goNoKata(entity);\r\n                break;\r\n                case 6 :\r\n                    tuki.rokuNoKata(entity);\r\n                break;\r\n                case 7 :\r\n                    tuki.shitiNoKata(entity);\r\n                break;\r\n                case 8 :\r\n                    tuki.hachiNoKata(entity);\r\n                break;\r\n                case 9 :\r\n                    tuki.kuNoKata(entity);\r\n                break;\r\n                case 10 :\r\n                    tuki.zyuNoKata(entity);\r\n                break;\r\n                case 14 :\r\n                    tuki.zyushiNoKata(entity);\r\n                break;\r\n                case 16 :\r\n                    tuki.zyurokuNoKata(entity);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const tuki = new TukiNoKataZyutu();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 1 :\r\n                    tuki.ichiNoKata(entity);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n\r\n}\r\n","import { MolangVariableMap, Entity, system, TicksPerSecond, Player } from \"@minecraft/server\";\r\nimport { addOrgeFilter, getDistanceLocation, getLookLocationDistance, getLookLocationDistancePitch} from \"../../common/KimetuCommonUtil\";\r\nimport { shooting } from \"../../common/ShooterEvent\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\n\r\nexport class Kokurai extends ZytuComonClass {\r\n\r\n    /**\r\n     * 弐ノ型 稲魂\r\n     */\r\n    niNoKata(entity:Entity) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu2.value\"}]});\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistancePitch(entity.getRotation(), 1.5, 0);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 3, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n                this.kokyuApplyEffect(entity, filter, 15*TicksPerSecond, 1, \"minecraft:wither\");\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 参ノ型 聚蚊成雷\r\n     */\r\n    sanNoKata(entity:Entity) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu3.value\"}]});\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const filter = addOrgeFilter(0, entity.location, 4, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n                this.kokyuApplyEffect(entity, filter, 15*TicksPerSecond, 1, \"minecraft:wither\");\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 4, -4, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n        entity.teleport(entity.location, {\r\n            keepVelocity: false,\r\n            rotation: {\r\n                x:0,\r\n                y:entity.getRotation().y + 90\r\n            }\r\n        });\r\n\r\n        const num2 = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 4, -4, 0);\r\n                entity.applyKnockback({x:distance.x,z:distance.z},0);\r\n                entity.teleport(entity.location, {\r\n                    keepVelocity: false,\r\n                    rotation: {\r\n                        x:0,\r\n                        y:entity.getRotation().y - 90\r\n                    }\r\n                });\r\n            } catch (error: any) {\r\n                system.clearRun(num2);\r\n            }\r\n        }, 5);\r\n\r\n        system.waitTicks(30).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n            system.clearRun(num2);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 肆ノ型 遠雷\r\n     */\r\n    shiNoKata(entity:Entity) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu4.value\"}]});\r\n            entity.startItemCooldown(\"kurokumaft:kaminari\", 2*TicksPerSecond);\r\n        }\r\n        entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n\r\n        const kaikyuNum = entity.getProperty(\"kurokumaft:kaikyu\") as number;\r\n        const molang = new MolangVariableMap();\r\n        molang.setFloat(\"variable.kaikyu\", kaikyuNum);\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 8, 0, 0);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 8, entity.id);\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n                this.kokyuApplyEffect(entity, filter, 15*TicksPerSecond, 1, \"minecraft:wither\");\r\n        \r\n                entity.dimension.spawnParticle(\"kurokumaft:kokurai4_particle\",entity.location,molang);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },4);\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 伍ノ型 熱界雷\r\n     */\r\n    goNoKata(entity:Entity) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu5.value\"}]});\r\n            entity.startItemCooldown(\"kurokumaft:kaminari\", 2*TicksPerSecond);\r\n        }\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                entity.dimension.spawnParticle(\"kurokumaft:kokurai5_particle\", entity.location);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        const filter = addOrgeFilter(1, entity.location, 6, entity.id);\r\n        this.zyutuApplyDamage(entity, filter, 5);\r\n        this.kokyuApplyEffect(entity, filter, 15*TicksPerSecond, 1, \"minecraft:wither\");\r\n\r\n        system.waitTicks(20).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n        const dragon = shooting(entity, \"kurokumaft:kuro_dragon_small\", 0, 3, \"kurokumaft:lage_damage\");\r\n\r\n        system.waitTicks(2*TicksPerSecond).then(() => {\r\n            if (dragon.isValid) {\r\n                dragon.remove();\r\n            }\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 陸ノ型 電轟雷轟\r\n     */\r\n    rokuNoKata(entity:Entity) {\r\n        if (entity instanceof Player) {\r\n            entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kokyu6.value\"}]});\r\n            entity.startItemCooldown(\"kurokumaft:kaminari\", 2*TicksPerSecond);\r\n        }\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n        entity.applyKnockback({x:distance.x,z:distance.z},0.8);\r\n\r\n        entity.addEffect(\"minecraft:slow_falling\", 1*TicksPerSecond,{\r\n            amplifier: 1,\r\n            showParticles: false\r\n        });\r\n\r\n        const nowloc = entity.location;\r\n        const num = system.runInterval(() => {\r\n\r\n            try {\r\n                entity.dimension.spawnParticle(\"kurokumaft:kokurai6_particle\",nowloc);\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },1);\r\n\r\n        const filter = addOrgeFilter(1, entity.location, 15, entity.id);\r\n        this.zyutuApplyDamage(entity, filter, 5);\r\n        this.kokyuApplyEffect(entity, filter, 15*TicksPerSecond, 1, \"minecraft:wither\");\r\n\r\n        system.waitTicks(10).then(() => {\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n\r\n    }\r\n\r\n}\r\n","import { Entity, Player, world } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { Kokurai } from \"../../zyutu/Kokurai\";\r\nimport { KekkizyutuObject, KekkizyutuObjects } from \"../../../item/weapon/KekkizyutuTypes\";\r\nimport { NomalAttack } from \"../../../kokyu/kata/NomalAttack\";\r\n\r\n/**\r\n * 呼吸（雷）\r\n */\r\nexport class ZyutuKaigakuComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player: Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kekkizyutuObject = KekkizyutuObjects[12] as KekkizyutuObject;\r\n\r\n        switch (kata) {\r\n            case kekkizyutuObject.kata[kekkizyutuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kekkizyutuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kata\" + kekkizyutuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kekkizyutuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kekkizyutuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kaminari_kata\" + kekkizyutuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Player} player\r\n     */\r\n    hitAttackZyutu(player: Player): void {\r\n        const attack = new NomalAttack();\r\n        attack.oneAttack(player, undefined);\r\n    }\r\n\r\n    /**\r\n     * @param {ItemStack} itemStack\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kokurai = new Kokurai();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 2 :\r\n                    kokurai.niNoKata(entity);\r\n                break;\r\n                case 3 :\r\n                    kokurai.sanNoKata(entity);\r\n                break;\r\n                case 5 :\r\n                    kokurai.goNoKata(entity);\r\n                break;\r\n                case 6 :\r\n                    kokurai.rokuNoKata(entity);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kokurai = new Kokurai();\r\n\r\n        try {\r\n\r\n            switch (kata) {\r\n                case 4 :\r\n                    kokurai.shiNoKata(entity);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n    }\r\n\r\n}\r\n","import { Entity, system, TicksPerSecond, Player, EntityQueryOptions, world, EntityComponentTypes, EntityTameableComponent, EntityDamageCause } from \"@minecraft/server\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\nimport { addOrgeFilter, getDistanceLocation, getLookLocationDistance, getLookLocationDistancePitch, getRandomInRange } from \"../../common/KimetuCommonUtil\";\r\n\r\nexport class Koori extends ZytuComonClass {\r\n\r\n    /**\r\n     * 蓮葉氷\r\n     */\r\n    hasuhagoori(entity:Entity) {\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori1.value\"}]});\r\n            }\r\n            const distance = getLookLocationDistancePitch(entity.getRotation(), 3, 0);\r\n            const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 3, entity.id);\r\n            this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n            for (let i=-3; i<=3; i=i+3) {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 4, i, 0);\r\n                entity.dimension.setBlockType(getDistanceLocation(entity.location, distance), \"kurokumaft:hasuhagoori_block\");\r\n            }\r\n\r\n            system.waitTicks(12).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 枯園垂り\r\n     */\r\n    karesonosizuri(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori2.value\"}]});\r\n            }\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 2, 0, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 4, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },2);\r\n            system.waitTicks(2*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 凍て曇\r\n     */\r\n    itegumori(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori3.value\"}]});\r\n            }\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 6, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n                    this.kokyuApplyEffect(entity, filter, 20, 2, \"minecraft:weakness\");\r\n\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },2);\r\n\r\n            entity.dimension.spawnParticle(\"kurokumaft:itegumori_particle\", entity.location);\r\n\r\n            system.waitTicks(1*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 蔓蓮華\r\n     */\r\n    tururenge(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori4.value\"}]});\r\n            }\r\n\r\n            let owner = undefined;\r\n            const tameable = entity.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (tameable !== undefined && tameable.isTamed) {\r\n                owner = tameable.tamedToPlayer;\r\n            }\r\n            const left = getLookLocationDistance(entity.getRotation().y, 2, 2, 0);\r\n            const hasu1 = entity.dimension.spawnEntity(\"kurokumaft:hasuhagoori\", getDistanceLocation(entity.location, left));\r\n\r\n            const renge1 = new hasuRenge(hasu1, entity, owner);\r\n            renge1.startMonitoring();\r\n\r\n            const center = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n            const hasu2 = entity.dimension.spawnEntity(\"kurokumaft:hasuhagoori\", getDistanceLocation(entity.location, center));\r\n            const renge2 = new hasuRenge(hasu2, entity, owner);\r\n            renge2.startMonitoring();\r\n\r\n            const right = getLookLocationDistance(entity.getRotation().y, 2, -2, 0);\r\n            const hasu3 = entity.dimension.spawnEntity(\"kurokumaft:hasuhagoori\", getDistanceLocation(entity.location, right));\r\n            const renge3 = new hasuRenge(hasu3, entity, owner);\r\n            renge3.startMonitoring();\r\n\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 寒烈の白姫\r\n     */\r\n    kanretunosirahime(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori5.value\"}]});\r\n            }\r\n\r\n            const left = getLookLocationDistance(entity.getRotation().y, 2, 2, 0);\r\n            const shirahime1 = entity.dimension.spawnEntity(\"kurokumaft:kanretunosirahime\", getDistanceLocation(entity.location, left));\r\n            const tameable = shirahime1.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameable.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameable.tame(entity);\r\n                }\r\n            }\r\n\r\n            const right = getLookLocationDistance(entity.getRotation().y, 2, -2, 0);\r\n            const shirahime2 = entity.dimension.spawnEntity(\"kurokumaft:kanretunosirahime\", getDistanceLocation(entity.location, right));\r\n            const tameable2 = shirahime2.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameable2.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameable2.tame(entity);\r\n                }\r\n            }\r\n\r\n            system.waitTicks(6).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 冬ざれ氷柱\r\n     */\r\n    fuyuzareturara(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori6.value\"}]});\r\n            }\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 8, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 6);\r\n\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },2);\r\n            entity.dimension.spawnParticle(\"kurokumaft:koori_turara_particle\", entity.location);\r\n\r\n            system.waitTicks(2*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 散り蓮華\r\n     */\r\n    tirirenge(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori7.value\"}]});\r\n            }\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 6, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },2);\r\n\r\n            entity.dimension.spawnParticle(\"kurokumaft:tirirenge_particle\", entity.location);\r\n\r\n            system.waitTicks(1*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 結晶ノ御子\r\n     */\r\n    kessyounomiko(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori8.value\"}]});\r\n            }\r\n\r\n            const center = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n            const miko = entity.dimension.spawnEntity(\"kurokumaft:kessyounomiko\", getDistanceLocation(entity.location, center));\r\n            const tameable = miko.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameable.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameable.tame(entity);\r\n                }\r\n            }\r\n\r\n            system.waitTicks(6).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 霧氷・睡蓮菩薩\r\n     */\r\n    muhyousuirenbosatu(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori9.value\"}]});\r\n            }\r\n\r\n            const center = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n            const bosatu = entity.dimension.spawnEntity(\"kurokumaft:muhyousuirenbosatu\", getDistanceLocation(entity.location, center));\r\n            const tameable = bosatu.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameable.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameable.tame(entity);\r\n                }\r\n            }\r\n\r\n            system.waitTicks(6).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 菩薩範囲攻撃\r\n     */\r\n    bosatuattack(entity:Entity) {\r\n\r\n        try {\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 0, 0, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 8, entity.id);\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },2);\r\n\r\n            system.waitTicks(2*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nclass hasuRenge extends ZytuComonClass {\r\n\r\n    entity: Entity;\r\n    num: number;\r\n    ownerEntity: Entity;\r\n    player: Player | undefined;\r\n\r\n    constructor(entity: Entity, ownerEntity: Entity, player: Player | undefined) {\r\n        super();\r\n        this.entity = entity;\r\n        this.num = 0;\r\n        this.ownerEntity = ownerEntity;\r\n        this.ownerEntity.addTag(this.entity.id);\r\n        if (player !== undefined) {\r\n            this.player = player;\r\n            this.player.addTag(this.entity.id);\r\n        }\r\n    }\r\n\r\n    startMonitoring() {\r\n        this.num = system.runInterval(() => {\r\n            if (this.entity.isValid) {\r\n                this.entity.setProperty(\"kurokumaft:attack_ran\", 0);\r\n                this.attackTick();\r\n            } else {\r\n                system.clearRun(this.num);\r\n                if (this.ownerEntity.isValid) {\r\n                    this.ownerEntity.removeTag(this.entity.id)\r\n                }\r\n                if (this.player !== undefined) {\r\n                    this.player.removeTag(this.entity.id)\r\n                }\r\n            }\r\n        }, 10);\r\n    }\r\n\r\n    async attackTick() {\r\n \r\n        const filter = {\r\n            excludeFamilies: [\r\n                \"inanimate\", \"animal\", \"hasuhagoori\", \"koori\"\r\n            ],\r\n            excludeTypes: [\r\n                \"item\"\r\n            ],\r\n            excludeTags: [\r\n                this.entity.id\r\n            ],\r\n            closest: 1,\r\n            location: this.entity.location,\r\n            maxDistance: 4\r\n        } as EntityQueryOptions;\r\n\r\n        if (!world.gameRules.pvp) {\r\n            filter.excludeFamilies?.push(\"player\");\r\n        }\r\n\r\n        const targets = this.entity.dimension.getEntities(filter);\r\n        if (targets.length > 0) {\r\n            this.entity.teleport(this.entity.location, {\r\n                facingLocation: targets[0].location\r\n            })\r\n            const ran = getRandomInRange(1, 4);\r\n            this.entity.setProperty(\"kurokumaft:attack_ran\", ran);\r\n            this.zyutuApplyDamage(this.entity, filter, 2);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 白姫の息吹\r\n */\r\nexport function ibuki(entity:Entity) {\r\n\r\n    try {\r\n\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                const distance = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n                const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 6, entity.id);\r\n                filter.excludeFamilies?.push(\"koori\");\r\n\r\n                const targets = entity.dimension.getEntities(filter);\r\n                targets.forEach(en => {\r\n                    if (en !== undefined && en.isValid) {\r\n                        if (en instanceof Player) {\r\n                            en.applyDamage(2, {\r\n                                cause: EntityDamageCause.entityAttack,\r\n                                damagingEntity: entity\r\n                            });\r\n                            en.addEffect(\"minecraft:weakness\", 20, {\r\n                                amplifier: 2,\r\n                                showParticles: true\r\n                            });\r\n                        } else {\r\n                            en.applyDamage(4, {\r\n                                cause: EntityDamageCause.entityAttack,\r\n                                damagingEntity: entity\r\n                            });\r\n                            en.addEffect(\"minecraft:weakness\", 20, {\r\n                                amplifier: 4,\r\n                                showParticles: true\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n\r\n        entity.dimension.spawnParticle(\"kurokumaft:itegumori_particle\", entity.location);\r\n\r\n        system.waitTicks(1*TicksPerSecond).then(() => {\r\n        }).catch((error: any) => {\r\n        }).finally(() => {\r\n            system.clearRun(num);\r\n        });\r\n    } catch (error: any) {\r\n    }\r\n\r\n}\r\n\r\n","import { Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { KekkizyutuObject, KekkizyutuObjects } from \"../../../item/weapon/KekkizyutuTypes\";\r\nimport { Koori } from \"../../zyutu/Koori\";\r\n\r\n/**\r\n * 血気術（童磨）\r\n */\r\nexport class ZyutuDoumaComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player: Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kekkizyutuObject = KekkizyutuObjects[10] as KekkizyutuObject;\r\n\r\n        switch (kata) {\r\n            case kekkizyutuObject.kata[kekkizyutuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kekkizyutuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori\" + kekkizyutuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kekkizyutuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kekkizyutuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_koori\" + kekkizyutuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const koori = new Koori();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    koori.hasuhagoori(entity);\r\n                break;\r\n                case 2 :\r\n                    koori.karesonosizuri(entity);\r\n                break;\r\n                case 3 :\r\n                    koori.itegumori(entity);\r\n                break;\r\n                case 4 :\r\n                    koori.tururenge(entity);\r\n                break;\r\n                case 5 :\r\n                    koori.kanretunosirahime(entity);\r\n                break;\r\n                case 6 :\r\n                    koori.fuyuzareturara(entity);\r\n                break;\r\n                case 7 :\r\n                    koori.tirirenge(entity);\r\n                break;\r\n                case 8 :\r\n                    koori.kessyounomiko(entity);\r\n                break;\r\n                case 9 :\r\n                    koori.muhyousuirenbosatu(entity);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Koori } from \"../zyutu/Koori\";\r\n\r\nconst doumaKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 20 },\r\n    { item: 2 , weight: 20 },\r\n    { item: 3 , weight: 10 },\r\n    { item: 4 , weight: 5 },\r\n    { item: 5 , weight: 5 },\r\n    { item: 6 , weight: 15 },\r\n    { item: 7 , weight: 15 },\r\n    { item: 8 , weight: 5 },\r\n    { item: 9 , weight: 5 },\r\n]);\r\n\r\n/**\r\n * 童磨\r\n */\r\nexport class DoumaComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = doumaKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const koori = new Koori();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.hasuhagoori(entity);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.karesonosizuri(entity);\r\n                    system.waitTicks(2*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.itegumori(entity);\r\n                    system.waitTicks(1*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.tururenge(entity);\r\n                    system.waitTicks(5).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.kanretunosirahime(entity);\r\n                    system.waitTicks(10).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.fuyuzareturara(entity);\r\n                    system.waitTicks(2*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.tirirenge(entity);\r\n                    system.waitTicks(1*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 8 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.kessyounomiko(entity);\r\n                    system.waitTicks(10).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 9 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.muhyousuirenbosatu(entity);\r\n                    system.waitTicks(10).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Koori } from \"../zyutu/Koori\";\r\n\r\nconst kessyounomikoKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 30 },\r\n    { item: 2 , weight: 20 },\r\n    { item: 3 , weight: 10 },\r\n    { item: 4 , weight: 10 },\r\n    { item: 6 , weight: 15 },\r\n    { item: 7 , weight: 15 },\r\n]);\r\n\r\n/**\r\n * 童磨（結晶の巫女）\r\n */\r\nexport class KessyounomikoComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = kessyounomikoKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const koori = new Koori();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.hasuhagoori(entity);\r\n                    system.waitTicks(20).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.karesonosizuri(entity);\r\n                    system.waitTicks(2*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.itegumori(entity);\r\n                    system.waitTicks(1*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.tururenge(entity);\r\n                    system.waitTicks(5).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.fuyuzareturara(entity);\r\n                    system.waitTicks(2*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.tirirenge(entity);\r\n                    system.waitTicks(1*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Koori } from \"../zyutu/Koori\";\r\n\r\nconst muhyousuirenbosatuKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 70 },\r\n    { item: 3 , weight: 15 },\r\n    { item: 7 , weight: 15 },\r\n]);\r\n\r\n/**\r\n * 童磨（菩薩）\r\n */\r\nexport class MuhyousuirenbosatuComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = muhyousuirenbosatuKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const koori = new Koori();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.bosatuattack(entity);\r\n                    system.waitTicks(2*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.itegumori(entity);\r\n                    system.waitTicks(1*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 7 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    koori.tirirenge(entity);\r\n                    system.waitTicks(1*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity, system, TicksPerSecond, Player, EntityComponentTypes, EntityTameableComponent, BlockVolume, EntityProjectileComponent, EntityDamageCause } from \"@minecraft/server\";\r\nimport { ZytuComonClass } from \"./ZytuComonClass\";\r\nimport { addOrgeFilter, getDistanceLocation, getLookLocationDistance, getRandomInRange } from \"../../common/KimetuCommonUtil\";\r\n\r\nexport class Tubo extends ZytuComonClass {\r\n\r\n    /**\r\n     * 水獄鉢\r\n     */\r\n    suigokubati(entity:Entity) {\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tubo1.value\"}]});\r\n                entity.startItemCooldown(\"kurokumaft:tubo\", 10*TicksPerSecond);\r\n            }\r\n            entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n            entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n\r\n            const filter = addOrgeFilter(3, entity.location, 10, entity.id);\r\n            filter.excludeFamilies?.push(\"sakana\");\r\n            entity.addTag(entity.id);\r\n            const targets = entity.dimension.getEntities(filter);\r\n            targets.forEach(en => {\r\n                const suigokubati = en.dimension.spawnEntity(\"kurokumaft:suigokubati\", en.location);\r\n                this.suigokubatiHold(suigokubati, en);\r\n            });\r\n            entity.removeTag(entity.id);\r\n\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    async suigokubatiHold(suigokubati:Entity, target:Entity) {\r\n        const num = system.runInterval(() => {\r\n            try {\r\n                if (suigokubati.isValid && target.isValid) {\r\n                    target.teleport({x:suigokubati.location.x,y:suigokubati.location.y+0.2,z:suigokubati.location.z});\r\n                    target.applyDamage(1, {\r\n                        cause: EntityDamageCause.drowning,\r\n                        damagingEntity: suigokubati\r\n                    })\r\n                } else {\r\n                    if (suigokubati.isValid) {\r\n                        suigokubati.remove();\r\n                    }\r\n                    system.clearRun(num);\r\n                }\r\n            } catch (error: any) {\r\n                system.clearRun(num);\r\n            }\r\n        },2);\r\n    }\r\n\r\n    /**\r\n     * 千本針魚殺\r\n     */\r\n    senbonbarigyosatu(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tubo2.value\"}]});\r\n            }\r\n\r\n            const left = getLookLocationDistance(entity.getRotation().y, 2, 2, 1);\r\n            const gyosatu1 = entity.dimension.spawnEntity(\"kurokumaft:gyosatu\", getDistanceLocation(entity.location, left));\r\n            const tameable = gyosatu1.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameable.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameable.tame(entity);\r\n                }\r\n            }\r\n\r\n            const right = getLookLocationDistance(entity.getRotation().y, 2, -2, 1);\r\n            const gyosatu2 = entity.dimension.spawnEntity(\"kurokumaft:gyosatu\", getDistanceLocation(entity.location, right));\r\n            const tameable2 = gyosatu2.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameable2.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameable2.tame(entity);\r\n                }\r\n            }\r\n\r\n            system.waitTicks(6).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 蛸壺地獄\r\n     */\r\n    takotubozigoku(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tubo3.value\"}]});\r\n            }\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 5, 0, 0);\r\n                    const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 6, entity.id);\r\n                    filter.excludeFamilies?.push(\"sakana\");\r\n                    this.zyutuApplyDamage(entity, filter, 5);\r\n\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n            },2);\r\n\r\n            system.waitTicks(2*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 一万滑空粘魚\r\n     */\r\n    itimankakkuunengyo(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tubo4.value\"}]});\r\n            }\r\n\r\n            const distance = getLookLocationDistance(entity.getRotation().y, 5, 0, 0);\r\n            const filter = addOrgeFilter(0, getDistanceLocation(entity.location, distance), 5, entity.id);\r\n            filter.excludeFamilies?.push(\"sakana\");\r\n            const num = system.runInterval(() => {\r\n                this.nengyo(entity, getRandomInRange(-3, 3), getRandomInRange(-2, 2));\r\n                this.zyutuApplyDamage(entity, filter, 5);\r\n            }, 2);\r\n\r\n            system.waitTicks(30).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    async nengyo(entity:Entity, side:number, top:number) {\r\n\r\n        const distance = getLookLocationDistance(entity.getRotation().y, 1, side, top);\r\n        const bulet = entity.dimension.spawnEntity(\"kurokumaft:nengyo\", getDistanceLocation(\r\n            {\r\n                x:entity.location.x,\r\n                y:entity.location.y+0.5,\r\n                z:entity.location.z\r\n            },\r\n            distance\r\n        ));\r\n\r\n        const distance2 = getLookLocationDistance(entity.getRotation().y, 1, 0, 0);\r\n        const projectile = bulet.getComponent(EntityComponentTypes.Projectile) as EntityProjectileComponent;\r\n        projectile.owner = entity;\r\n        projectile.shoot({\r\n            x:distance2.x,\r\n            y:0,\r\n            z:distance2.z\r\n        });\r\n\r\n        system.waitTicks(10).then(() => {\r\n            if (bulet.isValid) {\r\n                bulet.remove();\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 魚召喚\r\n     */\r\n    sakanasyoukan(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tubo5.value\"}]});\r\n            }\r\n\r\n            const left = getLookLocationDistance(entity.getRotation().y, 2, 2, 0);\r\n            const sakana1 = entity.dimension.spawnEntity(\"kurokumaft:kyodaigyo_kiba\", getDistanceLocation(entity.location, left));\r\n            const tameable = sakana1.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameable.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameable.tame(entity);\r\n                }\r\n            }\r\n\r\n            const right = getLookLocationDistance(entity.getRotation().y, 2, -2, 0);\r\n            const sakana2 = entity.dimension.spawnEntity(\"kurokumaft:kyodaigyo_kiba\", getDistanceLocation(entity.location, right));\r\n            const tameable2 = sakana2.getComponent(EntityComponentTypes.Tameable) as EntityTameableComponent;\r\n            if (!tameable2.isTamed) {\r\n                if (entity instanceof Player) {\r\n                    tameable2.tame(entity);\r\n                }\r\n            }\r\n\r\n            system.waitTicks(6).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 陣殺魚鱗\r\n     */\r\n    zinsatugyorin(entity:Entity) {\r\n\r\n        try {\r\n            if (entity instanceof Player) {\r\n                entity.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tubo6.value\"}]});\r\n            }\r\n\r\n            const num = system.runInterval(() => {\r\n                try {\r\n                    const filter = addOrgeFilter(0, entity.location, 2.5, entity.id);\r\n                    filter.excludeFamilies?.push(\"sakana\");\r\n                    this.zyutuApplyDamage(entity, filter, 10);\r\n\r\n                    const distance = getLookLocationDistance(entity.getRotation().y, 4, 0, 0);\r\n                    entity.applyKnockback({x:distance.x,z:distance.z},0.15);\r\n                } catch (error: any) {\r\n                    system.clearRun(num);\r\n                }\r\n                system.waitTicks(4).then(() => {\r\n                    entity.teleport(entity.location, {\r\n                        keepVelocity: false,\r\n                        rotation: {\r\n                            x:0,\r\n                            y:entity.getRotation().y + getRandomInRange(75, 115)\r\n                        }\r\n                    });\r\n                }).catch((error: any) => {\r\n                }).finally(() => {\r\n                });\r\n\r\n            },5);\r\n\r\n            system.waitTicks(2*TicksPerSecond).then(() => {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n            }).catch((error: any) => {\r\n            }).finally(() => {\r\n                system.clearRun(num);\r\n            });\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport async function gyokkoMove(entity:Entity) {\r\n\r\n    const distance = getLookLocationDistance(entity.getRotation().y, getRandomInRange(-10, 10), getRandomInRange(-10, 10), 0);\r\n    entity.teleport(getDistanceLocation(entity.location, distance), {\r\n        checkForBlocks: true\r\n    });\r\n}","import { Entity, Player } from \"@minecraft/server\";\r\nimport { KekkizyutuUseComponent } from \"../../KekkizyutuUseComponent\";\r\nimport { KekkizyutuObject, KekkizyutuObjects } from \"../../../item/weapon/KekkizyutuTypes\";\r\nimport { Tubo } from \"../../zyutu/Tubo\";\r\n\r\n/**\r\n * 血気術（玉壺）\r\n */\r\nexport class ZyutuGyokkoComponent implements KekkizyutuUseComponent {\r\n    /**\r\n     * 呼吸型変更\r\n     * @param {Player} player\r\n     */\r\n    changeZyutu(player: Player): void {\r\n\r\n        const kata = player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const kekkizyutuObject = KekkizyutuObjects[13] as KekkizyutuObject;\r\n\r\n        switch (kata) {\r\n            case kekkizyutuObject.kata[kekkizyutuObject.kata.length-1] :\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kekkizyutuObject.kata[0]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tubo\" + kekkizyutuObject.kata[0] + \".value\"}]});\r\n                break;\r\n            default :\r\n                const index = kekkizyutuObject.kata.findIndex((el) => el === kata);\r\n                player.setProperty(\"kurokumaft:kekkizyutu_kata\", kekkizyutuObject.kata[(index+1)]);\r\n                player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:kekkizyutu_tubo\" + kekkizyutuObject.kata[(index+1)] + \".value\"}]});\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    useAttackZyutu(entity: Entity): void {\r\n\r\n        const kata = entity.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n        const tubo = new Tubo();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    tubo.suigokubati(entity);\r\n                break;\r\n                case 2 :\r\n                    tubo.senbonbarigyosatu(entity);\r\n                break;\r\n                case 3 :\r\n                    tubo.takotubozigoku(entity);\r\n                break;\r\n                case 4 :\r\n                    tubo.itimankakkuunengyo(entity);\r\n                break;\r\n                case 5 :\r\n                    tubo.sakanasyoukan(entity);\r\n                break;\r\n                case 6 :\r\n                    tubo.zinsatugyorin(entity);\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    releaseAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n}\r\n","import { Entity, system, TicksPerSecond } from \"@minecraft/server\";\r\nimport { weightChoice } from \"../../common/KimetuCommonUtil\";\r\nimport { KekkizyutuMobUseComponent } from \"../KekkizyutuUseComponent\";\r\nimport { Koori } from \"../zyutu/Koori\";\r\nimport { Tubo } from \"../zyutu/Tubo\";\r\n\r\nconst doumaKekkizyutuLists = weightChoice([\r\n    { item: 1 , weight: 5 },\r\n    { item: 2 , weight: 30 },\r\n    { item: 3 , weight: 20 },\r\n    { item: 4 , weight: 20 },\r\n    { item: 5 , weight: 15 },\r\n    { item: 6 , weight: 10 },\r\n]);\r\n\r\n/**\r\n * 玉壺\r\n */\r\nexport class GyokkoComponent implements KekkizyutuMobUseComponent {\r\n\r\n    startMonitoring(entity:Entity) {\r\n\r\n        try {\r\n            if (entity !== undefined && entity.isValid) {\r\n                entity.setProperty(\"kurokumaft:kokyu_use\", true);\r\n                entity.setProperty(\"kurokumaft:kokyu_particle\", true);\r\n                this.useAttackZyutu(entity);\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Entity} entity\r\n     */\r\n    hitAttackZyutu(entity: Entity): void {\r\n    }\r\n\r\n    useAttackZyutu(entity:Entity): void {\r\n\r\n        try {\r\n            const num = doumaKekkizyutuLists.pick();\r\n            entity.setProperty(\"kurokumaft:kekkizyutu_kata\", num);\r\n            this.kokyuUse(entity, num);\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n\r\n    private kokyuUse(entity:Entity, kata:number) {\r\n\r\n        const tubo = new Tubo();\r\n\r\n        try {\r\n            switch (kata) {\r\n                case 1 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tubo.suigokubati(entity);\r\n                    system.waitTicks(5).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 2 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tubo.senbonbarigyosatu(entity);\r\n                    system.waitTicks(5).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 3 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tubo.takotubozigoku(entity);\r\n                    system.waitTicks(2.5*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 4 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tubo.itimankakkuunengyo(entity);\r\n                    system.waitTicks(2*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 5 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tubo.sakanasyoukan(entity);\r\n                    system.waitTicks(5).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n                case 6 :\r\n                    entity.triggerEvent(\"kurokumaft:attack_stop\");\r\n                    tubo.zinsatugyorin(entity);\r\n                    system.waitTicks(2*TicksPerSecond).then(() => {\r\n                        entity.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                        entity.triggerEvent(\"kurokumaft:kekkizyutu_end\");\r\n                    }).catch((error: any) => {\r\n                    });\r\n                break;\r\n            }\r\n        } catch (error: any) {\r\n        }\r\n\r\n    }\r\n}\r\n","import { Entity } from \"@minecraft/server\";\r\nimport { KekkizyutuMobUseComponent, KekkizyutuUseComponent } from \"../../kekkizyutu/KekkizyutuUseComponent\";\r\nimport { ZyutuAizetuComponent } from \"../../kekkizyutu/player/character/ZyutuAizetuComponent\";\r\nimport { ZyutuAkazaComponent } from \"../../kekkizyutu/player/character/ZyutuAkazaComponent\";\r\nimport { ZyutuDakiComponent } from \"../../kekkizyutu/player/character/ZyutuDakiComponent\";\r\nimport { ZyutuGyutaroComponent } from \"../../kekkizyutu/player/character/ZyutuGyutaroComponent\";\r\nimport { ZyutuKarakuComponent } from \"../../kekkizyutu/player/character/ZyutuKarakuComponent\";\r\nimport { ZyutuNezukoComponent } from \"../../kekkizyutu/player/character/ZyutuNezukoComponent\";\r\nimport { ZyutuRuiComponent } from \"../../kekkizyutu/player/character/ZyutuRuiComponent\";\r\nimport { ZyutuSekidoComponent } from \"../../kekkizyutu/player/character/ZyutuSekidoComponent\";\r\nimport { ZyutuUrogiComponent } from \"../../kekkizyutu/player/character/ZyutuUrogiComponent\";\r\nimport { ZyutuZouhakutenComponent } from \"../../kekkizyutu/player/character/ZyutuZouhakutenComponent\";\r\nimport { TokageComponent } from \"../../kekkizyutu/mob/TokageComponent\";\r\nimport { DakiComponent } from \"../../kekkizyutu/mob/DakiComponent\";\r\nimport { GyutaroComponent } from \"../../kekkizyutu/mob/GyutaroComponent\";\r\nimport { RuiComponent } from \"../../kekkizyutu/mob/RuiComponent\";\r\nimport { NezukoComponent } from \"../../kekkizyutu/mob/NezukoComponent\";\r\nimport { AkazaComponent } from \"../../kekkizyutu/mob/AkazaComponent\";\r\nimport { AizetuComponent } from \"../../kekkizyutu/mob/AizetuComponent\";\r\nimport { KarakuComponent } from \"../../kekkizyutu/mob/KarakuComponent\";\r\nimport { SekidoComponent } from \"../../kekkizyutu/mob/SekidoComponent\";\r\nimport { UrogiComponent } from \"../../kekkizyutu/mob/UrogiComponent\";\r\nimport { ZouhakutenComponent } from \"../../kekkizyutu/mob/ZouhakutenComponent\";\r\nimport { KokushibouComponent } from \"../../kekkizyutu/mob/KokushibouComponent\";\r\nimport { ZyutuKokushibouComponent } from \"../../kekkizyutu/player/character/ZyutuKokushibouComponent\";\r\nimport { ZyutuKaigakuComponent } from \"../../kekkizyutu/player/character/ZyutuKaigakuComponent\";\r\nimport { ZyutuDoumaComponent } from \"../../kekkizyutu/player/character/ZyutuDoumaComponent\";\r\nimport { DoumaComponent } from \"../../kekkizyutu/mob/DoumaComponent\";\r\nimport { KessyounomikoComponent } from \"../../kekkizyutu/mob/KessyounomikoComponent\";\r\nimport { MuhyousuirenbosatuComponent } from \"../../kekkizyutu/mob/MuhyousuirenbosatuComponent\";\r\nimport { ZyutuGyokkoComponent } from \"../../kekkizyutu/player/character/ZyutuGyokkoComponent\";\r\nimport { GyokkoComponent } from \"../../kekkizyutu/mob/GyokkoComponent\";\r\n\r\nexport interface KekkizyutuObject {\r\n    itemName:string,\r\n    type:number,\r\n    kata: number[],\r\n    kata_msg: string\r\n    className: string\r\n}\r\n\r\nexport const KekkizyutuClassRecord: Record<string, new () => KekkizyutuUseComponent> = {\r\n    nezuko: ZyutuNezukoComponent,\r\n    rui: ZyutuRuiComponent,\r\n    akaza: ZyutuAkazaComponent,\r\n    daki: ZyutuDakiComponent,\r\n    gyutaro: ZyutuGyutaroComponent,\r\n    sekido: ZyutuSekidoComponent,\r\n    karaku: ZyutuKarakuComponent,\r\n    aizetu: ZyutuAizetuComponent,\r\n    urogi: ZyutuUrogiComponent,\r\n    zouhakuten: ZyutuZouhakutenComponent,\r\n    douma: ZyutuDoumaComponent,\r\n    kokushibou: ZyutuKokushibouComponent,\r\n    kaigaku: ZyutuKaigakuComponent,\r\n    gyokko: ZyutuGyokkoComponent,\r\n};\r\n\r\nexport const KekkizyutuObjects = Object.freeze([\r\n    {\r\n        itemName: \"kurokumaft:bakketu\",\r\n        type: 1,\r\n        kata: [1],\r\n        kata_msg: \"kekkizyutu_bakketu\",\r\n        className: \"nezuko\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:koushi\",\r\n        type: 2,\r\n        kata: [1,2,3],\r\n        kata_msg: \"kekkizyutu_ito\",\r\n        className: \"rui\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:hakaisatu_item\",\r\n        type: 3,\r\n        kata: [1,2,3,4,5,6,7,8,9,10],\r\n        kata_msg: \"kekkizyutu_hakai\",\r\n        className: \"akaza\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:obi_item\",\r\n        type: 4,\r\n        kata: [1,2,3,4],\r\n        kata_msg: \"kekkizyutu_obi\",\r\n        className: \"daki\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:gyutaro_kama\",\r\n        type: 5,\r\n        kata: [1,2,3],\r\n        kata_msg: \"kekkizyutu_tigama\",\r\n        className: \"gyutaro\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:sekido_syakuzyou\",\r\n        type: 6,\r\n        kata: [1],\r\n        kata_msg: \"kekkizyutu_ikazuti\",\r\n        className: \"sekido\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:karaku_ougi\",\r\n        type: 7,\r\n        kata: [1],\r\n        kata_msg: \"kekkizyutu_toppu\",\r\n        className: \"karaku\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:aizetu_spear\",\r\n        type: 8,\r\n        kata: [1],\r\n        kata_msg: \"kekkizyutu_shitotu\",\r\n        className: \"aizetu\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:urogi_ultrasonic_item\",\r\n        type: 9,\r\n        kata: [1],\r\n        kata_msg: \"kekkizyutu_kyoumei\",\r\n        className: \"urogi\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:zouhakuten_bati\",\r\n        type: 10,\r\n        kata: [1, 2, 3, 4],\r\n        kata_msg: \"kekkizyutu_zouhakuten\",\r\n        className: \"zouhakuten\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:douma_sensu\",\r\n        type: 11,\r\n        kata: [1,2,3,4,5,6,7,8,9],\r\n        kata_msg: \"kekkizyutu_koori\",\r\n        className: \"douma\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:kyokokukamusari\",\r\n        type: 12,\r\n        kata: [1,2,3,5,6,7,8,9,10,14,16],\r\n        kata_msg: \"tuki_kata\",\r\n        className: \"kokushibou\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:nichirintou_kaigaku\",\r\n        type: 13,\r\n        kata: [2,3,4,5,6],\r\n        kata_msg: \"kaminari_kata\",\r\n        className: \"kaigaku\"\r\n    },\r\n    {\r\n        itemName: \"kurokumaft:gyokko_tubo\",\r\n        type: 14,\r\n        kata: [1,2,3,4,5,6],\r\n        kata_msg: \"kekkizyutu_tubo\",\r\n        className: \"gyokko\"\r\n    },\r\n]);\r\n\r\nexport interface KekkizyutuMobObject {\r\n    entityName:string,\r\n    className: string\r\n}\r\n\r\nexport const KekkizyutuMobClassRecord: Record<string, new (entity:Entity) => KekkizyutuMobUseComponent> = {\r\n    tokage: TokageComponent,\r\n    nezuko: NezukoComponent,\r\n    daki: DakiComponent,\r\n    gyutaro: GyutaroComponent,\r\n    rui: RuiComponent,\r\n    akaza: AkazaComponent,\r\n    aizetu: AizetuComponent,\r\n    karaku: KarakuComponent,\r\n    sekido: SekidoComponent,\r\n    urogi: UrogiComponent,\r\n    zouhakuten: ZouhakutenComponent,\r\n    kokushibou: KokushibouComponent,\r\n    douma: DoumaComponent,\r\n    kessyounomiko: KessyounomikoComponent,\r\n    muhyousuirenbosatu: MuhyousuirenbosatuComponent,\r\n    gyokko: GyokkoComponent\r\n};\r\n\r\nexport const KekkizyutuMobObjects = Object.freeze([\r\n    {\r\n        entityName: \"kurokumaft:tokage\",\r\n        className: \"tokage\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:nezuko\",\r\n        className: \"nezuko\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:daki\",\r\n        className: \"daki\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:gyutaro\",\r\n        className: \"gyutaro\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:rui\",\r\n        className: \"rui\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:akaza\",\r\n        className: \"akaza\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:aizetu\",\r\n        className: \"aizetu\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:karaku\",\r\n        className: \"karaku\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:sekido\",\r\n        className: \"sekido\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:urogi\",\r\n        className: \"urogi\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:zouhakuten\",\r\n        className: \"zouhakuten\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:kokushibou\",\r\n        className: \"kokushibou\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:douma\",\r\n        className: \"douma\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:kessyounomiko\",\r\n        className: \"kessyounomiko\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:muhyousuirenbosatu\",\r\n        className: \"muhyousuirenbosatu\"\r\n    },\r\n    {\r\n        entityName: \"kurokumaft:gyokko\",\r\n        className: \"gyokko\"\r\n    },\r\n]);\r\n","import { ItemCustomComponent, Player, ItemComponentConsumeEvent, TicksPerSecond, ItemStack } from \"@minecraft/server\";\r\nimport { OgreEatCommon } from \"./OgreEatCommon\";\r\n\r\nexport class MeatEating implements ItemCustomComponent {\r\n\r\n    onConsume (event: ItemComponentConsumeEvent) {\r\n\r\n        const item = event.itemStack as ItemStack;\r\n        const player = event.source as Player;\r\n        const rank = player.getProperty(\"kurokumaft:ogre_rank\") as string;\r\n        let becoming = player.getProperty(\"kurokumaft:ogre_becoming\") as number;\r\n        if (item.typeId === \"kurokumaft:meat_chunk\") {\r\n            becoming = becoming + 10;\r\n        } else if (item.typeId === \"kurokumaft:rare_blood\") {\r\n            becoming = becoming + 100;\r\n        }\r\n\r\n        if (\"none\" === rank) {\r\n            player.addEffect(\"minecraft:hunger\", 15*TicksPerSecond, {\r\n                amplifier : 5,\r\n                showParticles: false\r\n            });\r\n            player.addEffect(\"minecraft:nausea\", 10*TicksPerSecond, {\r\n                amplifier : 1,\r\n                showParticles: false\r\n            });\r\n        } else {\r\n            new OgreEatCommon().upRankCheck(rank, player, becoming);\r\n        }\r\n    };\r\n\r\n}\r\n","import { ItemCustomComponent, Player, ItemComponentConsumeEvent, TicksPerSecond, ItemStack, system, EntityComponentTypes, EntityInventoryComponent } from \"@minecraft/server\";\r\nimport { kekkizyutuLists } from \"../../common/KimetuConst\";\r\n\r\nexport class DemonizationReversal implements ItemCustomComponent {\r\n\r\n    onConsume (event: ItemComponentConsumeEvent) {\r\n\r\n        const player = event.source as Player;\r\n        const rank = player.getProperty(\"kurokumaft:ogre_rank\") as string;\r\n\r\n        if (\"none\" !== rank) {\r\n            player.addEffect(\"minecraft:hunger\", 60*TicksPerSecond, {\r\n                amplifier : 5,\r\n                showParticles: false\r\n            });\r\n            player.addEffect(\"minecraft:weakness\", 60*TicksPerSecond, {\r\n                amplifier : 5,\r\n                showParticles: false\r\n            });\r\n            player.addEffect(\"minecraft:nausea\", 30*TicksPerSecond, {\r\n                amplifier : 1,\r\n                showParticles: false\r\n            });\r\n            player.addEffect(\"minecraft:wither\", 60*TicksPerSecond, {\r\n                amplifier : 10,\r\n                showParticles: false\r\n            });\r\n            system.waitTicks(60*TicksPerSecond).then(() => {\r\n                player.setProperty(\"kurokumaft:ogre_rank\", \"none\");\r\n                player.setProperty(\"kurokumaft:ogre_becoming\", 0);\r\n                player.removeEffect(\"minecraft:regeneration\");\r\n                system.runTimeout(() => {\r\n                    player.triggerEvent(\"kurokumaft:ogre_rank_change\");\r\n                    player.triggerEvent(\"kurokumaft:kaikyu_change\");\r\n                }, 2);\r\n                const Inventory = player.getComponent(EntityComponentTypes.Inventory) as EntityInventoryComponent;\r\n                const container = Inventory.container;\r\n                if (container !== undefined) {\r\n                    const itemstack = container.getItem(0) as ItemStack;\r\n                    const kekkizyutu = kekkizyutuLists.find(items => items.item === itemstack.typeId);\r\n                    if (kekkizyutu !== undefined) {\r\n                        container.setItem(0, undefined);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n}\r\n","import { NichirintouComponent } from \"../item/weapon/nichirintou/NichirintouComponent\";\r\nimport { BloodDrinking } from \"../item/tool/BloodDrinking\";\r\nimport { KekkizyutuComponent } from \"../item/weapon/kekkizyutu/KekkizyutuComponent\";\r\nimport { StartupEvent } from \"@minecraft/server\";\r\nimport { MeatEating } from \"../item/tool/MeatEating\";\r\nimport { DemonizationReversal } from \"../item/tool/DemonizationReversal\";\r\n\r\n/**\r\n * カスタムコンポーネントの登録\r\n * @param {StartupEvent} initEvent\r\n */\r\nfunction initRegisterKimetuCustom(initEvent:StartupEvent) {\r\n\r\n    // アイテム類\r\n    // 日輪刀\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:nichirintou_component', new NichirintouComponent());\r\n    // 血飲み\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:blood_drinking', new BloodDrinking());\r\n    // 肉\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:meat_eating', new MeatEating());\r\n    // 鬼化解除\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:demonization_reversal_potion', new DemonizationReversal());\r\n\r\n    // 血気術\r\n    initEvent.itemComponentRegistry.registerCustomComponent('kurokumaft:kekkizyutu_component', new KekkizyutuComponent());\r\n\r\n    // ブロック類\r\n//    initEvent.blockComponentRegistry.registerCustomComponent('kurokumaft:torchlight_block', new TorchlightBlock());\r\n\r\n}\r\n\r\nexport {initRegisterKimetuCustom}\r\n","import { EntityComponentTypes, EntityEquippableComponent, EquipmentSlot, Player, system, TicksPerSecond, world } from \"@minecraft/server\";\r\nimport { KokyuObject, KokyuObjects } from \"../item/weapon/NichirintouTypes\";\r\nimport { KekkizyutuObject, KekkizyutuObjects } from \"../item/weapon/KekkizyutuTypes\";\r\nimport { kaikyuPointList, ogrePointList } from \"../common/KimetuConst\";\r\n\r\nexport class KimetuEquipmentTick {\r\n\r\n    player: Player;\r\n    num: number;\r\n\r\n    constructor(player: Player) {\r\n        this.player = player;\r\n        this.num = 0;\r\n    }\r\n\r\n    startMonitoring() {\r\n        this.num = system.runInterval(() => {\r\n            if (this.player.isValid) {\r\n                this.checkPlayerKimetuEquTick();\r\n                this.checkPlayerKaikyuTick();\r\n            } else {\r\n                system.clearRun(this.num);\r\n            }\r\n        }, 5);\r\n    }\r\n\r\n    async checkPlayerKaikyuTick() {\r\n        if (this.player.isValid) {\r\n\r\n            let kataMess = \"\";\r\n            let kaikyu = \"\";\r\n            let rankuPoint = \"\";\r\n\r\n            try {\r\n\r\n                const ogreRank = this.player.getProperty(\"kurokumaft:ogre_rank\") as string;\r\n                const kaikyuNum = this.player.getProperty(\"kurokumaft:kaikyu\") as number;\r\n                // 鬼化を優先\r\n                if (ogreRank !== \"none\") {\r\n                    const ogreMoon = this.player.getProperty(\"kurokumaft:ogre_moon\") as number;\r\n                    kaikyu = \"msg.kurokumaft:ogrerank_\" + ogreRank + ((\"quarter\" === ogreRank || \"crescent\" === ogreRank) ? ogreMoon : \"\") + \".value\";\r\n                    const becoming = this.player.getProperty(\"kurokumaft:ogre_becoming\") as number;\r\n                    const rank = ogrePointList.find((rank) => rank.name === ogreRank);\r\n                    rankuPoint = becoming + \"/\" + rank?.value;\r\n                } else if (kaikyuNum > 0) {\r\n                    kaikyu = \"msg.kurokumaft:kaikyu\"+ kaikyuNum +\".value\";\r\n                    const point = this.player.getProperty(\"kurokumaft:ogre_kill\") as number;\r\n                    rankuPoint = point + \"/\" + kaikyuPointList[kaikyuNum];\r\n                }\r\n\r\n                // 装備状態\r\n                const nichirintou_type = this.player.getProperty(\"kurokumaft:nichirintou_type\") as number;\r\n                const kokyuObject = KokyuObjects.find(ob => ob.type === nichirintou_type) as KokyuObject;\r\n                // 日輪刀を持っている\r\n                if (kokyuObject !== undefined) {\r\n                    if (this.player.isSneaking && !this.player.getDynamicProperty(\"kurokumaft:attack_time\")) {\r\n                        this.player.triggerEvent(\"kurokumaft:add_damage_guard\");\r\n                    } else {\r\n                        this.player.triggerEvent(\"kurokumaft:remove_damage_guard\");\r\n                    }\r\n                    if (kokyuObject.type > 1) {\r\n                        const kataNum = this.player.getProperty(\"kurokumaft:kokyu_kata\") as number;\r\n                        const index = kokyuObject.kata.findIndex((el) => el === kataNum);\r\n                        if (kokyuObject.type === 2) {\r\n                            if (index > 9) {\r\n                                if (kokyuObject.kata[index] !== undefined) {\r\n                                    kataMess = \"msg.kurokumaft:hinokami_kata\" + kokyuObject.kata[index] + \".value\";\r\n                                }\r\n                            } else {\r\n                                kataMess = \"msg.kurokumaft:\" + kokyuObject.kata_msg + kokyuObject.kata[index]+ \".value\";\r\n                            }\r\n                        } else {\r\n                            if (kokyuObject.kata[index] !== undefined) {\r\n                                kataMess = \"msg.kurokumaft:\" + kokyuObject.kata_msg + kokyuObject.kata[index]+ \".value\";\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.player.triggerEvent(\"kurokumaft:remove_damage_guard\");\r\n                }\r\n                const kekkizyutu_type = this.player.getProperty(\"kurokumaft:kekkizyutu_type\") as number;\r\n                const kekkizyutuObject = KekkizyutuObjects.find(ob => ob.type === kekkizyutu_type) as KekkizyutuObject;\r\n                // 血気術を持っている\r\n                if (kekkizyutuObject !== undefined) {\r\n                    const kataNum = this.player.getProperty(\"kurokumaft:kekkizyutu_kata\") as number;\r\n                    const index = kekkizyutuObject.kata.findIndex((el) => el === kataNum);\r\n                    if (kekkizyutuObject.kata[index] !== undefined) {\r\n                        kataMess = \"msg.kurokumaft:\" + kekkizyutuObject.kata_msg + kekkizyutuObject.kata[index]+ \".value\";\r\n                    }\r\n                }\r\n\r\n            } catch (error: any) {\r\n\r\n            } finally {\r\n                this.player.onScreenDisplay.setTitle(\r\n                    {\r\n                        rawtext:[\r\n                            {text:\"階級：\"},\r\n                            {translate:kaikyu},\r\n                            {text:\"\\n\"},\r\n                            {text:\"残り：\"},\r\n                            {translate:rankuPoint},\r\n                            {text:\"\\n\"},\r\n                            {translate:kataMess}\r\n                        ]\r\n                    },\r\n                    {\r\n                        stayDuration: 100,\r\n                        fadeInDuration: 0,\r\n                        fadeOutDuration: 1,\r\n                        subtitle: \"\"\r\n                    }\r\n                );\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    async checkPlayerKimetuEquTick() {\r\n\r\n        if (this.player.isValid) {\r\n\r\n            const equ = this.player.getComponent(EntityComponentTypes.Equippable) as EntityEquippableComponent;\r\n\r\n            // 装備状態\r\n            const mainHand = equ.getEquipment(EquipmentSlot.Mainhand);\r\n            if (mainHand !== undefined) {\r\n                const kokyuObject = KokyuObjects.find(ob => ob.itemName === mainHand.typeId) as KokyuObject;\r\n                // 日輪刀を持っている\r\n                if (kokyuObject !== undefined) {\r\n                    this.player.setProperty(\"kurokumaft:kekkizyutu_type\", 0);\r\n                    if (this.player.getProperty(\"kurokumaft:nichirintou_type\") !== kokyuObject.type) {\r\n                        this.player.setProperty(\"kurokumaft:nichirintou_type\", kokyuObject.type);\r\n                        if (kokyuObject.type > 1) {\r\n                            this.player.setProperty(\"kurokumaft:kokyu_kata\", kokyuObject.kata[0]);\r\n                            this.player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:\" + kokyuObject.kata_msg + kokyuObject.kata[0]+ \".value\"}]});\r\n                        }\r\n                        this.player.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                        this.player.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                        this.player.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n                        this.player.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n                        this.player.setProperty(\"kurokumaft:kokyu_ran\", 0);\r\n                        this.player.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n                        this.player.setProperty(\"kurokumaft:kekkizyutu_type\", 0);\r\n                        this.player.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                    }\r\n                // 日輪刀を持っていない\r\n                } else {\r\n                    this.player.setProperty(\"kurokumaft:nichirintou_type\", 0);\r\n                    this.player.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n\r\n                    const kekkizyutuObject = KekkizyutuObjects.find(ob => ob.itemName === mainHand.typeId) as KekkizyutuObject;\r\n                    // 血気術を持っている\r\n                    if (kekkizyutuObject !== undefined) {\r\n                        if (this.player.getProperty(\"kurokumaft:kekkizyutu_type\") !== kekkizyutuObject.type) {\r\n                            this.player.setProperty(\"kurokumaft:kekkizyutu_type\", kekkizyutuObject.type);\r\n                            this.player.setProperty(\"kurokumaft:kekkizyutu_kata\", kekkizyutuObject.kata[0]);\r\n                            this.player.onScreenDisplay.setActionBar({rawtext:[{translate:\"msg.kurokumaft:\" + kekkizyutuObject.kata_msg + kekkizyutuObject.kata[0]+ \".value\"}]});\r\n                        }\r\n                    // 血気術を持ってない\r\n                    } else {\r\n                        this.player.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                        this.player.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                        this.player.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n                        this.player.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n                        this.player.setProperty(\"kurokumaft:kokyu_ran\", 0);\r\n                        this.player.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n                        this.player.setProperty(\"kurokumaft:kekkizyutu_type\", 0);\r\n                        this.player.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                    }\r\n\r\n                }\r\n\r\n            } else {\r\n                if (this.player.getProperty(\"kurokumaft:nichirintou_type\") !== 0) {\r\n                    this.player.setProperty(\"kurokumaft:nichirintou_type\", 0);\r\n                    this.player.setProperty(\"kurokumaft:kokyu_kata\", 0);\r\n                }\r\n                if (this.player.getProperty(\"kurokumaft:kekkizyutu_type\") !== 0) {\r\n                    this.player.setProperty(\"kurokumaft:kekkizyutu_type\", 0);\r\n                    this.player.setProperty(\"kurokumaft:kekkizyutu_kata\", 0);\r\n                }\r\n                this.player.setProperty(\"kurokumaft:kokyu_use\", false);\r\n                this.player.setProperty(\"kurokumaft:kokyu_particle\", false);\r\n                this.player.setProperty(\"kurokumaft:kokyu_attack\", false);\r\n                this.player.setProperty(\"kurokumaft:kokyu_chage\", 0);\r\n                this.player.setProperty(\"kurokumaft:kokyu_ran\", 0);\r\n                this.player.setDynamicProperty(\"kurokumaft:chage_type\", undefined);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Entity, Player, system } from \"@minecraft/server\";\r\n\r\nclass Mutex {\r\n    private _lock = Promise.resolve();\r\n\r\n    async lock(): Promise<() => void> {\r\n        let unlockNext: () => void;\r\n        const willLock = new Promise<void>(resolve => {\r\n            unlockNext = resolve;\r\n        });\r\n\r\n        const unlock = () => unlockNext();\r\n\r\n        const previousLock = this._lock;\r\n        this._lock = this._lock.then(() => willLock);\r\n\r\n        await previousLock;\r\n        return unlock;\r\n    }\r\n}\r\n\r\nexport class RaisingStatusCheckClass {\r\n\r\n    private mutex = new Mutex();\r\n\r\n    async statusCheck(player: Player, ogre: Entity) {\r\n        const unlock = await this.mutex.lock();\r\n\r\n        try {\r\n            const kaikyu = player.getProperty(\"kurokumaft:kaikyu\") as number;\r\n            const count = player.getProperty(\"kurokumaft:ogre_kill\") as number;\r\n            const point = ogre.getProperty(\"kurokumaft:ogre_point\") as number;\r\n            let upPoint = count+point;\r\n            let killtarget=0;\r\n            switch(kaikyu) {\r\n                case 10:\r\n                    const rank = ogre.getProperty(\"kurokumaft:ogre_rank\") as string;\r\n                    if (rank === \"crescent\") {\r\n                        if (10 <= count+1) {\r\n                            player.setProperty(\"kurokumaft:kaikyu\", kaikyu+1);\r\n                            player.setProperty(\"kurokumaft:ogre_kill\", 0);\r\n                            system.runTimeout(() => {\r\n                                player.triggerEvent(\"kurokumaft:kaikyu_change\");\r\n                            }, 4);\r\n                        } else {\r\n                            player.setProperty(\"kurokumaft:ogre_kill\", count+1);\r\n                        }\r\n                    }\r\n                    break;\r\n                case 9:\r\n                    killtarget=killtarget+900;\r\n                case 8:\r\n                    killtarget=killtarget+800;\r\n                case 7:\r\n                    killtarget=killtarget+700;\r\n                case 6:\r\n                    killtarget=killtarget+600;\r\n                case 5:\r\n                    killtarget=killtarget+500;\r\n                case 4:\r\n                    killtarget=killtarget+400;\r\n                case 3:\r\n                    killtarget=killtarget+300;\r\n                case 2:\r\n                    killtarget=killtarget+200;\r\n                case 1:\r\n                    killtarget=killtarget+100;\r\n                    if (upPoint >= killtarget) {\r\n                        player.setProperty(\"kurokumaft:kaikyu\", kaikyu+1);\r\n                        player.setProperty(\"kurokumaft:ogre_kill\", 0);\r\n                        system.runTimeout(() => {\r\n                            player.triggerEvent(\"kurokumaft:kaikyu_change\");\r\n                        }, 4);\r\n                    } else {\r\n                        player.setProperty(\"kurokumaft:ogre_kill\", upPoint);\r\n                    }\r\n                    break\r\n                case 0:\r\n                    player.setProperty(\"kurokumaft:kaikyu\", kaikyu+1);\r\n                    player.setProperty(\"kurokumaft:ogre_kill\", 0);\r\n                    system.runTimeout(() => {\r\n                        player.triggerEvent(\"kurokumaft:kaikyu_change\");\r\n                    }, 4);\r\n                    break\r\n            }\r\n        } finally {\r\n            system.waitTicks(5).then(() => {\r\n                unlock();\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n"],"mappings":"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AO,OAAO;AAAA,EACzC;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;AAAA,EACf;AAAA,EACA;AAAA,IACI,YAAY;AAAA,IACZ,WAAW;A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","names":["world","system","EquipmentSlot","Player","EntityComponentTypes","ItemStack","EntityDamageCause","EntityComponentTypes","EquipmentSlot","Player","EntityComponentTypes","EntityComponentTypes","EquipmentSlot","world","Player","EntityComponentTypes","Player","Player","EntityComponentTypes","EntityComponentTypes","EquipmentSlot","Player","world","EntityComponentTypes","EntityComponentTypes","Player","filter","EntityComponentTypes","Player","Player","MolangVariableMap","system","TicksPerSecond","Player","Player","MolangVariableMap","system","TicksPerSecond","MolangVariableMap","system","TicksPerSecond","Player","Player","system","TicksPerSecond","distance","MolangVariableMap","system","Player","Player","system","MolangVariableMap","system","TicksPerSecond","Player","Player","system","MolangVariableMap","distance","TicksPerSecond","system","Player","Player","system","distance","TicksPerSecond","MolangVariableMap","system","TicksPerSecond","Player","Player","system","TicksPerSecond","MolangVariableMap","TicksPerSecond","TicksPerSecond","MolangVariableMap","system","TicksPerSecond","Player","Player","system","MolangVariableMap","distance","TicksPerSecond","TicksPerSecond","ItemStack","ItemComponentTypes","EntityComponentTypes","EquipmentSlot","ItemComponentTypes","ItemStack","EntityComponentTypes","EquipmentSlot","system","Player","Player","system","MolangVariableMap","system","TicksPerSecond","Player","Player","system","MolangVariableMap","distance","distance2","TicksPerSecond","MolangVariableMap","system","TicksPerSecond","Player","Player","system","MolangVariableMap","distance","TicksPerSecond","MolangVariableMap","system","TicksPerSecond","Player","Player","system","MolangVariableMap","TicksPerSecond","system","TicksPerSecond","Player","Player","system","distance","TicksPerSecond","EntityComponentTypes","MolangVariableMap","system","Player","Player","MolangVariableMap","system","distance","EntityComponentTypes","system","TicksPerSecond","system","TicksPerSecond","system","TicksPerSecond","system","TicksPerSecond","system","system","system","TicksPerSecond","system","TicksPerSecond","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","TicksPerSecond","system","TicksPerSecond","system","TicksPerSecond","system","TicksPerSecond","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","TicksPerSecond","system","TicksPerSecond","EntityComponentTypes","EquipmentSlot","system","TicksPerSecond","ItemStack","system","EntityComponentTypes","EquipmentSlot","EntityComponentTypes","EquipmentSlot","ItemStack","system","system","TicksPerSecond","EntityComponentTypes","EquipmentSlot","system","Player","EntityComponentTypes","EntityDamageCause","Player","EntityComponentTypes","Player","EntityDamageCause","EntityComponentTypes","Player","system","EntityComponentTypes","distanceR","distanceL","distance","EntityComponentTypes","MolangVariableMap","system","TicksPerSecond","Player","Player","EntityComponentTypes","MolangVariableMap","system","TicksPerSecond","Player","system","system","Player","EntityComponentTypes","EntityDamageCause","system","TicksPerSecond","Player","Player","system","EntityComponentTypes","TicksPerSecond","EntityDamageCause","EntityDamageCause","MolangVariableMap","system","Player","Player","MolangVariableMap","system","EntityDamageCause","BlockVolume","system","TicksPerSecond","Player","Player","BlockVolume","system","TicksPerSecond","system","system","system","TicksPerSecond","system","TicksPerSecond","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","system","EntityComponentTypes","MolangVariableMap","system","Player","Player","MolangVariableMap","system","distance","EntityComponentTypes","system","MolangVariableMap","system","TicksPerSecond","Player","Player","system","TicksPerSecond","distance","MolangVariableMap","system","TicksPerSecond","Player","world","EntityComponentTypes","EntityDamageCause","Player","distance","system","TicksPerSecond","EntityComponentTypes","world","EntityDamageCause","system","TicksPerSecond","system","TicksPerSecond","system","TicksPerSecond","system","TicksPerSecond","system","TicksPerSecond","system","TicksPerSecond","system","TicksPerSecond","Player","EntityComponentTypes","EntityDamageCause","Player","TicksPerSecond","system","EntityDamageCause","EntityComponentTypes","system","TicksPerSecond","doumaKekkizyutuLists","system","TicksPerSecond","EntityComponentTypes","EquipmentSlot","TicksPerSecond","TicksPerSecond","TicksPerSecond","system","EntityComponentTypes","TicksPerSecond","system","EntityComponentTypes","EntityComponentTypes","EquipmentSlot","system","system","rank","EntityComponentTypes","EquipmentSlot","system","ActionFormData","system","world","EntityComponentTypes","Player","EquipmentSlot","EntityDamageCause","KokyuObject","ItemStack","ActionFormData"],"file":"../scripts/kimetu_script.js"}